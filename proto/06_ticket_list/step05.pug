doctype html
html(lang="ja")
  head
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1")
    title チケット一覧 - Yuimarl
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous")
    link(rel="stylesheet" href="../../static/css/style1013a.css")
    link(rel="icon" type="image/x-icon" href="../../static/favicon.ico")
  body
    include ../includes/nav.pug

    main
      .py-3
        .container
          .row
            .col
              a(href="/project/list") 文化祭実行プロジェクト
              | &nbsp;&nbsp;
              small
                span.badge.bg-secondary.text-light オーナー
          .row.pt-3
            h3 チケット一覧

          .row.py-2.mx-1.border.bg-light
            .col-lg-3
              .row.pb-1
                label.col-lg-6.col-form-label(for="ticketid") チケットID
                .col-lg-6
                  input.form-control#ticketid(type="text" maxlength="10")
              .row.pb-1
                label.col-lg-6.form-label(for="parentid") 親チケットID
                .col-lg-6
                  input.form-control#parentid(type="text" maxlength="10")
            .col-lg-7
              .row.pb-1
                label.col-lg-4.col-form-label(for="ticketname")
                  | チケット名&nbsp;&nbsp;
                  small (部分一致)
                .col-lg-8
                  input.form-control#ticketname(type="text" maxlength="100")
              .row.pb-1
                label.col-lg-4.col-form-label(for="parentid") 担当者
                .col-lg-8.d-none#charge1
                  a(href="javascript:clickSelectCharge()" title="担当者を選択")
                    img.icon2(src="../../static/ionicons/person-circle-outline.svg")
                .col-lg-8#charge2
                  span#charge-sel
                    small [taro.yamada@mail.com]
                    |  山田太郎 
                  a(href="javascript:clickRemoveCharge()")
                    img.icon(src="../../static/ionicons/remove-circle-outline.svg" title="削除")
            .col-lg-2.pb-1
              .row
                .col
                  input.form-check-input#finished(type="checkbox")
                  label.form-check-label(for="finished") 完了済を表示
              .row.pb-2
                .col
                  input.form-check-input#priorityorder(type="checkbox")
                  label.form-check-label(for="priorityorder") 優先度順に表示
              .row
                .col.d-flex.align-items-end.justify-content-end
                  button.btn.btn-sm.btn-primary(type="button")
                    img.icon(src="../../static/ionicons/funnel-outline.svg")
                    | &nbsp;フィルター

          .row.pt-2
            .col
              .d-flex.justify-content-end.px-1
                nav
                  ul.pagination.pagination-sm
                    li.page-item.disabled
                      a.page-link(href="#" tabindex="-1" aria-label="前へ")
                        span(aria-hidden="true") &laquo;
                        span.visually-hidden 前へ
                    li.page-item
                      a.page-link.active(href="#")
                        | 1
                        span.visually-hidden (現ページ)
                    li.page-item
                      a.page-link(href="#") 2
                    li.page-item
                      a.page-link(href="#") 3
                    li.page-item
                      a.page-link(href="#" aria-label="次へ")
                        span(aria-hidden="true") &raquo;
                        span.visually-hidden 次へ

          .row
            .col
              .table-responsive
                table.table.table-sm.table-hover
                  thead
                    tr
                      th(scope="col") ID / チケット名
                      th(scope="col") 親チケット
                      th(scope="col") 開始日
                      th(scope="col") 終了日
                      th(scope="col") 優先度
                      th.text-right(scope="col") 進捗率
                  tbody
                    tr
                      td
                        a(href="") BN5
                        | &nbsp;文化祭出し物
                      td 
                      td 2024/09/02
                      td 
                      td 高
                      td.text-right 10%
                    tr
                      td
                        a(href="") BN10
                        | &nbsp;たこやき模擬店
                      td
                        a(href="") BN5
                        | &nbsp;文化祭出し物
                      td 2024/09/02
                      td 
                      td 高
                      td.text-right 25%

          .row
            .col
              a(href="step02.html" title="チケットを作成")
                img.icon3(src="../../static/ionicons/add-circle-outline.svg")

    .modal.fade#inChargeModal(tabindex="-1" aria-labelledby="chargeModalLabel" aria-hidden="true")
      .modal-dialog.modal-lg
        .modal-content
          .modal-header
            h1.modal-title.fs-5#addMemberModalLabel 担当者を選択
            button.btn-close(type="button" data-bs-dismiss="modal" aria-label="キャンセル")
          .modal-body
            .row.py-3
              .col
                table.table.table-hover
                  thead
                    tr
                      th(scope="col") 選択
                      th(scope="col") ロール
                      th(scope="col") メールアドレス
                      th(scope="col") 名前
                  tbody
                    tr
                      td
                        input.form-check-input#charge(type="radio" name="charge" value="1" checked)
                      td オーナー
                      td taro.yamada@mail.com
                      td 山田太郎
                    tr
                      td
                        input.form-check-input#charge(type="radio" name="charge" value="2")
                      td 管理者
                      td kazuto.tonoma@mail.com
                      td 殿馬一人
                    tr
                      td
                        input.form-check-input#charge(type="radio" name="charge" value="3")
                      td メンバー
                      td masami.iwaki@mail.com
                      td 岩鬼正美
                    tr
                      td
                        input.form-check-input#charge(type="radio" name="charge" value="4")
                      td 閲覧者
                      td satoru.satonaka@mail.com
                      td 里中智
          .modal-footer
            button.btn.btn-secondary(type="button" data-bs-dismiss="modal") キャンセル
            button.btn.btn-primary(type="button") 選択

    //- include ../includes/footer.pug
    footer.py-1.mt-3.bg-dark.text-light
      include ../includes/footer2.pug

      hr
      .container
        .row.align-items-end
          .col-md-2.text-end.py-1
            a.nav-link.px-2.px-md-0(href="step04.html") ← prev
          .col-md-8
            .alert.alert-danger.text-start(role="alert")
              | チケット一覧 step05.
              br
              | 担当者を選択すると、その人が担当者となっているチケットが一覧表示される。
          .col-md-2.text-start.py-1
            //- a.nav-link.px-2.px-md-0(href="step03.html") next →

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous")
    script(src="https://code.jquery.com/jquery-3.7.1.min.js")
    script.
      function clickSelectCharge() {
        new bootstrap.Modal("#inChargeModal").show();
      }
      //$(document).ready(function() {
      //  new bootstrap.Modal("#addParentModal").show();
      //});
