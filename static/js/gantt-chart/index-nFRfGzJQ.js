var ku=Object.defineProperty;var Lu=(h,e,r)=>e in h?ku(h,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):h[e]=r;var z=(h,e,r)=>Lu(h,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))l(m);new MutationObserver(m=>{for(const S of m)if(S.type==="childList")for(const T of S.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&l(T)}).observe(document,{childList:!0,subtree:!0});function r(m){const S={};return m.integrity&&(S.integrity=m.integrity),m.referrerPolicy&&(S.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?S.credentials="include":m.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function l(m){if(m.ep)return;m.ep=!0;const S=r(m);fetch(m.href,S)}})();var zi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Is(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Ca={exports:{}};(function(h,e){(function(r,l){h.exports=l()})(zi,function(){var r=1e3,l=6e4,m=36e5,S="millisecond",T="second",k="minute",j="hour",V="day",F="week",Y="month",ie="quarter",ce="year",J="date",Z="Invalid Date",_e=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,oe=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Be={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ve){var ue=["th","st","nd","rd"],ne=ve%100;return"["+ve+(ue[(ne-20)%10]||ue[ne]||ue[0])+"]"}},Ue=function(ve,ue,ne){var le=String(ve);return!le||le.length>=ue?ve:""+Array(ue+1-le.length).join(ne)+ve},Ee={s:Ue,z:function(ve){var ue=-ve.utcOffset(),ne=Math.abs(ue),le=Math.floor(ne/60),ae=ne%60;return(ue<=0?"+":"-")+Ue(le,2,"0")+":"+Ue(ae,2,"0")},m:function ve(ue,ne){if(ue.date()<ne.date())return-ve(ne,ue);var le=12*(ne.year()-ue.year())+(ne.month()-ue.month()),ae=ue.clone().add(le,Y),ge=ne-ae<0,ye=ue.clone().add(le+(ge?-1:1),Y);return+(-(le+(ne-ae)/(ge?ae-ye:ye-ae))||0)},a:function(ve){return ve<0?Math.ceil(ve)||0:Math.floor(ve)},p:function(ve){return{M:Y,y:ce,w:F,d:V,D:J,h:j,m:k,s:T,ms:S,Q:ie}[ve]||String(ve||"").toLowerCase().replace(/s$/,"")},u:function(ve){return ve===void 0}},$e="en",Ce={};Ce[$e]=Be;var f="$isDayjsObject",Je=function(ve){return ve instanceof rt||!(!ve||!ve[f])},Te=function ve(ue,ne,le){var ae;if(!ue)return $e;if(typeof ue=="string"){var ge=ue.toLowerCase();Ce[ge]&&(ae=ge),ne&&(Ce[ge]=ne,ae=ge);var ye=ue.split("-");if(!ae&&ye.length>1)return ve(ye[0])}else{var Me=ue.name;Ce[Me]=ue,ae=Me}return!le&&ae&&($e=ae),ae||!le&&$e},Oe=function(ve,ue){if(Je(ve))return ve.clone();var ne=typeof ue=="object"?ue:{};return ne.date=ve,ne.args=arguments,new rt(ne)},Se=Ee;Se.l=Te,Se.i=Je,Se.w=function(ve,ue){return Oe(ve,{locale:ue.$L,utc:ue.$u,x:ue.$x,$offset:ue.$offset})};var rt=function(){function ve(ne){this.$L=Te(ne.locale,null,!0),this.parse(ne),this.$x=this.$x||ne.x||{},this[f]=!0}var ue=ve.prototype;return ue.parse=function(ne){this.$d=function(le){var ae=le.date,ge=le.utc;if(ae===null)return new Date(NaN);if(Se.u(ae))return new Date;if(ae instanceof Date)return new Date(ae);if(typeof ae=="string"&&!/Z$/i.test(ae)){var ye=ae.match(_e);if(ye){var Me=ye[2]-1||0,We=(ye[7]||"0").substring(0,3);return ge?new Date(Date.UTC(ye[1],Me,ye[3]||1,ye[4]||0,ye[5]||0,ye[6]||0,We)):new Date(ye[1],Me,ye[3]||1,ye[4]||0,ye[5]||0,ye[6]||0,We)}}return new Date(ae)}(ne),this.init()},ue.init=function(){var ne=this.$d;this.$y=ne.getFullYear(),this.$M=ne.getMonth(),this.$D=ne.getDate(),this.$W=ne.getDay(),this.$H=ne.getHours(),this.$m=ne.getMinutes(),this.$s=ne.getSeconds(),this.$ms=ne.getMilliseconds()},ue.$utils=function(){return Se},ue.isValid=function(){return this.$d.toString()!==Z},ue.isSame=function(ne,le){var ae=Oe(ne);return this.startOf(le)<=ae&&ae<=this.endOf(le)},ue.isAfter=function(ne,le){return Oe(ne)<this.startOf(le)},ue.isBefore=function(ne,le){return this.endOf(le)<Oe(ne)},ue.$g=function(ne,le,ae){return Se.u(ne)?this[le]:this.set(ae,ne)},ue.unix=function(){return Math.floor(this.valueOf()/1e3)},ue.valueOf=function(){return this.$d.getTime()},ue.startOf=function(ne,le){var ae=this,ge=!!Se.u(le)||le,ye=Se.p(ne),Me=function(de,Xe){var ht=Se.w(ae.$u?Date.UTC(ae.$y,Xe,de):new Date(ae.$y,Xe,de),ae);return ge?ht:ht.endOf(V)},We=function(de,Xe){return Se.w(ae.toDate()[de].apply(ae.toDate("s"),(ge?[0,0,0,0]:[23,59,59,999]).slice(Xe)),ae)},Ke=this.$W,Ge=this.$M,Ze=this.$D,ut="set"+(this.$u?"UTC":"");switch(ye){case ce:return ge?Me(1,0):Me(31,11);case Y:return ge?Me(1,Ge):Me(0,Ge+1);case F:var pt=this.$locale().weekStart||0,gt=(Ke<pt?Ke+7:Ke)-pt;return Me(ge?Ze-gt:Ze+(6-gt),Ge);case V:case J:return We(ut+"Hours",0);case j:return We(ut+"Minutes",1);case k:return We(ut+"Seconds",2);case T:return We(ut+"Milliseconds",3);default:return this.clone()}},ue.endOf=function(ne){return this.startOf(ne,!1)},ue.$set=function(ne,le){var ae,ge=Se.p(ne),ye="set"+(this.$u?"UTC":""),Me=(ae={},ae[V]=ye+"Date",ae[J]=ye+"Date",ae[Y]=ye+"Month",ae[ce]=ye+"FullYear",ae[j]=ye+"Hours",ae[k]=ye+"Minutes",ae[T]=ye+"Seconds",ae[S]=ye+"Milliseconds",ae)[ge],We=ge===V?this.$D+(le-this.$W):le;if(ge===Y||ge===ce){var Ke=this.clone().set(J,1);Ke.$d[Me](We),Ke.init(),this.$d=Ke.set(J,Math.min(this.$D,Ke.daysInMonth())).$d}else Me&&this.$d[Me](We);return this.init(),this},ue.set=function(ne,le){return this.clone().$set(ne,le)},ue.get=function(ne){return this[Se.p(ne)]()},ue.add=function(ne,le){var ae,ge=this;ne=Number(ne);var ye=Se.p(le),Me=function(Ge){var Ze=Oe(ge);return Se.w(Ze.date(Ze.date()+Math.round(Ge*ne)),ge)};if(ye===Y)return this.set(Y,this.$M+ne);if(ye===ce)return this.set(ce,this.$y+ne);if(ye===V)return Me(1);if(ye===F)return Me(7);var We=(ae={},ae[k]=l,ae[j]=m,ae[T]=r,ae)[ye]||1,Ke=this.$d.getTime()+ne*We;return Se.w(Ke,this)},ue.subtract=function(ne,le){return this.add(-1*ne,le)},ue.format=function(ne){var le=this,ae=this.$locale();if(!this.isValid())return ae.invalidDate||Z;var ge=ne||"YYYY-MM-DDTHH:mm:ssZ",ye=Se.z(this),Me=this.$H,We=this.$m,Ke=this.$M,Ge=ae.weekdays,Ze=ae.months,ut=ae.meridiem,pt=function(Xe,ht,De,mt){return Xe&&(Xe[ht]||Xe(le,ge))||De[ht].slice(0,mt)},gt=function(Xe){return Se.s(Me%12||12,Xe,"0")},de=ut||function(Xe,ht,De){var mt=Xe<12?"AM":"PM";return De?mt.toLowerCase():mt};return ge.replace(oe,function(Xe,ht){return ht||function(De){switch(De){case"YY":return String(le.$y).slice(-2);case"YYYY":return Se.s(le.$y,4,"0");case"M":return Ke+1;case"MM":return Se.s(Ke+1,2,"0");case"MMM":return pt(ae.monthsShort,Ke,Ze,3);case"MMMM":return pt(Ze,Ke);case"D":return le.$D;case"DD":return Se.s(le.$D,2,"0");case"d":return String(le.$W);case"dd":return pt(ae.weekdaysMin,le.$W,Ge,2);case"ddd":return pt(ae.weekdaysShort,le.$W,Ge,3);case"dddd":return Ge[le.$W];case"H":return String(Me);case"HH":return Se.s(Me,2,"0");case"h":return gt(1);case"hh":return gt(2);case"a":return de(Me,We,!0);case"A":return de(Me,We,!1);case"m":return String(We);case"mm":return Se.s(We,2,"0");case"s":return String(le.$s);case"ss":return Se.s(le.$s,2,"0");case"SSS":return Se.s(le.$ms,3,"0");case"Z":return ye}return null}(Xe)||ye.replace(":","")})},ue.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ue.diff=function(ne,le,ae){var ge,ye=this,Me=Se.p(le),We=Oe(ne),Ke=(We.utcOffset()-this.utcOffset())*l,Ge=this-We,Ze=function(){return Se.m(ye,We)};switch(Me){case ce:ge=Ze()/12;break;case Y:ge=Ze();break;case ie:ge=Ze()/3;break;case F:ge=(Ge-Ke)/6048e5;break;case V:ge=(Ge-Ke)/864e5;break;case j:ge=Ge/m;break;case k:ge=Ge/l;break;case T:ge=Ge/r;break;default:ge=Ge}return ae?ge:Se.a(ge)},ue.daysInMonth=function(){return this.endOf(Y).$D},ue.$locale=function(){return Ce[this.$L]},ue.locale=function(ne,le){if(!ne)return this.$L;var ae=this.clone(),ge=Te(ne,le,!0);return ge&&(ae.$L=ge),ae},ue.clone=function(){return Se.w(this.$d,this)},ue.toDate=function(){return new Date(this.valueOf())},ue.toJSON=function(){return this.isValid()?this.toISOString():null},ue.toISOString=function(){return this.$d.toISOString()},ue.toString=function(){return this.$d.toUTCString()},ve}(),be=rt.prototype;return Oe.prototype=be,[["$ms",S],["$s",T],["$m",k],["$H",j],["$W",V],["$M",Y],["$y",ce],["$D",J]].forEach(function(ve){be[ve[1]]=function(ue){return this.$g(ue,ve[0],ve[1])}}),Oe.extend=function(ve,ue){return ve.$i||(ve(ue,rt,Oe),ve.$i=!0),Oe},Oe.locale=Te,Oe.isDayjs=Je,Oe.unix=function(ve){return Oe(1e3*ve)},Oe.en=Ce[$e],Oe.Ls=Ce,Oe.p={},Oe})})(Ca);var $u=Ca.exports;const nt=Is($u);var xa={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(h){(function(e,r){h.exports=e.document?r(e,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return r(l)}})(typeof window<"u"?window:zi,function(e,r){var l=[],m=Object.getPrototypeOf,S=l.slice,T=l.flat?function(t){return l.flat.call(t)}:function(t){return l.concat.apply([],t)},k=l.push,j=l.indexOf,V={},F=V.toString,Y=V.hasOwnProperty,ie=Y.toString,ce=ie.call(Object),J={},Z=function(i){return typeof i=="function"&&typeof i.nodeType!="number"&&typeof i.item!="function"},_e=function(i){return i!=null&&i===i.window},oe=e.document,Be={type:!0,src:!0,nonce:!0,noModule:!0};function Ue(t,i,o){o=o||oe;var c,g,v=o.createElement("script");if(v.text=t,i)for(c in Be)g=i[c]||i.getAttribute&&i.getAttribute(c),g&&v.setAttribute(c,g);o.head.appendChild(v).parentNode.removeChild(v)}function Ee(t){return t==null?t+"":typeof t=="object"||typeof t=="function"?V[F.call(t)]||"object":typeof t}var $e="3.7.1",Ce=/HTML$/i,f=function(t,i){return new f.fn.init(t,i)};f.fn=f.prototype={jquery:$e,constructor:f,length:0,toArray:function(){return S.call(this)},get:function(t){return t==null?S.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var i=f.merge(this.constructor(),t);return i.prevObject=this,i},each:function(t){return f.each(this,t)},map:function(t){return this.pushStack(f.map(this,function(i,o){return t.call(i,o,i)}))},slice:function(){return this.pushStack(S.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(f.grep(this,function(t,i){return(i+1)%2}))},odd:function(){return this.pushStack(f.grep(this,function(t,i){return i%2}))},eq:function(t){var i=this.length,o=+t+(t<0?i:0);return this.pushStack(o>=0&&o<i?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:k,sort:l.sort,splice:l.splice},f.extend=f.fn.extend=function(){var t,i,o,c,g,v,_=arguments[0]||{},L=1,O=arguments.length,I=!1;for(typeof _=="boolean"&&(I=_,_=arguments[L]||{},L++),typeof _!="object"&&!Z(_)&&(_={}),L===O&&(_=this,L--);L<O;L++)if((t=arguments[L])!=null)for(i in t)c=t[i],!(i==="__proto__"||_===c)&&(I&&c&&(f.isPlainObject(c)||(g=Array.isArray(c)))?(o=_[i],g&&!Array.isArray(o)?v=[]:!g&&!f.isPlainObject(o)?v={}:v=o,g=!1,_[i]=f.extend(I,v,c)):c!==void 0&&(_[i]=c));return _},f.extend({expando:"jQuery"+($e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var i,o;return!t||F.call(t)!=="[object Object]"?!1:(i=m(t),i?(o=Y.call(i,"constructor")&&i.constructor,typeof o=="function"&&ie.call(o)===ce):!0)},isEmptyObject:function(t){var i;for(i in t)return!1;return!0},globalEval:function(t,i,o){Ue(t,{nonce:i&&i.nonce},o)},each:function(t,i){var o,c=0;if(Je(t))for(o=t.length;c<o&&i.call(t[c],c,t[c])!==!1;c++);else for(c in t)if(i.call(t[c],c,t[c])===!1)break;return t},text:function(t){var i,o="",c=0,g=t.nodeType;if(!g)for(;i=t[c++];)o+=f.text(i);return g===1||g===11?t.textContent:g===9?t.documentElement.textContent:g===3||g===4?t.nodeValue:o},makeArray:function(t,i){var o=i||[];return t!=null&&(Je(Object(t))?f.merge(o,typeof t=="string"?[t]:t):k.call(o,t)),o},inArray:function(t,i,o){return i==null?-1:j.call(i,t,o)},isXMLDoc:function(t){var i=t&&t.namespaceURI,o=t&&(t.ownerDocument||t).documentElement;return!Ce.test(i||o&&o.nodeName||"HTML")},merge:function(t,i){for(var o=+i.length,c=0,g=t.length;c<o;c++)t[g++]=i[c];return t.length=g,t},grep:function(t,i,o){for(var c,g=[],v=0,_=t.length,L=!o;v<_;v++)c=!i(t[v],v),c!==L&&g.push(t[v]);return g},map:function(t,i,o){var c,g,v=0,_=[];if(Je(t))for(c=t.length;v<c;v++)g=i(t[v],v,o),g!=null&&_.push(g);else for(v in t)g=i(t[v],v,o),g!=null&&_.push(g);return T(_)},guid:1,support:J}),typeof Symbol=="function"&&(f.fn[Symbol.iterator]=l[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,i){V["[object "+i+"]"]=i.toLowerCase()});function Je(t){var i=!!t&&"length"in t&&t.length,o=Ee(t);return Z(t)||_e(t)?!1:o==="array"||i===0||typeof i=="number"&&i>0&&i-1 in t}function Te(t,i){return t.nodeName&&t.nodeName.toLowerCase()===i.toLowerCase()}var Oe=l.pop,Se=l.sort,rt=l.splice,be="[\\x20\\t\\r\\n\\f]",ve=new RegExp("^"+be+"+|((?:^|[^\\\\])(?:\\\\.)*)"+be+"+$","g");f.contains=function(t,i){var o=i&&i.parentNode;return t===o||!!(o&&o.nodeType===1&&(t.contains?t.contains(o):t.compareDocumentPosition&&t.compareDocumentPosition(o)&16))};var ue=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ne(t,i){return i?t==="\0"?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}f.escapeSelector=function(t){return(t+"").replace(ue,ne)};var le=oe,ae=k;(function(){var t,i,o,c,g,v=ae,_,L,O,I,B,W=f.expando,q=0,G=0,Ae=si(),je=si(),xe=si(),ct=si(),et=function(a,p){return a===p&&(g=!0),0},$t="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Pt="(?:\\\\[\\da-fA-F]{1,6}"+be+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Le="\\["+be+"*("+Pt+")(?:"+be+"*([*^$|!~]?=)"+be+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Pt+"))|)"+be+"*\\]",dn=":("+Pt+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Le+")*)|.*)\\)|)",qe=new RegExp(be+"+","g"),st=new RegExp("^"+be+"*,"+be+"*"),Wn=new RegExp("^"+be+"*([>+~]|"+be+")"+be+"*"),or=new RegExp(be+"|>"),Zt=new RegExp(dn),Vn=new RegExp("^"+Pt+"$"),It={ID:new RegExp("^#("+Pt+")"),CLASS:new RegExp("^\\.("+Pt+")"),TAG:new RegExp("^("+Pt+"|[*])"),ATTR:new RegExp("^"+Le),PSEUDO:new RegExp("^"+dn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+be+"*(even|odd|(([+-]|)(\\d*)n|)"+be+"*(?:([+-]|)"+be+"*(\\d+)|))"+be+"*\\)|)","i"),bool:new RegExp("^(?:"+$t+")$","i"),needsContext:new RegExp("^"+be+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+be+"*((?:-\\d)?\\d*)"+be+"*\\)|)(?=[^-]|$)","i")},xn=/^(?:input|select|textarea|button)$/i,pn=/^h\d$/i,Rt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ii=/[+~]/,en=new RegExp("\\\\[\\da-fA-F]{1,6}"+be+"?|\\\\([^\\r\\n\\f])","g"),mn=function(a,p){var b="0x"+a.slice(1)-65536;return p||(b<0?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,b&1023|56320))},ls=function(){On()},Fi=lr(function(a){return a.disabled===!0&&Te(a,"fieldset")},{dir:"parentNode",next:"legend"});function cs(){try{return _.activeElement}catch{}}try{v.apply(l=S.call(le.childNodes),le.childNodes),l[le.childNodes.length].nodeType}catch{v={apply:function(p,b){ae.apply(p,S.call(b))},call:function(p){ae.apply(p,S.call(arguments,1))}}}function Ye(a,p,b,w){var E,x,A,D,C,$,P,N=p&&p.ownerDocument,M=p?p.nodeType:9;if(b=b||[],typeof a!="string"||!a||M!==1&&M!==9&&M!==11)return b;if(!w&&(On(p),p=p||_,O)){if(M!==11&&(C=Rt.exec(a)))if(E=C[1]){if(M===9)if(A=p.getElementById(E)){if(A.id===E)return v.call(b,A),b}else return b;else if(N&&(A=N.getElementById(E))&&Ye.contains(p,A)&&A.id===E)return v.call(b,A),b}else{if(C[2])return v.apply(b,p.getElementsByTagName(a)),b;if((E=C[3])&&p.getElementsByClassName)return v.apply(b,p.getElementsByClassName(E)),b}if(!ct[a+" "]&&(!I||!I.test(a))){if(P=a,N=p,M===1&&(or.test(a)||Wn.test(a))){for(N=ii.test(a)&&Et(p.parentNode)||p,(N!=p||!J.scope)&&((D=p.getAttribute("id"))?D=f.escapeSelector(D):p.setAttribute("id",D=W)),$=ur(a),x=$.length;x--;)$[x]=(D?"#"+D:":scope")+" "+nn($[x]);P=$.join(",")}try{return v.apply(b,N.querySelectorAll(P)),b}catch{ct(a,!0)}finally{D===W&&p.removeAttribute("id")}}}return y(a.replace(ve,"$1"),p,b,w)}function si(){var a=[];function p(b,w){return a.push(b+" ")>i.cacheLength&&delete p[a.shift()],p[b+" "]=w}return p}function Wt(a){return a[W]=!0,a}function ar(a){var p=_.createElement("fieldset");try{return!!a(p)}catch{return!1}finally{p.parentNode&&p.parentNode.removeChild(p),p=null}}function oi(a){return function(p){return Te(p,"input")&&p.type===a}}function gn(a){return function(p){return(Te(p,"input")||Te(p,"button"))&&p.type===a}}function ot(a){return function(p){return"form"in p?p.parentNode&&p.disabled===!1?"label"in p?"label"in p.parentNode?p.parentNode.disabled===a:p.disabled===a:p.isDisabled===a||p.isDisabled!==!a&&Fi(p)===a:p.disabled===a:"label"in p?p.disabled===a:!1}}function tn(a){return Wt(function(p){return p=+p,Wt(function(b,w){for(var E,x=a([],b.length,p),A=x.length;A--;)b[E=x[A]]&&(b[E]=!(w[E]=b[E]))})})}function Et(a){return a&&typeof a.getElementsByTagName<"u"&&a}function On(a){var p,b=a?a.ownerDocument||a:le;return b==_||b.nodeType!==9||!b.documentElement||(_=b,L=_.documentElement,O=!f.isXMLDoc(_),B=L.matches||L.webkitMatchesSelector||L.msMatchesSelector,L.msMatchesSelector&&le!=_&&(p=_.defaultView)&&p.top!==p&&p.addEventListener("unload",ls),J.getById=ar(function(w){return L.appendChild(w).id=f.expando,!_.getElementsByName||!_.getElementsByName(f.expando).length}),J.disconnectedMatch=ar(function(w){return B.call(w,"*")}),J.scope=ar(function(){return _.querySelectorAll(":scope")}),J.cssHas=ar(function(){try{return _.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),J.getById?(i.filter.ID=function(w){var E=w.replace(en,mn);return function(x){return x.getAttribute("id")===E}},i.find.ID=function(w,E){if(typeof E.getElementById<"u"&&O){var x=E.getElementById(w);return x?[x]:[]}}):(i.filter.ID=function(w){var E=w.replace(en,mn);return function(x){var A=typeof x.getAttributeNode<"u"&&x.getAttributeNode("id");return A&&A.value===E}},i.find.ID=function(w,E){if(typeof E.getElementById<"u"&&O){var x,A,D,C=E.getElementById(w);if(C){if(x=C.getAttributeNode("id"),x&&x.value===w)return[C];for(D=E.getElementsByName(w),A=0;C=D[A++];)if(x=C.getAttributeNode("id"),x&&x.value===w)return[C]}return[]}}),i.find.TAG=function(w,E){return typeof E.getElementsByTagName<"u"?E.getElementsByTagName(w):E.querySelectorAll(w)},i.find.CLASS=function(w,E){if(typeof E.getElementsByClassName<"u"&&O)return E.getElementsByClassName(w)},I=[],ar(function(w){var E;L.appendChild(w).innerHTML="<a id='"+W+"' href='' disabled='disabled'></a><select id='"+W+"-\r\\' disabled='disabled'><option selected=''></option></select>",w.querySelectorAll("[selected]").length||I.push("\\["+be+"*(?:value|"+$t+")"),w.querySelectorAll("[id~="+W+"-]").length||I.push("~="),w.querySelectorAll("a#"+W+"+*").length||I.push(".#.+[+~]"),w.querySelectorAll(":checked").length||I.push(":checked"),E=_.createElement("input"),E.setAttribute("type","hidden"),w.appendChild(E).setAttribute("name","D"),L.appendChild(w).disabled=!0,w.querySelectorAll(":disabled").length!==2&&I.push(":enabled",":disabled"),E=_.createElement("input"),E.setAttribute("name",""),w.appendChild(E),w.querySelectorAll("[name='']").length||I.push("\\["+be+"*name"+be+"*="+be+`*(?:''|"")`)}),J.cssHas||I.push(":has"),I=I.length&&new RegExp(I.join("|")),et=function(w,E){if(w===E)return g=!0,0;var x=!w.compareDocumentPosition-!E.compareDocumentPosition;return x||(x=(w.ownerDocument||w)==(E.ownerDocument||E)?w.compareDocumentPosition(E):1,x&1||!J.sortDetached&&E.compareDocumentPosition(w)===x?w===_||w.ownerDocument==le&&Ye.contains(le,w)?-1:E===_||E.ownerDocument==le&&Ye.contains(le,E)?1:c?j.call(c,w)-j.call(c,E):0:x&4?-1:1)}),_}Ye.matches=function(a,p){return Ye(a,null,null,p)},Ye.matchesSelector=function(a,p){if(On(a),O&&!ct[p+" "]&&(!I||!I.test(p)))try{var b=B.call(a,p);if(b||J.disconnectedMatch||a.document&&a.document.nodeType!==11)return b}catch{ct(p,!0)}return Ye(p,_,null,[a]).length>0},Ye.contains=function(a,p){return(a.ownerDocument||a)!=_&&On(a),f.contains(a,p)},Ye.attr=function(a,p){(a.ownerDocument||a)!=_&&On(a);var b=i.attrHandle[p.toLowerCase()],w=b&&Y.call(i.attrHandle,p.toLowerCase())?b(a,p,!O):void 0;return w!==void 0?w:a.getAttribute(p)},Ye.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},f.uniqueSort=function(a){var p,b=[],w=0,E=0;if(g=!J.sortStable,c=!J.sortStable&&S.call(a,0),Se.call(a,et),g){for(;p=a[E++];)p===a[E]&&(w=b.push(E));for(;w--;)rt.call(a,b[w],1)}return c=null,a},f.fn.uniqueSort=function(){return this.pushStack(f.uniqueSort(S.apply(this)))},i=f.expr={cacheLength:50,createPseudo:Wt,match:It,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(en,mn),a[3]=(a[3]||a[4]||a[5]||"").replace(en,mn),a[2]==="~="&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),a[1].slice(0,3)==="nth"?(a[3]||Ye.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(a[3]==="even"||a[3]==="odd")),a[5]=+(a[7]+a[8]||a[3]==="odd")):a[3]&&Ye.error(a[0]),a},PSEUDO:function(a){var p,b=!a[6]&&a[2];return It.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":b&&Zt.test(b)&&(p=ur(b,!0))&&(p=b.indexOf(")",b.length-p)-b.length)&&(a[0]=a[0].slice(0,p),a[2]=b.slice(0,p)),a.slice(0,3))}},filter:{TAG:function(a){var p=a.replace(en,mn).toLowerCase();return a==="*"?function(){return!0}:function(b){return Te(b,p)}},CLASS:function(a){var p=Ae[a+" "];return p||(p=new RegExp("(^|"+be+")"+a+"("+be+"|$)"))&&Ae(a,function(b){return p.test(typeof b.className=="string"&&b.className||typeof b.getAttribute<"u"&&b.getAttribute("class")||"")})},ATTR:function(a,p,b){return function(w){var E=Ye.attr(w,a);return E==null?p==="!=":p?(E+="",p==="="?E===b:p==="!="?E!==b:p==="^="?b&&E.indexOf(b)===0:p==="*="?b&&E.indexOf(b)>-1:p==="$="?b&&E.slice(-b.length)===b:p==="~="?(" "+E.replace(qe," ")+" ").indexOf(b)>-1:p==="|="?E===b||E.slice(0,b.length+1)===b+"-":!1):!0}},CHILD:function(a,p,b,w,E){var x=a.slice(0,3)!=="nth",A=a.slice(-4)!=="last",D=p==="of-type";return w===1&&E===0?function(C){return!!C.parentNode}:function(C,$,P){var N,M,R,H,K,U=x!==A?"nextSibling":"previousSibling",re=C.parentNode,X=D&&C.nodeName.toLowerCase(),se=!P&&!D,ee=!1;if(re){if(x){for(;U;){for(R=C;R=R[U];)if(D?Te(R,X):R.nodeType===1)return!1;K=U=a==="only"&&!K&&"nextSibling"}return!0}if(K=[A?re.firstChild:re.lastChild],A&&se){for(M=re[W]||(re[W]={}),N=M[a]||[],H=N[0]===q&&N[1],ee=H&&N[2],R=H&&re.childNodes[H];R=++H&&R&&R[U]||(ee=H=0)||K.pop();)if(R.nodeType===1&&++ee&&R===C){M[a]=[q,H,ee];break}}else if(se&&(M=C[W]||(C[W]={}),N=M[a]||[],H=N[0]===q&&N[1],ee=H),ee===!1)for(;(R=++H&&R&&R[U]||(ee=H=0)||K.pop())&&!((D?Te(R,X):R.nodeType===1)&&++ee&&(se&&(M=R[W]||(R[W]={}),M[a]=[q,ee]),R===C)););return ee-=E,ee===w||ee%w===0&&ee/w>=0}}},PSEUDO:function(a,p){var b,w=i.pseudos[a]||i.setFilters[a.toLowerCase()]||Ye.error("unsupported pseudo: "+a);return w[W]?w(p):w.length>1?(b=[a,a,"",p],i.setFilters.hasOwnProperty(a.toLowerCase())?Wt(function(E,x){for(var A,D=w(E,p),C=D.length;C--;)A=j.call(E,D[C]),E[A]=!(x[A]=D[C])}):function(E){return w(E,0,b)}):w}},pseudos:{not:Wt(function(a){var p=[],b=[],w=d(a.replace(ve,"$1"));return w[W]?Wt(function(E,x,A,D){for(var C,$=w(E,null,D,[]),P=E.length;P--;)(C=$[P])&&(E[P]=!(x[P]=C))}):function(E,x,A){return p[0]=E,w(p,null,A,b),p[0]=null,!b.pop()}}),has:Wt(function(a){return function(p){return Ye(a,p).length>0}}),contains:Wt(function(a){return a=a.replace(en,mn),function(p){return(p.textContent||f.text(p)).indexOf(a)>-1}}),lang:Wt(function(a){return Vn.test(a||"")||Ye.error("unsupported lang: "+a),a=a.replace(en,mn).toLowerCase(),function(p){var b;do if(b=O?p.lang:p.getAttribute("xml:lang")||p.getAttribute("lang"))return b=b.toLowerCase(),b===a||b.indexOf(a+"-")===0;while((p=p.parentNode)&&p.nodeType===1);return!1}}),target:function(a){var p=e.location&&e.location.hash;return p&&p.slice(1)===a.id},root:function(a){return a===L},focus:function(a){return a===cs()&&_.hasFocus()&&!!(a.type||a.href||~a.tabIndex)},enabled:ot(!1),disabled:ot(!0),checked:function(a){return Te(a,"input")&&!!a.checked||Te(a,"option")&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!i.pseudos.empty(a)},header:function(a){return pn.test(a.nodeName)},input:function(a){return xn.test(a.nodeName)},button:function(a){return Te(a,"input")&&a.type==="button"||Te(a,"button")},text:function(a){var p;return Te(a,"input")&&a.type==="text"&&((p=a.getAttribute("type"))==null||p.toLowerCase()==="text")},first:tn(function(){return[0]}),last:tn(function(a,p){return[p-1]}),eq:tn(function(a,p,b){return[b<0?b+p:b]}),even:tn(function(a,p){for(var b=0;b<p;b+=2)a.push(b);return a}),odd:tn(function(a,p){for(var b=1;b<p;b+=2)a.push(b);return a}),lt:tn(function(a,p,b){var w;for(b<0?w=b+p:b>p?w=p:w=b;--w>=0;)a.push(w);return a}),gt:tn(function(a,p,b){for(var w=b<0?b+p:b;++w<p;)a.push(w);return a})}},i.pseudos.nth=i.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=oi(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=gn(t);function ai(){}ai.prototype=i.filters=i.pseudos,i.setFilters=new ai;function ur(a,p){var b,w,E,x,A,D,C,$=je[a+" "];if($)return p?0:$.slice(0);for(A=a,D=[],C=i.preFilter;A;){(!b||(w=st.exec(A)))&&(w&&(A=A.slice(w[0].length)||A),D.push(E=[])),b=!1,(w=Wn.exec(A))&&(b=w.shift(),E.push({value:b,type:w[0].replace(ve," ")}),A=A.slice(b.length));for(x in i.filter)(w=It[x].exec(A))&&(!C[x]||(w=C[x](w)))&&(b=w.shift(),E.push({value:b,type:x,matches:w}),A=A.slice(b.length));if(!b)break}return p?A.length:A?Ye.error(a):je(a,D).slice(0)}function nn(a){for(var p=0,b=a.length,w="";p<b;p++)w+=a[p].value;return w}function lr(a,p,b){var w=p.dir,E=p.next,x=E||w,A=b&&x==="parentNode",D=G++;return p.first?function(C,$,P){for(;C=C[w];)if(C.nodeType===1||A)return a(C,$,P);return!1}:function(C,$,P){var N,M,R=[q,D];if(P){for(;C=C[w];)if((C.nodeType===1||A)&&a(C,$,P))return!0}else for(;C=C[w];)if(C.nodeType===1||A)if(M=C[W]||(C[W]={}),E&&Te(C,E))C=C[w]||C;else{if((N=M[x])&&N[0]===q&&N[1]===D)return R[2]=N[2];if(M[x]=R,R[2]=a(C,$,P))return!0}return!1}}function Dn(a){return a.length>1?function(p,b,w){for(var E=a.length;E--;)if(!a[E](p,b,w))return!1;return!0}:a[0]}function Nn(a,p,b){for(var w=0,E=p.length;w<E;w++)Ye(a,p[w],b);return b}function $r(a,p,b,w,E){for(var x,A=[],D=0,C=a.length,$=p!=null;D<C;D++)(x=a[D])&&(!b||b(x,w,E))&&(A.push(x),$&&p.push(D));return A}function n(a,p,b,w,E,x){return w&&!w[W]&&(w=n(w)),E&&!E[W]&&(E=n(E,x)),Wt(function(A,D,C,$){var P,N,M,R,H=[],K=[],U=D.length,re=A||Nn(p||"*",C.nodeType?[C]:C,[]),X=a&&(A||!p)?$r(re,H,a,C,$):re;if(b?(R=E||(A?a:U||w)?[]:D,b(X,R,C,$)):R=X,w)for(P=$r(R,K),w(P,[],C,$),N=P.length;N--;)(M=P[N])&&(R[K[N]]=!(X[K[N]]=M));if(A){if(E||a){if(E){for(P=[],N=R.length;N--;)(M=R[N])&&P.push(X[N]=M);E(null,R=[],P,$)}for(N=R.length;N--;)(M=R[N])&&(P=E?j.call(A,M):H[N])>-1&&(A[P]=!(D[P]=M))}}else R=$r(R===D?R.splice(U,R.length):R),E?E(null,D,R,$):v.apply(D,R)})}function s(a){for(var p,b,w,E=a.length,x=i.relative[a[0].type],A=x||i.relative[" "],D=x?1:0,C=lr(function(N){return N===p},A,!0),$=lr(function(N){return j.call(p,N)>-1},A,!0),P=[function(N,M,R){var H=!x&&(R||M!=o)||((p=M).nodeType?C(N,M,R):$(N,M,R));return p=null,H}];D<E;D++)if(b=i.relative[a[D].type])P=[lr(Dn(P),b)];else{if(b=i.filter[a[D].type].apply(null,a[D].matches),b[W]){for(w=++D;w<E&&!i.relative[a[w].type];w++);return n(D>1&&Dn(P),D>1&&nn(a.slice(0,D-1).concat({value:a[D-2].type===" "?"*":""})).replace(ve,"$1"),b,D<w&&s(a.slice(D,w)),w<E&&s(a=a.slice(w)),w<E&&nn(a))}P.push(b)}return Dn(P)}function u(a,p){var b=p.length>0,w=a.length>0,E=function(x,A,D,C,$){var P,N,M,R=0,H="0",K=x&&[],U=[],re=o,X=x||w&&i.find.TAG("*",$),se=q+=re==null?1:Math.random()||.1,ee=X.length;for($&&(o=A==_||A||$);H!==ee&&(P=X[H])!=null;H++){if(w&&P){for(N=0,!A&&P.ownerDocument!=_&&(On(P),D=!O);M=a[N++];)if(M(P,A||_,D)){v.call(C,P);break}$&&(q=se)}b&&((P=!M&&P)&&R--,x&&K.push(P))}if(R+=H,b&&H!==R){for(N=0;M=p[N++];)M(K,U,A,D);if(x){if(R>0)for(;H--;)K[H]||U[H]||(U[H]=Oe.call(C));U=$r(U)}v.apply(C,U),$&&!x&&U.length>0&&R+p.length>1&&f.uniqueSort(C)}return $&&(q=se,o=re),K};return b?Wt(E):E}function d(a,p){var b,w=[],E=[],x=xe[a+" "];if(!x){for(p||(p=ur(a)),b=p.length;b--;)x=s(p[b]),x[W]?w.push(x):E.push(x);x=xe(a,u(E,w)),x.selector=a}return x}function y(a,p,b,w){var E,x,A,D,C,$=typeof a=="function"&&a,P=!w&&ur(a=$.selector||a);if(b=b||[],P.length===1){if(x=P[0]=P[0].slice(0),x.length>2&&(A=x[0]).type==="ID"&&p.nodeType===9&&O&&i.relative[x[1].type]){if(p=(i.find.ID(A.matches[0].replace(en,mn),p)||[])[0],p)$&&(p=p.parentNode);else return b;a=a.slice(x.shift().value.length)}for(E=It.needsContext.test(a)?0:x.length;E--&&(A=x[E],!i.relative[D=A.type]);)if((C=i.find[D])&&(w=C(A.matches[0].replace(en,mn),ii.test(x[0].type)&&Et(p.parentNode)||p))){if(x.splice(E,1),a=w.length&&nn(x),!a)return v.apply(b,w),b;break}}return($||d(a,P))(w,p,!O,b,!p||ii.test(a)&&Et(p.parentNode)||p),b}J.sortStable=W.split("").sort(et).join("")===W,On(),J.sortDetached=ar(function(a){return a.compareDocumentPosition(_.createElement("fieldset"))&1}),f.find=Ye,f.expr[":"]=f.expr.pseudos,f.unique=f.uniqueSort,Ye.compile=d,Ye.select=y,Ye.setDocument=On,Ye.tokenize=ur,Ye.escape=f.escapeSelector,Ye.getText=f.text,Ye.isXML=f.isXMLDoc,Ye.selectors=f.expr,Ye.support=f.support,Ye.uniqueSort=f.uniqueSort})();var ge=function(t,i,o){for(var c=[],g=o!==void 0;(t=t[i])&&t.nodeType!==9;)if(t.nodeType===1){if(g&&f(t).is(o))break;c.push(t)}return c},ye=function(t,i){for(var o=[];t;t=t.nextSibling)t.nodeType===1&&t!==i&&o.push(t);return o},Me=f.expr.match.needsContext,We=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ke(t,i,o){return Z(i)?f.grep(t,function(c,g){return!!i.call(c,g,c)!==o}):i.nodeType?f.grep(t,function(c){return c===i!==o}):typeof i!="string"?f.grep(t,function(c){return j.call(i,c)>-1!==o}):f.filter(i,t,o)}f.filter=function(t,i,o){var c=i[0];return o&&(t=":not("+t+")"),i.length===1&&c.nodeType===1?f.find.matchesSelector(c,t)?[c]:[]:f.find.matches(t,f.grep(i,function(g){return g.nodeType===1}))},f.fn.extend({find:function(t){var i,o,c=this.length,g=this;if(typeof t!="string")return this.pushStack(f(t).filter(function(){for(i=0;i<c;i++)if(f.contains(g[i],this))return!0}));for(o=this.pushStack([]),i=0;i<c;i++)f.find(t,g[i],o);return c>1?f.uniqueSort(o):o},filter:function(t){return this.pushStack(Ke(this,t||[],!1))},not:function(t){return this.pushStack(Ke(this,t||[],!0))},is:function(t){return!!Ke(this,typeof t=="string"&&Me.test(t)?f(t):t||[],!1).length}});var Ge,Ze=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ut=f.fn.init=function(t,i,o){var c,g;if(!t)return this;if(o=o||Ge,typeof t=="string")if(t[0]==="<"&&t[t.length-1]===">"&&t.length>=3?c=[null,t,null]:c=Ze.exec(t),c&&(c[1]||!i))if(c[1]){if(i=i instanceof f?i[0]:i,f.merge(this,f.parseHTML(c[1],i&&i.nodeType?i.ownerDocument||i:oe,!0)),We.test(c[1])&&f.isPlainObject(i))for(c in i)Z(this[c])?this[c](i[c]):this.attr(c,i[c]);return this}else return g=oe.getElementById(c[2]),g&&(this[0]=g,this.length=1),this;else return!i||i.jquery?(i||o).find(t):this.constructor(i).find(t);else{if(t.nodeType)return this[0]=t,this.length=1,this;if(Z(t))return o.ready!==void 0?o.ready(t):t(f)}return f.makeArray(t,this)};ut.prototype=f.fn,Ge=f(oe);var pt=/^(?:parents|prev(?:Until|All))/,gt={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({has:function(t){var i=f(t,this),o=i.length;return this.filter(function(){for(var c=0;c<o;c++)if(f.contains(this,i[c]))return!0})},closest:function(t,i){var o,c=0,g=this.length,v=[],_=typeof t!="string"&&f(t);if(!Me.test(t)){for(;c<g;c++)for(o=this[c];o&&o!==i;o=o.parentNode)if(o.nodeType<11&&(_?_.index(o)>-1:o.nodeType===1&&f.find.matchesSelector(o,t))){v.push(o);break}}return this.pushStack(v.length>1?f.uniqueSort(v):v)},index:function(t){return t?typeof t=="string"?j.call(f(t),this[0]):j.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,i){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(t,i))))},addBack:function(t){return this.add(t==null?this.prevObject:this.prevObject.filter(t))}});function de(t,i){for(;(t=t[i])&&t.nodeType!==1;);return t}f.each({parent:function(t){var i=t.parentNode;return i&&i.nodeType!==11?i:null},parents:function(t){return ge(t,"parentNode")},parentsUntil:function(t,i,o){return ge(t,"parentNode",o)},next:function(t){return de(t,"nextSibling")},prev:function(t){return de(t,"previousSibling")},nextAll:function(t){return ge(t,"nextSibling")},prevAll:function(t){return ge(t,"previousSibling")},nextUntil:function(t,i,o){return ge(t,"nextSibling",o)},prevUntil:function(t,i,o){return ge(t,"previousSibling",o)},siblings:function(t){return ye((t.parentNode||{}).firstChild,t)},children:function(t){return ye(t.firstChild)},contents:function(t){return t.contentDocument!=null&&m(t.contentDocument)?t.contentDocument:(Te(t,"template")&&(t=t.content||t),f.merge([],t.childNodes))}},function(t,i){f.fn[t]=function(o,c){var g=f.map(this,i,o);return t.slice(-5)!=="Until"&&(c=o),c&&typeof c=="string"&&(g=f.filter(c,g)),this.length>1&&(gt[t]||f.uniqueSort(g),pt.test(t)&&g.reverse()),this.pushStack(g)}});var Xe=/[^\x20\t\r\n\f]+/g;function ht(t){var i={};return f.each(t.match(Xe)||[],function(o,c){i[c]=!0}),i}f.Callbacks=function(t){t=typeof t=="string"?ht(t):f.extend({},t);var i,o,c,g,v=[],_=[],L=-1,O=function(){for(g=g||t.once,c=i=!0;_.length;L=-1)for(o=_.shift();++L<v.length;)v[L].apply(o[0],o[1])===!1&&t.stopOnFalse&&(L=v.length,o=!1);t.memory||(o=!1),i=!1,g&&(o?v=[]:v="")},I={add:function(){return v&&(o&&!i&&(L=v.length-1,_.push(o)),function B(W){f.each(W,function(q,G){Z(G)?(!t.unique||!I.has(G))&&v.push(G):G&&G.length&&Ee(G)!=="string"&&B(G)})}(arguments),o&&!i&&O()),this},remove:function(){return f.each(arguments,function(B,W){for(var q;(q=f.inArray(W,v,q))>-1;)v.splice(q,1),q<=L&&L--}),this},has:function(B){return B?f.inArray(B,v)>-1:v.length>0},empty:function(){return v&&(v=[]),this},disable:function(){return g=_=[],v=o="",this},disabled:function(){return!v},lock:function(){return g=_=[],!o&&!i&&(v=o=""),this},locked:function(){return!!g},fireWith:function(B,W){return g||(W=W||[],W=[B,W.slice?W.slice():W],_.push(W),i||O()),this},fire:function(){return I.fireWith(this,arguments),this},fired:function(){return!!c}};return I};function De(t){return t}function mt(t){throw t}function Fr(t,i,o,c){var g;try{t&&Z(g=t.promise)?g.call(t).done(i).fail(o):t&&Z(g=t.then)?g.call(t,i,o):i.apply(void 0,[t].slice(c))}catch(v){o.apply(void 0,[v])}}f.extend({Deferred:function(t){var i=[["notify","progress",f.Callbacks("memory"),f.Callbacks("memory"),2],["resolve","done",f.Callbacks("once memory"),f.Callbacks("once memory"),0,"resolved"],["reject","fail",f.Callbacks("once memory"),f.Callbacks("once memory"),1,"rejected"]],o="pending",c={state:function(){return o},always:function(){return g.done(arguments).fail(arguments),this},catch:function(v){return c.then(null,v)},pipe:function(){var v=arguments;return f.Deferred(function(_){f.each(i,function(L,O){var I=Z(v[O[4]])&&v[O[4]];g[O[1]](function(){var B=I&&I.apply(this,arguments);B&&Z(B.promise)?B.promise().progress(_.notify).done(_.resolve).fail(_.reject):_[O[0]+"With"](this,I?[B]:arguments)})}),v=null}).promise()},then:function(v,_,L){var O=0;function I(B,W,q,G){return function(){var Ae=this,je=arguments,xe=function(){var et,$t;if(!(B<O)){if(et=q.apply(Ae,je),et===W.promise())throw new TypeError("Thenable self-resolution");$t=et&&(typeof et=="object"||typeof et=="function")&&et.then,Z($t)?G?$t.call(et,I(O,W,De,G),I(O,W,mt,G)):(O++,$t.call(et,I(O,W,De,G),I(O,W,mt,G),I(O,W,De,W.notifyWith))):(q!==De&&(Ae=void 0,je=[et]),(G||W.resolveWith)(Ae,je))}},ct=G?xe:function(){try{xe()}catch(et){f.Deferred.exceptionHook&&f.Deferred.exceptionHook(et,ct.error),B+1>=O&&(q!==mt&&(Ae=void 0,je=[et]),W.rejectWith(Ae,je))}};B?ct():(f.Deferred.getErrorHook?ct.error=f.Deferred.getErrorHook():f.Deferred.getStackHook&&(ct.error=f.Deferred.getStackHook()),e.setTimeout(ct))}}return f.Deferred(function(B){i[0][3].add(I(0,B,Z(L)?L:De,B.notifyWith)),i[1][3].add(I(0,B,Z(v)?v:De)),i[2][3].add(I(0,B,Z(_)?_:mt))}).promise()},promise:function(v){return v!=null?f.extend(v,c):c}},g={};return f.each(i,function(v,_){var L=_[2],O=_[5];c[_[1]]=L.add,O&&L.add(function(){o=O},i[3-v][2].disable,i[3-v][3].disable,i[0][2].lock,i[0][3].lock),L.add(_[3].fire),g[_[0]]=function(){return g[_[0]+"With"](this===g?void 0:this,arguments),this},g[_[0]+"With"]=L.fireWith}),c.promise(g),t&&t.call(g,g),g},when:function(t){var i=arguments.length,o=i,c=Array(o),g=S.call(arguments),v=f.Deferred(),_=function(L){return function(O){c[L]=this,g[L]=arguments.length>1?S.call(arguments):O,--i||v.resolveWith(c,g)}};if(i<=1&&(Fr(t,v.done(_(o)).resolve,v.reject,!i),v.state()==="pending"||Z(g[o]&&g[o].then)))return v.then();for(;o--;)Fr(g[o],_(o),v.reject);return v.promise()}});var un=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;f.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&un.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},f.readyException=function(t){e.setTimeout(function(){throw t})};var Qn=f.Deferred();f.fn.ready=function(t){return Qn.then(t).catch(function(i){f.readyException(i)}),this},f.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--f.readyWait:f.isReady)||(f.isReady=!0,!(t!==!0&&--f.readyWait>0)&&Qn.resolveWith(oe,[f]))}}),f.ready.then=Qn.then;function In(){oe.removeEventListener("DOMContentLoaded",In),e.removeEventListener("load",In),f.ready()}oe.readyState==="complete"||oe.readyState!=="loading"&&!oe.documentElement.doScroll?e.setTimeout(f.ready):(oe.addEventListener("DOMContentLoaded",In),e.addEventListener("load",In));var qt=function(t,i,o,c,g,v,_){var L=0,O=t.length,I=o==null;if(Ee(o)==="object"){g=!0;for(L in o)qt(t,i,L,o[L],!0,v,_)}else if(c!==void 0&&(g=!0,Z(c)||(_=!0),I&&(_?(i.call(t,c),i=null):(I=i,i=function(B,W,q){return I.call(f(B),q)})),i))for(;L<O;L++)i(t[L],o,_?c:c.call(t[L],L,i(t[L],o)));return g?t:I?i.call(t):O?i(t[0],o):v},Ai=/^-ms-/,Bt=/-([a-z])/g;function vt(t,i){return i.toUpperCase()}function bt(t){return t.replace(Ai,"ms-").replace(Bt,vt)}var kt=function(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType};function zt(){this.expando=f.expando+zt.uid++}zt.uid=1,zt.prototype={cache:function(t){var i=t[this.expando];return i||(i={},kt(t)&&(t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,configurable:!0}))),i},set:function(t,i,o){var c,g=this.cache(t);if(typeof i=="string")g[bt(i)]=o;else for(c in i)g[bt(c)]=i[c];return g},get:function(t,i){return i===void 0?this.cache(t):t[this.expando]&&t[this.expando][bt(i)]},access:function(t,i,o){return i===void 0||i&&typeof i=="string"&&o===void 0?this.get(t,i):(this.set(t,i,o),o!==void 0?o:i)},remove:function(t,i){var o,c=t[this.expando];if(c!==void 0){if(i!==void 0)for(Array.isArray(i)?i=i.map(bt):(i=bt(i),i=i in c?[i]:i.match(Xe)||[]),o=i.length;o--;)delete c[i[o]];(i===void 0||f.isEmptyObject(c))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var i=t[this.expando];return i!==void 0&&!f.isEmptyObject(i)}};var pe=new zt,at=new zt,Jn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_n=/[A-Z]/g;function Ci(t){return t==="true"?!0:t==="false"?!1:t==="null"?null:t===+t+""?+t:Jn.test(t)?JSON.parse(t):t}function yr(t,i,o){var c;if(o===void 0&&t.nodeType===1)if(c="data-"+i.replace(_n,"-$&").toLowerCase(),o=t.getAttribute(c),typeof o=="string"){try{o=Ci(o)}catch{}at.set(t,i,o)}else o=void 0;return o}f.extend({hasData:function(t){return at.hasData(t)||pe.hasData(t)},data:function(t,i,o){return at.access(t,i,o)},removeData:function(t,i){at.remove(t,i)},_data:function(t,i,o){return pe.access(t,i,o)},_removeData:function(t,i){pe.remove(t,i)}}),f.fn.extend({data:function(t,i){var o,c,g,v=this[0],_=v&&v.attributes;if(t===void 0){if(this.length&&(g=at.get(v),v.nodeType===1&&!pe.get(v,"hasDataAttrs"))){for(o=_.length;o--;)_[o]&&(c=_[o].name,c.indexOf("data-")===0&&(c=bt(c.slice(5)),yr(v,c,g[c])));pe.set(v,"hasDataAttrs",!0)}return g}return typeof t=="object"?this.each(function(){at.set(this,t)}):qt(this,function(L){var O;if(v&&L===void 0)return O=at.get(v,t),O!==void 0||(O=yr(v,t),O!==void 0)?O:void 0;this.each(function(){at.set(this,t,L)})},null,i,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){at.remove(this,t)})}}),f.extend({queue:function(t,i,o){var c;if(t)return i=(i||"fx")+"queue",c=pe.get(t,i),o&&(!c||Array.isArray(o)?c=pe.access(t,i,f.makeArray(o)):c.push(o)),c||[]},dequeue:function(t,i){i=i||"fx";var o=f.queue(t,i),c=o.length,g=o.shift(),v=f._queueHooks(t,i),_=function(){f.dequeue(t,i)};g==="inprogress"&&(g=o.shift(),c--),g&&(i==="fx"&&o.unshift("inprogress"),delete v.stop,g.call(t,_,v)),!c&&v&&v.empty.fire()},_queueHooks:function(t,i){var o=i+"queueHooks";return pe.get(t,o)||pe.access(t,o,{empty:f.Callbacks("once memory").add(function(){pe.remove(t,[i+"queue",o])})})}}),f.fn.extend({queue:function(t,i){var o=2;return typeof t!="string"&&(i=t,t="fx",o--),arguments.length<o?f.queue(this[0],t):i===void 0?this:this.each(function(){var c=f.queue(this,t,i);f._queueHooks(this,t),t==="fx"&&c[0]!=="inprogress"&&f.dequeue(this,t)})},dequeue:function(t){return this.each(function(){f.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var o,c=1,g=f.Deferred(),v=this,_=this.length,L=function(){--c||g.resolveWith(v,[v])};for(typeof t!="string"&&(i=t,t=void 0),t=t||"fx";_--;)o=pe.get(v[_],t+"queueHooks"),o&&o.empty&&(c++,o.empty.add(L));return L(),g.promise(i)}});var wn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,En=new RegExp("^(?:([+-])=|)("+wn+")([a-z%]*)$","i"),Kt=["Top","Right","Bottom","Left"],_t=oe.documentElement,me=function(t){return f.contains(t.ownerDocument,t)},br={composed:!0};_t.getRootNode&&(me=function(t){return f.contains(t.ownerDocument,t)||t.getRootNode(br)===t.ownerDocument});var Xt=function(t,i){return t=i||t,t.style.display==="none"||t.style.display===""&&me(t)&&f.css(t,"display")==="none"};function _r(t,i,o,c){var g,v,_=20,L=c?function(){return c.cur()}:function(){return f.css(t,i,"")},O=L(),I=o&&o[3]||(f.cssNumber[i]?"":"px"),B=t.nodeType&&(f.cssNumber[i]||I!=="px"&&+O)&&En.exec(f.css(t,i));if(B&&B[3]!==I){for(O=O/2,I=I||B[3],B=+O||1;_--;)f.style(t,i,B+I),(1-v)*(1-(v=L()/O||.5))<=0&&(_=0),B=B/v;B=B*2,f.style(t,i,B+I),o=o||[]}return o&&(B=+B||+O||0,g=o[1]?B+(o[1]+1)*o[2]:+o[2],c&&(c.unit=I,c.start=B,c.end=g)),g}var fe={};function xi(t){var i,o=t.ownerDocument,c=t.nodeName,g=fe[c];return g||(i=o.body.appendChild(o.createElement(c)),g=f.css(i,"display"),i.parentNode.removeChild(i),g==="none"&&(g="block"),fe[c]=g,g)}function Rn(t,i){for(var o,c,g=[],v=0,_=t.length;v<_;v++)c=t[v],c.style&&(o=c.style.display,i?(o==="none"&&(g[v]=pe.get(c,"display")||null,g[v]||(c.style.display="")),c.style.display===""&&Xt(c)&&(g[v]=xi(c))):o!=="none"&&(g[v]="none",pe.set(c,"display",o)));for(v=0;v<_;v++)g[v]!=null&&(t[v].style.display=g[v]);return t}f.fn.extend({show:function(){return Rn(this,!0)},hide:function(){return Rn(this)},toggle:function(t){return typeof t=="boolean"?t?this.show():this.hide():this.each(function(){Xt(this)?f(this).show():f(this).hide()})}});var Mn=/^(?:checkbox|radio)$/i,Oi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Wr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var t=oe.createDocumentFragment(),i=t.appendChild(oe.createElement("div")),o=oe.createElement("input");o.setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","t"),i.appendChild(o),J.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,i.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!i.cloneNode(!0).lastChild.defaultValue,i.innerHTML="<option></option>",J.option=!!i.lastChild})();var Lt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td,J.option||(Lt.optgroup=Lt.option=[1,"<select multiple='multiple'>","</select>"]);function wt(t,i){var o;return typeof t.getElementsByTagName<"u"?o=t.getElementsByTagName(i||"*"):typeof t.querySelectorAll<"u"?o=t.querySelectorAll(i||"*"):o=[],i===void 0||i&&Te(t,i)?f.merge([t],o):o}function Tn(t,i){for(var o=0,c=t.length;o<c;o++)pe.set(t[o],"globalEval",!i||pe.get(i[o],"globalEval"))}var Zn=/<|&#?\w+;/;function Vr(t,i,o,c,g){for(var v,_,L,O,I,B,W=i.createDocumentFragment(),q=[],G=0,Ae=t.length;G<Ae;G++)if(v=t[G],v||v===0)if(Ee(v)==="object")f.merge(q,v.nodeType?[v]:v);else if(!Zn.test(v))q.push(i.createTextNode(v));else{for(_=_||W.appendChild(i.createElement("div")),L=(Oi.exec(v)||["",""])[1].toLowerCase(),O=Lt[L]||Lt._default,_.innerHTML=O[1]+f.htmlPrefilter(v)+O[2],B=O[0];B--;)_=_.lastChild;f.merge(q,_.childNodes),_=W.firstChild,_.textContent=""}for(W.textContent="",G=0;v=q[G++];){if(c&&f.inArray(v,c)>-1){g&&g.push(v);continue}if(I=me(v),_=wt(W.appendChild(v),"script"),I&&Tn(_),o)for(B=0;v=_[B++];)Wr.test(v.type||"")&&o.push(v)}return W}var wr=/^([^.]*)(?:\.(.+)|)/;function ze(){return!0}function tt(){return!1}function Di(t,i,o,c,g,v){var _,L;if(typeof i=="object"){typeof o!="string"&&(c=c||o,o=void 0);for(L in i)Di(t,L,o,c,i[L],v);return t}if(c==null&&g==null?(g=o,c=o=void 0):g==null&&(typeof o=="string"?(g=c,c=void 0):(g=c,c=o,o=void 0)),g===!1)g=tt;else if(!g)return t;return v===1&&(_=g,g=function(O){return f().off(O),_.apply(this,arguments)},g.guid=_.guid||(_.guid=f.guid++)),t.each(function(){f.event.add(this,i,g,c,o)})}f.event={global:{},add:function(t,i,o,c,g){var v,_,L,O,I,B,W,q,G,Ae,je,xe=pe.get(t);if(kt(t))for(o.handler&&(v=o,o=v.handler,g=v.selector),g&&f.find.matchesSelector(_t,g),o.guid||(o.guid=f.guid++),(O=xe.events)||(O=xe.events=Object.create(null)),(_=xe.handle)||(_=xe.handle=function(ct){return typeof f<"u"&&f.event.triggered!==ct.type?f.event.dispatch.apply(t,arguments):void 0}),i=(i||"").match(Xe)||[""],I=i.length;I--;)L=wr.exec(i[I])||[],G=je=L[1],Ae=(L[2]||"").split(".").sort(),G&&(W=f.event.special[G]||{},G=(g?W.delegateType:W.bindType)||G,W=f.event.special[G]||{},B=f.extend({type:G,origType:je,data:c,handler:o,guid:o.guid,selector:g,needsContext:g&&f.expr.match.needsContext.test(g),namespace:Ae.join(".")},v),(q=O[G])||(q=O[G]=[],q.delegateCount=0,(!W.setup||W.setup.call(t,c,Ae,_)===!1)&&t.addEventListener&&t.addEventListener(G,_)),W.add&&(W.add.call(t,B),B.handler.guid||(B.handler.guid=o.guid)),g?q.splice(q.delegateCount++,0,B):q.push(B),f.event.global[G]=!0)},remove:function(t,i,o,c,g){var v,_,L,O,I,B,W,q,G,Ae,je,xe=pe.hasData(t)&&pe.get(t);if(!(!xe||!(O=xe.events))){for(i=(i||"").match(Xe)||[""],I=i.length;I--;){if(L=wr.exec(i[I])||[],G=je=L[1],Ae=(L[2]||"").split(".").sort(),!G){for(G in O)f.event.remove(t,G+i[I],o,c,!0);continue}for(W=f.event.special[G]||{},G=(c?W.delegateType:W.bindType)||G,q=O[G]||[],L=L[2]&&new RegExp("(^|\\.)"+Ae.join("\\.(?:.*\\.|)")+"(\\.|$)"),_=v=q.length;v--;)B=q[v],(g||je===B.origType)&&(!o||o.guid===B.guid)&&(!L||L.test(B.namespace))&&(!c||c===B.selector||c==="**"&&B.selector)&&(q.splice(v,1),B.selector&&q.delegateCount--,W.remove&&W.remove.call(t,B));_&&!q.length&&((!W.teardown||W.teardown.call(t,Ae,xe.handle)===!1)&&f.removeEvent(t,G,xe.handle),delete O[G])}f.isEmptyObject(O)&&pe.remove(t,"handle events")}},dispatch:function(t){var i,o,c,g,v,_,L=new Array(arguments.length),O=f.event.fix(t),I=(pe.get(this,"events")||Object.create(null))[O.type]||[],B=f.event.special[O.type]||{};for(L[0]=O,i=1;i<arguments.length;i++)L[i]=arguments[i];if(O.delegateTarget=this,!(B.preDispatch&&B.preDispatch.call(this,O)===!1)){for(_=f.event.handlers.call(this,O,I),i=0;(g=_[i++])&&!O.isPropagationStopped();)for(O.currentTarget=g.elem,o=0;(v=g.handlers[o++])&&!O.isImmediatePropagationStopped();)(!O.rnamespace||v.namespace===!1||O.rnamespace.test(v.namespace))&&(O.handleObj=v,O.data=v.data,c=((f.event.special[v.origType]||{}).handle||v.handler).apply(g.elem,L),c!==void 0&&(O.result=c)===!1&&(O.preventDefault(),O.stopPropagation()));return B.postDispatch&&B.postDispatch.call(this,O),O.result}},handlers:function(t,i){var o,c,g,v,_,L=[],O=i.delegateCount,I=t.target;if(O&&I.nodeType&&!(t.type==="click"&&t.button>=1)){for(;I!==this;I=I.parentNode||this)if(I.nodeType===1&&!(t.type==="click"&&I.disabled===!0)){for(v=[],_={},o=0;o<O;o++)c=i[o],g=c.selector+" ",_[g]===void 0&&(_[g]=c.needsContext?f(g,this).index(I)>-1:f.find(g,this,null,[I]).length),_[g]&&v.push(c);v.length&&L.push({elem:I,handlers:v})}}return I=this,O<i.length&&L.push({elem:I,handlers:i.slice(O)}),L},addProp:function(t,i){Object.defineProperty(f.Event.prototype,t,{enumerable:!0,configurable:!0,get:Z(i)?function(){if(this.originalEvent)return i(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(o){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:o})}})},fix:function(t){return t[f.expando]?t:new f.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var i=this||t;return Mn.test(i.type)&&i.click&&Te(i,"input")&&jn(i,"click",!0),!1},trigger:function(t){var i=this||t;return Mn.test(i.type)&&i.click&&Te(i,"input")&&jn(i,"click"),!0},_default:function(t){var i=t.target;return Mn.test(i.type)&&i.click&&Te(i,"input")&&pe.get(i,"click")||Te(i,"a")}},beforeunload:{postDispatch:function(t){t.result!==void 0&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}};function jn(t,i,o){if(!o){pe.get(t,i)===void 0&&f.event.add(t,i,ze);return}pe.set(t,i,!1),f.event.add(t,i,{namespace:!1,handler:function(c){var g,v=pe.get(this,i);if(c.isTrigger&1&&this[i]){if(v)(f.event.special[i]||{}).delegateType&&c.stopPropagation();else if(v=S.call(arguments),pe.set(this,i,v),this[i](),g=pe.get(this,i),pe.set(this,i,!1),v!==g)return c.stopImmediatePropagation(),c.preventDefault(),g}else v&&(pe.set(this,i,f.event.trigger(v[0],v.slice(1),this)),c.stopPropagation(),c.isImmediatePropagationStopped=ze)}})}f.removeEvent=function(t,i,o){t.removeEventListener&&t.removeEventListener(i,o)},f.Event=function(t,i){if(!(this instanceof f.Event))return new f.Event(t,i);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===void 0&&t.returnValue===!1?ze:tt,this.target=t.target&&t.target.nodeType===3?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,i&&f.extend(this,i),this.timeStamp=t&&t.timeStamp||Date.now(),this[f.expando]=!0},f.Event.prototype={constructor:f.Event,isDefaultPrevented:tt,isPropagationStopped:tt,isImmediatePropagationStopped:tt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=ze,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=ze,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=ze,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},f.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},f.event.addProp),f.each({focus:"focusin",blur:"focusout"},function(t,i){function o(c){if(oe.documentMode){var g=pe.get(this,"handle"),v=f.event.fix(c);v.type=c.type==="focusin"?"focus":"blur",v.isSimulated=!0,g(c),v.target===v.currentTarget&&g(v)}else f.event.simulate(i,c.target,f.event.fix(c))}f.event.special[t]={setup:function(){var c;if(jn(this,t,!0),oe.documentMode)c=pe.get(this,i),c||this.addEventListener(i,o),pe.set(this,i,(c||0)+1);else return!1},trigger:function(){return jn(this,t),!0},teardown:function(){var c;if(oe.documentMode)c=pe.get(this,i)-1,c?pe.set(this,i,c):(this.removeEventListener(i,o),pe.remove(this,i));else return!1},_default:function(c){return pe.get(c.target,t)},delegateType:i},f.event.special[i]={setup:function(){var c=this.ownerDocument||this.document||this,g=oe.documentMode?this:c,v=pe.get(g,i);v||(oe.documentMode?this.addEventListener(i,o):c.addEventListener(t,o,!0)),pe.set(g,i,(v||0)+1)},teardown:function(){var c=this.ownerDocument||this.document||this,g=oe.documentMode?this:c,v=pe.get(g,i)-1;v?pe.set(g,i,v):(oe.documentMode?this.removeEventListener(i,o):c.removeEventListener(t,o,!0),pe.remove(g,i))}}}),f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,i){f.event.special[t]={delegateType:i,bindType:i,handle:function(o){var c,g=this,v=o.relatedTarget,_=o.handleObj;return(!v||v!==g&&!f.contains(g,v))&&(o.type=_.origType,c=_.handler.apply(this,arguments),o.type=i),c}}}),f.fn.extend({on:function(t,i,o,c){return Di(this,t,i,o,c)},one:function(t,i,o,c){return Di(this,t,i,o,c,1)},off:function(t,i,o){var c,g;if(t&&t.preventDefault&&t.handleObj)return c=t.handleObj,f(t.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if(typeof t=="object"){for(g in t)this.off(g,i,t[g]);return this}return(i===!1||typeof i=="function")&&(o=i,i=void 0),o===!1&&(o=tt),this.each(function(){f.event.remove(this,t,o,i)})}});var Yr=/<script|<style|<link/i,Ur=/checked\s*(?:[^=]|=\s*.checked.)/i,Ws=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ln(t,i){return Te(t,"table")&&Te(i.nodeType!==11?i:i.firstChild,"tr")&&f(t).children("tbody")[0]||t}function er(t){return t.type=(t.getAttribute("type")!==null)+"/"+t.type,t}function Sn(t){return(t.type||"").slice(0,5)==="true/"?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Er(t,i){var o,c,g,v,_,L,O;if(i.nodeType===1){if(pe.hasData(t)&&(v=pe.get(t),O=v.events,O)){pe.remove(i,"handle events");for(g in O)for(o=0,c=O[g].length;o<c;o++)f.event.add(i,g,O[g][o])}at.hasData(t)&&(_=at.access(t),L=f.extend({},_),at.set(i,L))}}function Vs(t,i){var o=i.nodeName.toLowerCase();o==="input"&&Mn.test(t.type)?i.checked=t.checked:(o==="input"||o==="textarea")&&(i.defaultValue=t.defaultValue)}function At(t,i,o,c){i=T(i);var g,v,_,L,O,I,B=0,W=t.length,q=W-1,G=i[0],Ae=Z(G);if(Ae||W>1&&typeof G=="string"&&!J.checkClone&&Ur.test(G))return t.each(function(je){var xe=t.eq(je);Ae&&(i[0]=G.call(this,je,xe.html())),At(xe,i,o,c)});if(W&&(g=Vr(i,t[0].ownerDocument,!1,t,c),v=g.firstChild,g.childNodes.length===1&&(g=v),v||c)){for(_=f.map(wt(g,"script"),er),L=_.length;B<W;B++)O=g,B!==q&&(O=f.clone(O,!0,!0),L&&f.merge(_,wt(O,"script"))),o.call(t[B],O,B);if(L)for(I=_[_.length-1].ownerDocument,f.map(_,Sn),B=0;B<L;B++)O=_[B],Wr.test(O.type||"")&&!pe.access(O,"globalEval")&&f.contains(I,O)&&(O.src&&(O.type||"").toLowerCase()!=="module"?f._evalUrl&&!O.noModule&&f._evalUrl(O.src,{nonce:O.nonce||O.getAttribute("nonce")},I):Ue(O.textContent.replace(Ws,""),O,I))}return t}function Ni(t,i,o){for(var c,g=i?f.filter(i,t):t,v=0;(c=g[v])!=null;v++)!o&&c.nodeType===1&&f.cleanData(wt(c)),c.parentNode&&(o&&me(c)&&Tn(wt(c,"script")),c.parentNode.removeChild(c));return t}f.extend({htmlPrefilter:function(t){return t},clone:function(t,i,o){var c,g,v,_,L=t.cloneNode(!0),O=me(t);if(!J.noCloneChecked&&(t.nodeType===1||t.nodeType===11)&&!f.isXMLDoc(t))for(_=wt(L),v=wt(t),c=0,g=v.length;c<g;c++)Vs(v[c],_[c]);if(i)if(o)for(v=v||wt(t),_=_||wt(L),c=0,g=v.length;c<g;c++)Er(v[c],_[c]);else Er(t,L);return _=wt(L,"script"),_.length>0&&Tn(_,!O&&wt(t,"script")),L},cleanData:function(t){for(var i,o,c,g=f.event.special,v=0;(o=t[v])!==void 0;v++)if(kt(o)){if(i=o[pe.expando]){if(i.events)for(c in i.events)g[c]?f.event.remove(o,c):f.removeEvent(o,c,i.handle);o[pe.expando]=void 0}o[at.expando]&&(o[at.expando]=void 0)}}}),f.fn.extend({detach:function(t){return Ni(this,t,!0)},remove:function(t){return Ni(this,t)},text:function(t){return qt(this,function(i){return i===void 0?f.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=i)})},null,t,arguments.length)},append:function(){return At(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var i=ln(this,t);i.appendChild(t)}})},prepend:function(){return At(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var i=ln(this,t);i.insertBefore(t,i.firstChild)}})},before:function(){return At(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return At(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,i=0;(t=this[i])!=null;i++)t.nodeType===1&&(f.cleanData(wt(t,!1)),t.textContent="");return this},clone:function(t,i){return t=t??!1,i=i??t,this.map(function(){return f.clone(this,t,i)})},html:function(t){return qt(this,function(i){var o=this[0]||{},c=0,g=this.length;if(i===void 0&&o.nodeType===1)return o.innerHTML;if(typeof i=="string"&&!Yr.test(i)&&!Lt[(Oi.exec(i)||["",""])[1].toLowerCase()]){i=f.htmlPrefilter(i);try{for(;c<g;c++)o=this[c]||{},o.nodeType===1&&(f.cleanData(wt(o,!1)),o.innerHTML=i);o=0}catch{}}o&&this.empty().append(i)},null,t,arguments.length)},replaceWith:function(){var t=[];return At(this,arguments,function(i){var o=this.parentNode;f.inArray(this,t)<0&&(f.cleanData(wt(this)),o&&o.replaceChild(i,this))},t)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,i){f.fn[t]=function(o){for(var c,g=[],v=f(o),_=v.length-1,L=0;L<=_;L++)c=L===_?this:this.clone(!0),f(v[L])[i](c),k.apply(g,c.get());return this.pushStack(g)}});var cn=new RegExp("^("+wn+")(?!px)[a-z%]+$","i"),zr=/^--/,tr=function(t){var i=t.ownerDocument.defaultView;return(!i||!i.opener)&&(i=e),i.getComputedStyle(t)},it=function(t,i,o){var c,g,v={};for(g in i)v[g]=t.style[g],t.style[g]=i[g];c=o.call(t);for(g in i)t.style[g]=v[g];return c},Hn=new RegExp(Kt.join("|"),"i");(function(){function t(){if(I){O.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",I.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_t.appendChild(O).appendChild(I);var B=e.getComputedStyle(I);o=B.top!=="1%",L=i(B.marginLeft)===12,I.style.right="60%",v=i(B.right)===36,c=i(B.width)===36,I.style.position="absolute",g=i(I.offsetWidth/3)===12,_t.removeChild(O),I=null}}function i(B){return Math.round(parseFloat(B))}var o,c,g,v,_,L,O=oe.createElement("div"),I=oe.createElement("div");I.style&&(I.style.backgroundClip="content-box",I.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle=I.style.backgroundClip==="content-box",f.extend(J,{boxSizingReliable:function(){return t(),c},pixelBoxStyles:function(){return t(),v},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),L},scrollboxSize:function(){return t(),g},reliableTrDimensions:function(){var B,W,q,G;return _==null&&(B=oe.createElement("table"),W=oe.createElement("tr"),q=oe.createElement("div"),B.style.cssText="position:absolute;left:-11111px;border-collapse:separate",W.style.cssText="box-sizing:content-box;border:1px solid",W.style.height="1px",q.style.height="9px",q.style.display="block",_t.appendChild(B).appendChild(W).appendChild(q),G=e.getComputedStyle(W),_=parseInt(G.height,10)+parseInt(G.borderTopWidth,10)+parseInt(G.borderBottomWidth,10)===W.offsetHeight,_t.removeChild(B)),_}}))})();function Ct(t,i,o){var c,g,v,_,L=zr.test(i),O=t.style;return o=o||tr(t),o&&(_=o.getPropertyValue(i)||o[i],L&&_&&(_=_.replace(ve,"$1")||void 0),_===""&&!me(t)&&(_=f.style(t,i)),!J.pixelBoxStyles()&&cn.test(_)&&Hn.test(i)&&(c=O.width,g=O.minWidth,v=O.maxWidth,O.minWidth=O.maxWidth=O.width=_,_=o.width,O.width=c,O.minWidth=g,O.maxWidth=v)),_!==void 0?_+"":_}function ki(t,i){return{get:function(){if(t()){delete this.get;return}return(this.get=i).apply(this,arguments)}}}var qn=["Webkit","Moz","ms"],Tr=oe.createElement("div").style,Xr={};function Li(t){for(var i=t[0].toUpperCase()+t.slice(1),o=qn.length;o--;)if(t=qn[o]+i,t in Tr)return t}function fn(t){var i=f.cssProps[t]||Xr[t];return i||(t in Tr?t:Xr[t]=Li(t)||t)}var ts=/^(none|table(?!-c[ea]).+)/,Gr={position:"absolute",visibility:"hidden",display:"block"},$i={letterSpacing:"0",fontWeight:"400"};function He(t,i,o){var c=En.exec(i);return c?Math.max(0,c[2]-(o||0))+(c[3]||"px"):i}function Qr(t,i,o,c,g,v){var _=i==="width"?1:0,L=0,O=0,I=0;if(o===(c?"border":"content"))return 0;for(;_<4;_+=2)o==="margin"&&(I+=f.css(t,o+Kt[_],!0,g)),c?(o==="content"&&(O-=f.css(t,"padding"+Kt[_],!0,g)),o!=="margin"&&(O-=f.css(t,"border"+Kt[_]+"Width",!0,g))):(O+=f.css(t,"padding"+Kt[_],!0,g),o!=="padding"?O+=f.css(t,"border"+Kt[_]+"Width",!0,g):L+=f.css(t,"border"+Kt[_]+"Width",!0,g));return!c&&v>=0&&(O+=Math.max(0,Math.ceil(t["offset"+i[0].toUpperCase()+i.slice(1)]-v-O-L-.5))||0),O+I}function Pi(t,i,o){var c=tr(t),g=!J.boxSizingReliable()||o,v=g&&f.css(t,"boxSizing",!1,c)==="border-box",_=v,L=Ct(t,i,c),O="offset"+i[0].toUpperCase()+i.slice(1);if(cn.test(L)){if(!o)return L;L="auto"}return(!J.boxSizingReliable()&&v||!J.reliableTrDimensions()&&Te(t,"tr")||L==="auto"||!parseFloat(L)&&f.css(t,"display",!1,c)==="inline")&&t.getClientRects().length&&(v=f.css(t,"boxSizing",!1,c)==="border-box",_=O in t,_&&(L=t[O])),L=parseFloat(L)||0,L+Qr(t,i,o||(v?"border":"content"),_,c,L)+"px"}f.extend({cssHooks:{opacity:{get:function(t,i){if(i){var o=Ct(t,"opacity");return o===""?"1":o}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,i,o,c){if(!(!t||t.nodeType===3||t.nodeType===8||!t.style)){var g,v,_,L=bt(i),O=zr.test(i),I=t.style;if(O||(i=fn(L)),_=f.cssHooks[i]||f.cssHooks[L],o!==void 0){if(v=typeof o,v==="string"&&(g=En.exec(o))&&g[1]&&(o=_r(t,i,g),v="number"),o==null||o!==o)return;v==="number"&&!O&&(o+=g&&g[3]||(f.cssNumber[L]?"":"px")),!J.clearCloneStyle&&o===""&&i.indexOf("background")===0&&(I[i]="inherit"),(!_||!("set"in _)||(o=_.set(t,o,c))!==void 0)&&(O?I.setProperty(i,o):I[i]=o)}else return _&&"get"in _&&(g=_.get(t,!1,c))!==void 0?g:I[i]}},css:function(t,i,o,c){var g,v,_,L=bt(i),O=zr.test(i);return O||(i=fn(L)),_=f.cssHooks[i]||f.cssHooks[L],_&&"get"in _&&(g=_.get(t,!0,o)),g===void 0&&(g=Ct(t,i,c)),g==="normal"&&i in $i&&(g=$i[i]),o===""||o?(v=parseFloat(g),o===!0||isFinite(v)?v||0:g):g}}),f.each(["height","width"],function(t,i){f.cssHooks[i]={get:function(o,c,g){if(c)return ts.test(f.css(o,"display"))&&(!o.getClientRects().length||!o.getBoundingClientRect().width)?it(o,Gr,function(){return Pi(o,i,g)}):Pi(o,i,g)},set:function(o,c,g){var v,_=tr(o),L=!J.scrollboxSize()&&_.position==="absolute",O=L||g,I=O&&f.css(o,"boxSizing",!1,_)==="border-box",B=g?Qr(o,i,g,I,_):0;return I&&L&&(B-=Math.ceil(o["offset"+i[0].toUpperCase()+i.slice(1)]-parseFloat(_[i])-Qr(o,i,"border",!1,_)-.5)),B&&(v=En.exec(c))&&(v[3]||"px")!=="px"&&(o.style[i]=c,c=f.css(o,i)),He(o,c,B)}}}),f.cssHooks.marginLeft=ki(J.reliableMarginLeft,function(t,i){if(i)return(parseFloat(Ct(t,"marginLeft"))||t.getBoundingClientRect().left-it(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),f.each({margin:"",padding:"",border:"Width"},function(t,i){f.cssHooks[t+i]={expand:function(o){for(var c=0,g={},v=typeof o=="string"?o.split(" "):[o];c<4;c++)g[t+Kt[c]+i]=v[c]||v[c-2]||v[0];return g}},t!=="margin"&&(f.cssHooks[t+i].set=He)}),f.fn.extend({css:function(t,i){return qt(this,function(o,c,g){var v,_,L={},O=0;if(Array.isArray(c)){for(v=tr(o),_=c.length;O<_;O++)L[c[O]]=f.css(o,c[O],!1,v);return L}return g!==void 0?f.style(o,c,g):f.css(o,c)},t,i,arguments.length>1)}});function yt(t,i,o,c,g){return new yt.prototype.init(t,i,o,c,g)}f.Tween=yt,yt.prototype={constructor:yt,init:function(t,i,o,c,g,v){this.elem=t,this.prop=o,this.easing=g||f.easing._default,this.options=i,this.start=this.now=this.cur(),this.end=c,this.unit=v||(f.cssNumber[o]?"":"px")},cur:function(){var t=yt.propHooks[this.prop];return t&&t.get?t.get(this):yt.propHooks._default.get(this)},run:function(t){var i,o=yt.propHooks[this.prop];return this.options.duration?this.pos=i=f.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=i=t,this.now=(this.end-this.start)*i+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):yt.propHooks._default.set(this),this}},yt.prototype.init.prototype=yt.prototype,yt.propHooks={_default:{get:function(t){var i;return t.elem.nodeType!==1||t.elem[t.prop]!=null&&t.elem.style[t.prop]==null?t.elem[t.prop]:(i=f.css(t.elem,t.prop,""),!i||i==="auto"?0:i)},set:function(t){f.fx.step[t.prop]?f.fx.step[t.prop](t):t.elem.nodeType===1&&(f.cssHooks[t.prop]||t.elem.style[fn(t.prop)]!=null)?f.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},yt.propHooks.scrollTop=yt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},f.easing={linear:function(t){return t},swing:function(t){return .5-Math.cos(t*Math.PI)/2},_default:"swing"},f.fx=yt.prototype.init,f.fx.step={};var Ve,An,Sr=/^(?:toggle|show|hide)$/,nr=/queueHooks$/;function Ar(){An&&(oe.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Ar):e.setTimeout(Ar,f.fx.interval),f.fx.tick())}function Jr(){return e.setTimeout(function(){Ve=void 0}),Ve=Date.now()}function Bn(t,i){var o,c=0,g={height:t};for(i=i?1:0;c<4;c+=2-i)o=Kt[c],g["margin"+o]=g["padding"+o]=t;return i&&(g.opacity=g.width=t),g}function Ii(t,i,o){for(var c,g=(lt.tweeners[i]||[]).concat(lt.tweeners["*"]),v=0,_=g.length;v<_;v++)if(c=g[v].call(o,i,t))return c}function Zr(t,i,o){var c,g,v,_,L,O,I,B,W="width"in i||"height"in i,q=this,G={},Ae=t.style,je=t.nodeType&&Xt(t),xe=pe.get(t,"fxshow");o.queue||(_=f._queueHooks(t,"fx"),_.unqueued==null&&(_.unqueued=0,L=_.empty.fire,_.empty.fire=function(){_.unqueued||L()}),_.unqueued++,q.always(function(){q.always(function(){_.unqueued--,f.queue(t,"fx").length||_.empty.fire()})}));for(c in i)if(g=i[c],Sr.test(g)){if(delete i[c],v=v||g==="toggle",g===(je?"hide":"show"))if(g==="show"&&xe&&xe[c]!==void 0)je=!0;else continue;G[c]=xe&&xe[c]||f.style(t,c)}if(O=!f.isEmptyObject(i),!(!O&&f.isEmptyObject(G))){W&&t.nodeType===1&&(o.overflow=[Ae.overflow,Ae.overflowX,Ae.overflowY],I=xe&&xe.display,I==null&&(I=pe.get(t,"display")),B=f.css(t,"display"),B==="none"&&(I?B=I:(Rn([t],!0),I=t.style.display||I,B=f.css(t,"display"),Rn([t]))),(B==="inline"||B==="inline-block"&&I!=null)&&f.css(t,"float")==="none"&&(O||(q.done(function(){Ae.display=I}),I==null&&(B=Ae.display,I=B==="none"?"":B)),Ae.display="inline-block")),o.overflow&&(Ae.overflow="hidden",q.always(function(){Ae.overflow=o.overflow[0],Ae.overflowX=o.overflow[1],Ae.overflowY=o.overflow[2]})),O=!1;for(c in G)O||(xe?"hidden"in xe&&(je=xe.hidden):xe=pe.access(t,"fxshow",{display:I}),v&&(xe.hidden=!je),je&&Rn([t],!0),q.done(function(){je||Rn([t]),pe.remove(t,"fxshow");for(c in G)f.style(t,c,G[c])})),O=Ii(je?xe[c]:0,c,q),c in xe||(xe[c]=O.start,je&&(O.end=O.start,O.start=0))}}function ns(t,i){var o,c,g,v,_;for(o in t)if(c=bt(o),g=i[c],v=t[o],Array.isArray(v)&&(g=v[1],v=t[o]=v[0]),o!==c&&(t[c]=v,delete t[o]),_=f.cssHooks[c],_&&"expand"in _){v=_.expand(v),delete t[c];for(o in v)o in t||(t[o]=v[o],i[o]=g)}else i[c]=g}function lt(t,i,o){var c,g,v=0,_=lt.prefilters.length,L=f.Deferred().always(function(){delete O.elem}),O=function(){if(g)return!1;for(var W=Ve||Jr(),q=Math.max(0,I.startTime+I.duration-W),G=q/I.duration||0,Ae=1-G,je=0,xe=I.tweens.length;je<xe;je++)I.tweens[je].run(Ae);return L.notifyWith(t,[I,Ae,q]),Ae<1&&xe?q:(xe||L.notifyWith(t,[I,1,0]),L.resolveWith(t,[I]),!1)},I=L.promise({elem:t,props:f.extend({},i),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},o),originalProperties:i,originalOptions:o,startTime:Ve||Jr(),duration:o.duration,tweens:[],createTween:function(W,q){var G=f.Tween(t,I.opts,W,q,I.opts.specialEasing[W]||I.opts.easing);return I.tweens.push(G),G},stop:function(W){var q=0,G=W?I.tweens.length:0;if(g)return this;for(g=!0;q<G;q++)I.tweens[q].run(1);return W?(L.notifyWith(t,[I,1,0]),L.resolveWith(t,[I,W])):L.rejectWith(t,[I,W]),this}}),B=I.props;for(ns(B,I.opts.specialEasing);v<_;v++)if(c=lt.prefilters[v].call(I,t,B,I.opts),c)return Z(c.stop)&&(f._queueHooks(I.elem,I.opts.queue).stop=c.stop.bind(c)),c;return f.map(B,Ii,I),Z(I.opts.start)&&I.opts.start.call(t,I),I.progress(I.opts.progress).done(I.opts.done,I.opts.complete).fail(I.opts.fail).always(I.opts.always),f.fx.timer(f.extend(O,{elem:t,anim:I,queue:I.opts.queue})),I}f.Animation=f.extend(lt,{tweeners:{"*":[function(t,i){var o=this.createTween(t,i);return _r(o.elem,t,En.exec(i),o),o}]},tweener:function(t,i){Z(t)?(i=t,t=["*"]):t=t.match(Xe);for(var o,c=0,g=t.length;c<g;c++)o=t[c],lt.tweeners[o]=lt.tweeners[o]||[],lt.tweeners[o].unshift(i)},prefilters:[Zr],prefilter:function(t,i){i?lt.prefilters.unshift(t):lt.prefilters.push(t)}}),f.speed=function(t,i,o){var c=t&&typeof t=="object"?f.extend({},t):{complete:o||!o&&i||Z(t)&&t,duration:t,easing:o&&i||i&&!Z(i)&&i};return f.fx.off?c.duration=0:typeof c.duration!="number"&&(c.duration in f.fx.speeds?c.duration=f.fx.speeds[c.duration]:c.duration=f.fx.speeds._default),(c.queue==null||c.queue===!0)&&(c.queue="fx"),c.old=c.complete,c.complete=function(){Z(c.old)&&c.old.call(this),c.queue&&f.dequeue(this,c.queue)},c},f.fn.extend({fadeTo:function(t,i,o,c){return this.filter(Xt).css("opacity",0).show().end().animate({opacity:i},t,o,c)},animate:function(t,i,o,c){var g=f.isEmptyObject(t),v=f.speed(i,o,c),_=function(){var L=lt(this,f.extend({},t),v);(g||pe.get(this,"finish"))&&L.stop(!0)};return _.finish=_,g||v.queue===!1?this.each(_):this.queue(v.queue,_)},stop:function(t,i,o){var c=function(g){var v=g.stop;delete g.stop,v(o)};return typeof t!="string"&&(o=i,i=t,t=void 0),i&&this.queue(t||"fx",[]),this.each(function(){var g=!0,v=t!=null&&t+"queueHooks",_=f.timers,L=pe.get(this);if(v)L[v]&&L[v].stop&&c(L[v]);else for(v in L)L[v]&&L[v].stop&&nr.test(v)&&c(L[v]);for(v=_.length;v--;)_[v].elem===this&&(t==null||_[v].queue===t)&&(_[v].anim.stop(o),g=!1,_.splice(v,1));(g||!o)&&f.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var i,o=pe.get(this),c=o[t+"queue"],g=o[t+"queueHooks"],v=f.timers,_=c?c.length:0;for(o.finish=!0,f.queue(this,t,[]),g&&g.stop&&g.stop.call(this,!0),i=v.length;i--;)v[i].elem===this&&v[i].queue===t&&(v[i].anim.stop(!0),v.splice(i,1));for(i=0;i<_;i++)c[i]&&c[i].finish&&c[i].finish.call(this);delete o.finish})}}),f.each(["toggle","show","hide"],function(t,i){var o=f.fn[i];f.fn[i]=function(c,g,v){return c==null||typeof c=="boolean"?o.apply(this,arguments):this.animate(Bn(i,!0),c,g,v)}}),f.each({slideDown:Bn("show"),slideUp:Bn("hide"),slideToggle:Bn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){f.fn[t]=function(o,c,g){return this.animate(i,o,c,g)}}),f.timers=[],f.fx.tick=function(){var t,i=0,o=f.timers;for(Ve=Date.now();i<o.length;i++)t=o[i],!t()&&o[i]===t&&o.splice(i--,1);o.length||f.fx.stop(),Ve=void 0},f.fx.timer=function(t){f.timers.push(t),f.fx.start()},f.fx.interval=13,f.fx.start=function(){An||(An=!0,Ar())},f.fx.stop=function(){An=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(t,i){return t=f.fx&&f.fx.speeds[t]||t,i=i||"fx",this.queue(i,function(o,c){var g=e.setTimeout(o,t);c.stop=function(){e.clearTimeout(g)}})},function(){var t=oe.createElement("input"),i=oe.createElement("select"),o=i.appendChild(oe.createElement("option"));t.type="checkbox",J.checkOn=t.value!=="",J.optSelected=o.selected,t=oe.createElement("input"),t.value="t",t.type="radio",J.radioValue=t.value==="t"}();var rr,ir=f.expr.attrHandle;f.fn.extend({attr:function(t,i){return qt(this,f.attr,t,i,arguments.length>1)},removeAttr:function(t){return this.each(function(){f.removeAttr(this,t)})}}),f.extend({attr:function(t,i,o){var c,g,v=t.nodeType;if(!(v===3||v===8||v===2)){if(typeof t.getAttribute>"u")return f.prop(t,i,o);if((v!==1||!f.isXMLDoc(t))&&(g=f.attrHooks[i.toLowerCase()]||(f.expr.match.bool.test(i)?rr:void 0)),o!==void 0){if(o===null){f.removeAttr(t,i);return}return g&&"set"in g&&(c=g.set(t,o,i))!==void 0?c:(t.setAttribute(i,o+""),o)}return g&&"get"in g&&(c=g.get(t,i))!==null?c:(c=f.find.attr(t,i),c??void 0)}},attrHooks:{type:{set:function(t,i){if(!J.radioValue&&i==="radio"&&Te(t,"input")){var o=t.value;return t.setAttribute("type",i),o&&(t.value=o),i}}}},removeAttr:function(t,i){var o,c=0,g=i&&i.match(Xe);if(g&&t.nodeType===1)for(;o=g[c++];)t.removeAttribute(o)}}),rr={set:function(t,i,o){return i===!1?f.removeAttr(t,o):t.setAttribute(o,o),o}},f.each(f.expr.match.bool.source.match(/\w+/g),function(t,i){var o=ir[i]||f.find.attr;ir[i]=function(c,g,v){var _,L,O=g.toLowerCase();return v||(L=ir[O],ir[O]=_,_=o(c,g,v)!=null?O:null,ir[O]=L),_}});var Ys=/^(?:input|select|textarea|button)$/i,Fe=/^(?:a|area)$/i;f.fn.extend({prop:function(t,i){return qt(this,f.prop,t,i,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[f.propFix[t]||t]})}}),f.extend({prop:function(t,i,o){var c,g,v=t.nodeType;if(!(v===3||v===8||v===2))return(v!==1||!f.isXMLDoc(t))&&(i=f.propFix[i]||i,g=f.propHooks[i]),o!==void 0?g&&"set"in g&&(c=g.set(t,o,i))!==void 0?c:t[i]=o:g&&"get"in g&&(c=g.get(t,i))!==null?c:t[i]},propHooks:{tabIndex:{get:function(t){var i=f.find.attr(t,"tabindex");return i?parseInt(i,10):Ys.test(t.nodeName)||Fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),J.optSelected||(f.propHooks.selected={get:function(t){var i=t.parentNode;return i&&i.parentNode&&i.parentNode.selectedIndex,null},set:function(t){var i=t.parentNode;i&&(i.selectedIndex,i.parentNode&&i.parentNode.selectedIndex)}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this});function hn(t){var i=t.match(Xe)||[];return i.join(" ")}function Kn(t){return t.getAttribute&&t.getAttribute("class")||""}function Ri(t){return Array.isArray(t)?t:typeof t=="string"?t.match(Xe)||[]:[]}f.fn.extend({addClass:function(t){var i,o,c,g,v,_;return Z(t)?this.each(function(L){f(this).addClass(t.call(this,L,Kn(this)))}):(i=Ri(t),i.length?this.each(function(){if(c=Kn(this),o=this.nodeType===1&&" "+hn(c)+" ",o){for(v=0;v<i.length;v++)g=i[v],o.indexOf(" "+g+" ")<0&&(o+=g+" ");_=hn(o),c!==_&&this.setAttribute("class",_)}}):this)},removeClass:function(t){var i,o,c,g,v,_;return Z(t)?this.each(function(L){f(this).removeClass(t.call(this,L,Kn(this)))}):arguments.length?(i=Ri(t),i.length?this.each(function(){if(c=Kn(this),o=this.nodeType===1&&" "+hn(c)+" ",o){for(v=0;v<i.length;v++)for(g=i[v];o.indexOf(" "+g+" ")>-1;)o=o.replace(" "+g+" "," ");_=hn(o),c!==_&&this.setAttribute("class",_)}}):this):this.attr("class","")},toggleClass:function(t,i){var o,c,g,v,_=typeof t,L=_==="string"||Array.isArray(t);return Z(t)?this.each(function(O){f(this).toggleClass(t.call(this,O,Kn(this),i),i)}):typeof i=="boolean"&&L?i?this.addClass(t):this.removeClass(t):(o=Ri(t),this.each(function(){if(L)for(v=f(this),g=0;g<o.length;g++)c=o[g],v.hasClass(c)?v.removeClass(c):v.addClass(c);else(t===void 0||_==="boolean")&&(c=Kn(this),c&&pe.set(this,"__className__",c),this.setAttribute&&this.setAttribute("class",c||t===!1?"":pe.get(this,"__className__")||""))}))},hasClass:function(t){var i,o,c=0;for(i=" "+t+" ";o=this[c++];)if(o.nodeType===1&&(" "+hn(Kn(o))+" ").indexOf(i)>-1)return!0;return!1}});var xt=/\r/g;f.fn.extend({val:function(t){var i,o,c,g=this[0];return arguments.length?(c=Z(t),this.each(function(v){var _;this.nodeType===1&&(c?_=t.call(this,v,f(this).val()):_=t,_==null?_="":typeof _=="number"?_+="":Array.isArray(_)&&(_=f.map(_,function(L){return L==null?"":L+""})),i=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],(!i||!("set"in i)||i.set(this,_,"value")===void 0)&&(this.value=_))})):g?(i=f.valHooks[g.type]||f.valHooks[g.nodeName.toLowerCase()],i&&"get"in i&&(o=i.get(g,"value"))!==void 0?o:(o=g.value,typeof o=="string"?o.replace(xt,""):o??"")):void 0}}),f.extend({valHooks:{option:{get:function(t){var i=f.find.attr(t,"value");return i??hn(f.text(t))}},select:{get:function(t){var i,o,c,g=t.options,v=t.selectedIndex,_=t.type==="select-one",L=_?null:[],O=_?v+1:g.length;for(v<0?c=O:c=_?v:0;c<O;c++)if(o=g[c],(o.selected||c===v)&&!o.disabled&&(!o.parentNode.disabled||!Te(o.parentNode,"optgroup"))){if(i=f(o).val(),_)return i;L.push(i)}return L},set:function(t,i){for(var o,c,g=t.options,v=f.makeArray(i),_=g.length;_--;)c=g[_],(c.selected=f.inArray(f.valHooks.option.get(c),v)>-1)&&(o=!0);return o||(t.selectedIndex=-1),v}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(t,i){if(Array.isArray(i))return t.checked=f.inArray(f(t).val(),i)>-1}},J.checkOn||(f.valHooks[this].get=function(t){return t.getAttribute("value")===null?"on":t.value})});var Gt=e.location,Cr={guid:Date.now()},Qt=/\?/;f.parseXML=function(t){var i,o;if(!t||typeof t!="string")return null;try{i=new e.DOMParser().parseFromString(t,"text/xml")}catch{}return o=i&&i.getElementsByTagName("parsererror")[0],(!i||o)&&f.error("Invalid XML: "+(o?f.map(o.childNodes,function(c){return c.textContent}).join(`
`):t)),i};var Mi=/^(?:focusinfocus|focusoutblur)$/,ji=function(t){t.stopPropagation()};f.extend(f.event,{trigger:function(t,i,o,c){var g,v,_,L,O,I,B,W,q=[o||oe],G=Y.call(t,"type")?t.type:t,Ae=Y.call(t,"namespace")?t.namespace.split("."):[];if(v=W=_=o=o||oe,!(o.nodeType===3||o.nodeType===8)&&!Mi.test(G+f.event.triggered)&&(G.indexOf(".")>-1&&(Ae=G.split("."),G=Ae.shift(),Ae.sort()),O=G.indexOf(":")<0&&"on"+G,t=t[f.expando]?t:new f.Event(G,typeof t=="object"&&t),t.isTrigger=c?2:3,t.namespace=Ae.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+Ae.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),i=i==null?[t]:f.makeArray(i,[t]),B=f.event.special[G]||{},!(!c&&B.trigger&&B.trigger.apply(o,i)===!1))){if(!c&&!B.noBubble&&!_e(o)){for(L=B.delegateType||G,Mi.test(L+G)||(v=v.parentNode);v;v=v.parentNode)q.push(v),_=v;_===(o.ownerDocument||oe)&&q.push(_.defaultView||_.parentWindow||e)}for(g=0;(v=q[g++])&&!t.isPropagationStopped();)W=v,t.type=g>1?L:B.bindType||G,I=(pe.get(v,"events")||Object.create(null))[t.type]&&pe.get(v,"handle"),I&&I.apply(v,i),I=O&&v[O],I&&I.apply&&kt(v)&&(t.result=I.apply(v,i),t.result===!1&&t.preventDefault());return t.type=G,!c&&!t.isDefaultPrevented()&&(!B._default||B._default.apply(q.pop(),i)===!1)&&kt(o)&&O&&Z(o[G])&&!_e(o)&&(_=o[O],_&&(o[O]=null),f.event.triggered=G,t.isPropagationStopped()&&W.addEventListener(G,ji),o[G](),t.isPropagationStopped()&&W.removeEventListener(G,ji),f.event.triggered=void 0,_&&(o[O]=_)),t.result}},simulate:function(t,i,o){var c=f.extend(new f.Event,o,{type:t,isSimulated:!0});f.event.trigger(c,null,i)}}),f.fn.extend({trigger:function(t,i){return this.each(function(){f.event.trigger(t,i,this)})},triggerHandler:function(t,i){var o=this[0];if(o)return f.event.trigger(t,i,o,!0)}});var ft=/\[\]$/,Ft=/\r?\n/g,xr=/^(?:submit|button|image|reset|file)$/i,Or=/^(?:input|select|textarea|keygen)/i;function Dr(t,i,o,c){var g;if(Array.isArray(i))f.each(i,function(v,_){o||ft.test(t)?c(t,_):Dr(t+"["+(typeof _=="object"&&_!=null?v:"")+"]",_,o,c)});else if(!o&&Ee(i)==="object")for(g in i)Dr(t+"["+g+"]",i[g],o,c);else c(t,i)}f.param=function(t,i){var o,c=[],g=function(v,_){var L=Z(_)?_():_;c[c.length]=encodeURIComponent(v)+"="+encodeURIComponent(L??"")};if(t==null)return"";if(Array.isArray(t)||t.jquery&&!f.isPlainObject(t))f.each(t,function(){g(this.name,this.value)});else for(o in t)Dr(o,t[o],i,g);return c.join("&")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=f.prop(this,"elements");return t?f.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!f(this).is(":disabled")&&Or.test(this.nodeName)&&!xr.test(t)&&(this.checked||!Mn.test(t))}).map(function(t,i){var o=f(this).val();return o==null?null:Array.isArray(o)?f.map(o,function(c){return{name:i.name,value:c.replace(Ft,`\r
`)}}):{name:i.name,value:o.replace(Ft,`\r
`)}}).get()}});var Cn=/%20/g,Us=/#.*$/,Jt=/([?&])_=[^&]*/,Hi=/^(.*?):[ \t]*([^\r\n]*)$/mg,rs=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qi=/^(?:GET|HEAD)$/,Nr=/^\/\//,ei={},ti={},is="*/".concat("*"),Fn=oe.createElement("a");Fn.href=Gt.href;function ss(t){return function(i,o){typeof i!="string"&&(o=i,i="*");var c,g=0,v=i.toLowerCase().match(Xe)||[];if(Z(o))for(;c=v[g++];)c[0]==="+"?(c=c.slice(1)||"*",(t[c]=t[c]||[]).unshift(o)):(t[c]=t[c]||[]).push(o)}}function os(t,i,o,c){var g={},v=t===ti;function _(L){var O;return g[L]=!0,f.each(t[L]||[],function(I,B){var W=B(i,o,c);if(typeof W=="string"&&!v&&!g[W])return i.dataTypes.unshift(W),_(W),!1;if(v)return!(O=W)}),O}return _(i.dataTypes[0])||!g["*"]&&_("*")}function sr(t,i){var o,c,g=f.ajaxSettings.flatOptions||{};for(o in i)i[o]!==void 0&&((g[o]?t:c||(c={}))[o]=i[o]);return c&&f.extend(!0,t,c),t}function ni(t,i,o){for(var c,g,v,_,L=t.contents,O=t.dataTypes;O[0]==="*";)O.shift(),c===void 0&&(c=t.mimeType||i.getResponseHeader("Content-Type"));if(c){for(g in L)if(L[g]&&L[g].test(c)){O.unshift(g);break}}if(O[0]in o)v=O[0];else{for(g in o){if(!O[0]||t.converters[g+" "+O[0]]){v=g;break}_||(_=g)}v=v||_}if(v)return v!==O[0]&&O.unshift(v),o[v]}function Bi(t,i,o,c){var g,v,_,L,O,I={},B=t.dataTypes.slice();if(B[1])for(_ in t.converters)I[_.toLowerCase()]=t.converters[_];for(v=B.shift();v;)if(t.responseFields[v]&&(o[t.responseFields[v]]=i),!O&&c&&t.dataFilter&&(i=t.dataFilter(i,t.dataType)),O=v,v=B.shift(),v){if(v==="*")v=O;else if(O!=="*"&&O!==v){if(_=I[O+" "+v]||I["* "+v],!_){for(g in I)if(L=g.split(" "),L[1]===v&&(_=I[O+" "+L[0]]||I["* "+L[0]],_)){_===!0?_=I[g]:I[g]!==!0&&(v=L[0],B.unshift(L[1]));break}}if(_!==!0)if(_&&t.throws)i=_(i);else try{i=_(i)}catch(W){return{state:"parsererror",error:_?W:"No conversion from "+O+" to "+v}}}}return{state:"success",data:i}}f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Gt.href,type:"GET",isLocal:rs.test(Gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":is,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,i){return i?sr(sr(t,f.ajaxSettings),i):sr(f.ajaxSettings,t)},ajaxPrefilter:ss(ei),ajaxTransport:ss(ti),ajax:function(t,i){typeof t=="object"&&(i=t,t=void 0),i=i||{};var o,c,g,v,_,L,O,I,B,W,q=f.ajaxSetup({},i),G=q.context||q,Ae=q.context&&(G.nodeType||G.jquery)?f(G):f.event,je=f.Deferred(),xe=f.Callbacks("once memory"),ct=q.statusCode||{},et={},$t={},Pt="canceled",Le={readyState:0,getResponseHeader:function(qe){var st;if(O){if(!v)for(v={};st=Hi.exec(g);)v[st[1].toLowerCase()+" "]=(v[st[1].toLowerCase()+" "]||[]).concat(st[2]);st=v[qe.toLowerCase()+" "]}return st==null?null:st.join(", ")},getAllResponseHeaders:function(){return O?g:null},setRequestHeader:function(qe,st){return O==null&&(qe=$t[qe.toLowerCase()]=$t[qe.toLowerCase()]||qe,et[qe]=st),this},overrideMimeType:function(qe){return O==null&&(q.mimeType=qe),this},statusCode:function(qe){var st;if(qe)if(O)Le.always(qe[Le.status]);else for(st in qe)ct[st]=[ct[st],qe[st]];return this},abort:function(qe){var st=qe||Pt;return o&&o.abort(st),dn(0,st),this}};if(je.promise(Le),q.url=((t||q.url||Gt.href)+"").replace(Nr,Gt.protocol+"//"),q.type=i.method||i.type||q.method||q.type,q.dataTypes=(q.dataType||"*").toLowerCase().match(Xe)||[""],q.crossDomain==null){L=oe.createElement("a");try{L.href=q.url,L.href=L.href,q.crossDomain=Fn.protocol+"//"+Fn.host!=L.protocol+"//"+L.host}catch{q.crossDomain=!0}}if(q.data&&q.processData&&typeof q.data!="string"&&(q.data=f.param(q.data,q.traditional)),os(ei,q,i,Le),O)return Le;I=f.event&&q.global,I&&f.active++===0&&f.event.trigger("ajaxStart"),q.type=q.type.toUpperCase(),q.hasContent=!qi.test(q.type),c=q.url.replace(Us,""),q.hasContent?q.data&&q.processData&&(q.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(q.data=q.data.replace(Cn,"+")):(W=q.url.slice(c.length),q.data&&(q.processData||typeof q.data=="string")&&(c+=(Qt.test(c)?"&":"?")+q.data,delete q.data),q.cache===!1&&(c=c.replace(Jt,"$1"),W=(Qt.test(c)?"&":"?")+"_="+Cr.guid+++W),q.url=c+W),q.ifModified&&(f.lastModified[c]&&Le.setRequestHeader("If-Modified-Since",f.lastModified[c]),f.etag[c]&&Le.setRequestHeader("If-None-Match",f.etag[c])),(q.data&&q.hasContent&&q.contentType!==!1||i.contentType)&&Le.setRequestHeader("Content-Type",q.contentType),Le.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+(q.dataTypes[0]!=="*"?", "+is+"; q=0.01":""):q.accepts["*"]);for(B in q.headers)Le.setRequestHeader(B,q.headers[B]);if(q.beforeSend&&(q.beforeSend.call(G,Le,q)===!1||O))return Le.abort();if(Pt="abort",xe.add(q.complete),Le.done(q.success),Le.fail(q.error),o=os(ti,q,i,Le),!o)dn(-1,"No Transport");else{if(Le.readyState=1,I&&Ae.trigger("ajaxSend",[Le,q]),O)return Le;q.async&&q.timeout>0&&(_=e.setTimeout(function(){Le.abort("timeout")},q.timeout));try{O=!1,o.send(et,dn)}catch(qe){if(O)throw qe;dn(-1,qe)}}function dn(qe,st,Wn,or){var Zt,Vn,It,xn,pn,Rt=st;O||(O=!0,_&&e.clearTimeout(_),o=void 0,g=or||"",Le.readyState=qe>0?4:0,Zt=qe>=200&&qe<300||qe===304,Wn&&(xn=ni(q,Le,Wn)),!Zt&&f.inArray("script",q.dataTypes)>-1&&f.inArray("json",q.dataTypes)<0&&(q.converters["text script"]=function(){}),xn=Bi(q,xn,Le,Zt),Zt?(q.ifModified&&(pn=Le.getResponseHeader("Last-Modified"),pn&&(f.lastModified[c]=pn),pn=Le.getResponseHeader("etag"),pn&&(f.etag[c]=pn)),qe===204||q.type==="HEAD"?Rt="nocontent":qe===304?Rt="notmodified":(Rt=xn.state,Vn=xn.data,It=xn.error,Zt=!It)):(It=Rt,(qe||!Rt)&&(Rt="error",qe<0&&(qe=0))),Le.status=qe,Le.statusText=(st||Rt)+"",Zt?je.resolveWith(G,[Vn,Rt,Le]):je.rejectWith(G,[Le,Rt,It]),Le.statusCode(ct),ct=void 0,I&&Ae.trigger(Zt?"ajaxSuccess":"ajaxError",[Le,q,Zt?Vn:It]),xe.fireWith(G,[Le,Rt]),I&&(Ae.trigger("ajaxComplete",[Le,q]),--f.active||f.event.trigger("ajaxStop")))}return Le},getJSON:function(t,i,o){return f.get(t,i,o,"json")},getScript:function(t,i){return f.get(t,void 0,i,"script")}}),f.each(["get","post"],function(t,i){f[i]=function(o,c,g,v){return Z(c)&&(v=v||g,g=c,c=void 0),f.ajax(f.extend({url:o,type:i,dataType:v,data:c,success:g},f.isPlainObject(o)&&o))}}),f.ajaxPrefilter(function(t){var i;for(i in t.headers)i.toLowerCase()==="content-type"&&(t.contentType=t.headers[i]||"")}),f._evalUrl=function(t,i,o){return f.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(c){f.globalEval(c,i,o)}})},f.fn.extend({wrapAll:function(t){var i;return this[0]&&(Z(t)&&(t=t.call(this[0])),i=f(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&i.insertBefore(this[0]),i.map(function(){for(var o=this;o.firstElementChild;)o=o.firstElementChild;return o}).append(this)),this},wrapInner:function(t){return Z(t)?this.each(function(i){f(this).wrapInner(t.call(this,i))}):this.each(function(){var i=f(this),o=i.contents();o.length?o.wrapAll(t):i.append(t)})},wrap:function(t){var i=Z(t);return this.each(function(o){f(this).wrapAll(i?t.call(this,o):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){f(this).replaceWith(this.childNodes)}),this}}),f.expr.pseudos.hidden=function(t){return!f.expr.pseudos.visible(t)},f.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},f.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var zs={0:200,1223:204},kr=f.ajaxSettings.xhr();J.cors=!!kr&&"withCredentials"in kr,J.ajax=kr=!!kr,f.ajaxTransport(function(t){var i,o;if(J.cors||kr&&!t.crossDomain)return{send:function(c,g){var v,_=t.xhr();if(_.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(v in t.xhrFields)_[v]=t.xhrFields[v];t.mimeType&&_.overrideMimeType&&_.overrideMimeType(t.mimeType),!t.crossDomain&&!c["X-Requested-With"]&&(c["X-Requested-With"]="XMLHttpRequest");for(v in c)_.setRequestHeader(v,c[v]);i=function(L){return function(){i&&(i=o=_.onload=_.onerror=_.onabort=_.ontimeout=_.onreadystatechange=null,L==="abort"?_.abort():L==="error"?typeof _.status!="number"?g(0,"error"):g(_.status,_.statusText):g(zs[_.status]||_.status,_.statusText,(_.responseType||"text")!=="text"||typeof _.responseText!="string"?{binary:_.response}:{text:_.responseText},_.getAllResponseHeaders()))}},_.onload=i(),o=_.onerror=_.ontimeout=i("error"),_.onabort!==void 0?_.onabort=o:_.onreadystatechange=function(){_.readyState===4&&e.setTimeout(function(){i&&o()})},i=i("abort");try{_.send(t.hasContent&&t.data||null)}catch(L){if(i)throw L}},abort:function(){i&&i()}}}),f.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return f.globalEval(t),t}}}),f.ajaxPrefilter("script",function(t){t.cache===void 0&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),f.ajaxTransport("script",function(t){if(t.crossDomain||t.scriptAttrs){var i,o;return{send:function(c,g){i=f("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",o=function(v){i.remove(),o=null,v&&g(v.type==="error"?404:200,v.type)}),oe.head.appendChild(i[0])},abort:function(){o&&o()}}}});var as=[],Lr=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=as.pop()||f.expando+"_"+Cr.guid++;return this[t]=!0,t}}),f.ajaxPrefilter("json jsonp",function(t,i,o){var c,g,v,_=t.jsonp!==!1&&(Lr.test(t.url)?"url":typeof t.data=="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Lr.test(t.data)&&"data");if(_||t.dataTypes[0]==="jsonp")return c=t.jsonpCallback=Z(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,_?t[_]=t[_].replace(Lr,"$1"+c):t.jsonp!==!1&&(t.url+=(Qt.test(t.url)?"&":"?")+t.jsonp+"="+c),t.converters["script json"]=function(){return v||f.error(c+" was not called"),v[0]},t.dataTypes[0]="json",g=e[c],e[c]=function(){v=arguments},o.always(function(){g===void 0?f(e).removeProp(c):e[c]=g,t[c]&&(t.jsonpCallback=i.jsonpCallback,as.push(c)),v&&Z(g)&&g(v[0]),v=g=void 0}),"script"}),J.createHTMLDocument=function(){var t=oe.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",t.childNodes.length===2}(),f.parseHTML=function(t,i,o){if(typeof t!="string")return[];typeof i=="boolean"&&(o=i,i=!1);var c,g,v;return i||(J.createHTMLDocument?(i=oe.implementation.createHTMLDocument(""),c=i.createElement("base"),c.href=oe.location.href,i.head.appendChild(c)):i=oe),g=We.exec(t),v=!o&&[],g?[i.createElement(g[1])]:(g=Vr([t],i,v),v&&v.length&&f(v).remove(),f.merge([],g.childNodes))},f.fn.load=function(t,i,o){var c,g,v,_=this,L=t.indexOf(" ");return L>-1&&(c=hn(t.slice(L)),t=t.slice(0,L)),Z(i)?(o=i,i=void 0):i&&typeof i=="object"&&(g="POST"),_.length>0&&f.ajax({url:t,type:g||"GET",dataType:"html",data:i}).done(function(O){v=arguments,_.html(c?f("<div>").append(f.parseHTML(O)).find(c):O)}).always(o&&function(O,I){_.each(function(){o.apply(this,v||[O.responseText,I,O])})}),this},f.expr.pseudos.animated=function(t){return f.grep(f.timers,function(i){return t===i.elem}).length},f.offset={setOffset:function(t,i,o){var c,g,v,_,L,O,I,B=f.css(t,"position"),W=f(t),q={};B==="static"&&(t.style.position="relative"),L=W.offset(),v=f.css(t,"top"),O=f.css(t,"left"),I=(B==="absolute"||B==="fixed")&&(v+O).indexOf("auto")>-1,I?(c=W.position(),_=c.top,g=c.left):(_=parseFloat(v)||0,g=parseFloat(O)||0),Z(i)&&(i=i.call(t,o,f.extend({},L))),i.top!=null&&(q.top=i.top-L.top+_),i.left!=null&&(q.left=i.left-L.left+g),"using"in i?i.using.call(t,q):W.css(q)}},f.fn.extend({offset:function(t){if(arguments.length)return t===void 0?this:this.each(function(g){f.offset.setOffset(this,t,g)});var i,o,c=this[0];if(c)return c.getClientRects().length?(i=c.getBoundingClientRect(),o=c.ownerDocument.defaultView,{top:i.top+o.pageYOffset,left:i.left+o.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var t,i,o,c=this[0],g={top:0,left:0};if(f.css(c,"position")==="fixed")i=c.getBoundingClientRect();else{for(i=this.offset(),o=c.ownerDocument,t=c.offsetParent||o.documentElement;t&&(t===o.body||t===o.documentElement)&&f.css(t,"position")==="static";)t=t.parentNode;t&&t!==c&&t.nodeType===1&&(g=f(t).offset(),g.top+=f.css(t,"borderTopWidth",!0),g.left+=f.css(t,"borderLeftWidth",!0))}return{top:i.top-g.top-f.css(c,"marginTop",!0),left:i.left-g.left-f.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&f.css(t,"position")==="static";)t=t.offsetParent;return t||_t})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o=i==="pageYOffset";f.fn[t]=function(c){return qt(this,function(g,v,_){var L;if(_e(g)?L=g:g.nodeType===9&&(L=g.defaultView),_===void 0)return L?L[i]:g[v];L?L.scrollTo(o?L.pageXOffset:_,o?_:L.pageYOffset):g[v]=_},t,c,arguments.length)}}),f.each(["top","left"],function(t,i){f.cssHooks[i]=ki(J.pixelPosition,function(o,c){if(c)return c=Ct(o,i),cn.test(c)?f(o).position()[i]+"px":c})}),f.each({Height:"height",Width:"width"},function(t,i){f.each({padding:"inner"+t,content:i,"":"outer"+t},function(o,c){f.fn[c]=function(g,v){var _=arguments.length&&(o||typeof g!="boolean"),L=o||(g===!0||v===!0?"margin":"border");return qt(this,function(O,I,B){var W;return _e(O)?c.indexOf("outer")===0?O["inner"+t]:O.document.documentElement["client"+t]:O.nodeType===9?(W=O.documentElement,Math.max(O.body["scroll"+t],W["scroll"+t],O.body["offset"+t],W["offset"+t],W["client"+t])):B===void 0?f.css(O,I,L):f.style(O,I,B,L)},i,_?g:void 0,_)}})}),f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,i){f.fn[i]=function(o){return this.on(i,o)}}),f.fn.extend({bind:function(t,i,o){return this.on(t,null,i,o)},unbind:function(t,i){return this.off(t,null,i)},delegate:function(t,i,o,c){return this.on(i,t,o,c)},undelegate:function(t,i,o){return arguments.length===1?this.off(t,"**"):this.off(i,t||"**",o)},hover:function(t,i){return this.on("mouseenter",t).on("mouseleave",i||t)}}),f.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){f.fn[i]=function(o,c){return arguments.length>0?this.on(i,null,o,c):this.trigger(i)}});var Ki=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;f.proxy=function(t,i){var o,c,g;if(typeof i=="string"&&(o=t[i],i=t,t=o),!!Z(t))return c=S.call(arguments,2),g=function(){return t.apply(i||this,c.concat(S.call(arguments)))},g.guid=t.guid=t.guid||f.guid++,g},f.holdReady=function(t){t?f.readyWait++:f.ready(!0)},f.isArray=Array.isArray,f.parseJSON=JSON.parse,f.nodeName=Te,f.isFunction=Z,f.isWindow=_e,f.camelCase=bt,f.type=Ee,f.now=Date.now,f.isNumeric=function(t){var i=f.type(t);return(i==="number"||i==="string")&&!isNaN(t-parseFloat(t))},f.trim=function(t){return t==null?"":(t+"").replace(Ki,"$1")};var us=e.jQuery,ri=e.$;return f.noConflict=function(t){return e.$===f&&(e.$=ri),t&&e.jQuery===f&&(e.jQuery=us),f},typeof r>"u"&&(e.jQuery=e.$=f),f})})(xa);var Pu=xa.exports;const hs=Is(Pu),he=16,Iu=42,Mt=21,yn=63,Qe=22,dt=22,Ht=dt*10,kn=1e3*60*60*24;class Ru{constructor(){z(this,"y1",-1);z(this,"y2",-1)}}class Mu{constructor(e){z(this,"id","colhead");z(this,"pos",0);this.frame=e}build(e){const r=document.createElement("div");r.id=this.id,r.className="header",r.style.top="0px",r.style.left=`${this.pos}px`,r.style.width=`${this.frame.calendarLeft}px`,r.style.height=`${yn}px`,e.append(r);let l=document.createElement("div");l.className="line",l.style.top=`${yn}px`,l.style.left="0px",l.style.width=`${this.frame.calendarLeft}px`,l.style.height="1px",e.append(l);let m=0;for(let S of this.frame.cols){let T=document.createElement("div");T.className="label",T.style.top=`${Iu}px`,T.style.left=`${m}px`,T.style.width=`${S.width}px`,T.textContent=S.name,r.append(T),m+=S.width,l=document.createElement("div"),l.className="line",l.style.top="0px",l.style.left=`${m}px`,l.style.width="1px",l.style.height=`${yn}px`,r.append(l)}m+=2,l=document.createElement("div"),l.className="line",l.style.top="0px",l.style.left=`${m}px`,l.style.width="1px",l.style.height=`${yn}px`,r.append(l)}scrollH(e){this.pos=-e;const r=document.querySelector(`#${this.id}`);r&&(r.style.left=`${this.pos}px`)}}class ju{constructor(e){z(this,"id","colbody");z(this,"width",0);z(this,"height",0);z(this,"posX",0);z(this,"posY",0);z(this,"clickedId","");z(this,"movingLevel",0);z(this,"upper",null);z(this,"lower",null);z(this,"now",nt());this.frame=e}build(e){const r=document.createElement("canvas");this.height=this.frame.height-yn-he,this.frame.ticketsFrameHeight=this.height,r.id=this.id,this.width=this.frame.calendarLeft,r.className="gantt-body",r.style.top=`${yn+1}px`,r.style.left=`${this.posX}px`,r.style.width=`${this.width}px`,r.style.height=`${this.height}px`,e.append(r)}handler(){const e=document.querySelector("#ganttframe"),r=document.querySelector(`#${this.id}`),l=this.frame;e&&r&&(r.addEventListener("mousedown",function(m){m.preventDefault(),l.columnBody.mouseDown(m.layerX,m.layerY)}),r.addEventListener("touchstart",function(m){m.preventDefault(),l.columnBody.mouseDown(m.touches[0].pageX-e.offsetLeft-r.offsetLeft,m.touches[0].pageY-e.offsetTop-r.offsetTop)}),r.addEventListener("mousemove",function(m){m.preventDefault(),l.columnBody.mouseMove(m.layerX,m.layerY)}),r.addEventListener("touchmove",function(m){m.preventDefault(),l.columnBody.mouseMove(m.touches[0].pageX-e.offsetLeft-r.offsetLeft,m.touches[0].pageY-e.offsetTop-r.offsetTop)}),r.addEventListener("mouseup",function(m){m.preventDefault(),l.columnBody.mouseUp()}),r.addEventListener("mouseleave",function(m){m.preventDefault(),l.columnBody.mouseLeave()}),r.addEventListener("touchend",function(m){m.preventDefault(),l.columnBody.mouseUp()}))}draw(){const e=document.querySelector(`#${this.id}`);if(e){const r=e.offsetWidth,l=e.offsetHeight;e.width=r,e.height=l;const m=e.getContext("2d");if(m){m.save(),this.now=nt().startOf("day");for(let T of this.frame.lines)this.drawTicket(m,T);this.frame.moving&&this.frame.ganttRow.y1!=-1&&(m.fillStyle="#fffdef",m.fillRect(0,this.frame.ganttRow.y1+this.posY+this.frame.diffY,r,Qe),m.fill(),this.frame.movingTicket&&this.drawMovingTicket(m,this.frame.movingTicket,this.frame.ganttRow.y1+this.posY+this.frame.diffY)),m.fillStyle="#82a4c1";let S=0;for(let T of this.frame.cols)S+=T.width,m.fillRect(S,0,1,l),m.fill();S+=2,m.fillRect(S,0,1,l),m.fill(),this.frame.ganttRow.y1!=-1&&(m.fillStyle="#f6f",m.fillRect(0,this.frame.ganttRow.y1+this.posY+this.frame.diffY,r,1),m.fill(),m.fillRect(0,this.frame.ganttRow.y2+this.posY+this.frame.diffY,r,1),m.fill(),m.fillRect(0,this.frame.ganttRow.y1+this.posY+this.frame.diffY,1,Qe),m.fill()),m.restore()}}}getFrameHeight(e,r){let l=r;for(let m of e)l+=Qe,m.open&&m.children.length>0&&(l=this.getFrameHeight(m.children,l));return l}drawTicket(e,r){var Y;if(this.frame.moving&&r.id===((Y=this.frame.movingTicket)==null?void 0:Y.id))return;e.font="9.5pt sans-serif",e.textBaseline="bottom";let l=r.y1,m=r.y2;if(this.frame.moving&&this.frame.movingTicket&&this.frame.movingLine!==-1&&this.frame.hoverLine!==-1)if(this.frame.diffY<0)if(r.line===this.frame.hoverLine){let ie=this.frame.movingLine-this.frame.hoverLine;-this.frame.diffY-(ie-1)*Qe>10&&(l+=Qe,m+=Qe)}else r.line>this.frame.hoverLine&&r.line<this.frame.movingLine&&(l+=Qe,m+=Qe);else if(r.line===this.frame.hoverLine){let ie=this.frame.hoverLine-this.frame.movingLine;this.frame.diffY-(ie-1)*Qe>10&&(l-=Qe,m-=Qe)}else r.line<this.frame.hoverLine&&r.line>this.frame.movingLine&&(l-=Qe,m-=Qe);const S=l+18;e.fillStyle="#00f",e.fillText(r.id_disp,3,S+this.posY),e.fillStyle="#808080";let T=this.frame.cols[0].width+r.level*12+6;e.fillRect(T,l+7+this.posY,1,8),e.fill(),e.fillRect(T,l+7+this.posY,8,1),e.fill(),e.fillRect(T,l+15+this.posY,8,1),e.fill(),e.fillRect(T+8,l+7+this.posY,1,9),e.fill(),e.fillStyle="#000",r.children.length>0&&(e.fillRect(T+2,l+11+this.posY,5,1),e.fill(),r.open||(e.fillRect(T+4,l+9+this.posY,1,5),e.fill()));let k=this.frame.cols[0].width+this.frame.cols[1].width-(T+14);if(e.measureText(r.name).width<=k)e.fillText(r.name,T+14,S+this.posY);else{let ie=r.name;for(;e.measureText(`${ie}…`).width>k;)ie=ie.slice(0,-1);e.fillText(`${ie}…`,T+14,S+this.posY)}if(T=this.frame.cols[0].width+this.frame.cols[1].width+3,r.start_date){let ie=nt(r.start_date).startOf("day"),ce=!1;this.frame.delayRed&&r.progress===0&&ie.isBefore(this.now)&&(ce=!0),e.fillStyle=ce?"#f00":"#000",e.fillText(nt(ie).format("YY/MM/DD"),T,S+this.posY)}if(T+=this.frame.cols[2].width,r.end_date){let ie=nt(r.end_date).startOf("day"),ce=!1;this.frame.delayRed&&r.progress!==100&&ie.isBefore(this.now)&&(ce=!0),r.id_disp==="YU73"&&console.log({dt:ie.format("YY/MM/DD"),now:this.now.format("YY/MM/DD"),delay:ce}),e.fillStyle=ce?"#f00":"#000",e.fillText(nt(ie).format("YY/MM/DD"),T,S+this.posY)}e.fillStyle="#000",T+=this.frame.cols[3].width+this.frame.cols[4].width-6;const V=`${r.progress}`,F=e.measureText(V).width;e.fillText(V,T-F,S+this.posY),e.fillStyle="#e5ebf2",e.fillRect(0,m+this.posY,this.width,1),e.fill()}drawMovingTicket(e,r,l){e.font="9.5pt sans-serif",e.textBaseline="bottom";let m=l;const S=m+18;if(e.fillStyle="#00f",e.fillText(r.id_disp,3,S),e.fillStyle="#808080",this.movingLevel=r.level,this.frame.movingLine!==-1&&this.frame.hoverLine!=-1&&this.frame.movingTicket){let Y=this.frame.lines[this.frame.hoverLine];if(this.frame.diffY<0){this.upper=Y,this.frame.lines.length>this.frame.hoverLine+1?(this.lower=this.frame.lines[this.frame.hoverLine+1],this.lower===this.frame.movingTicket&&(this.frame.lines.length>this.frame.hoverLine+2?this.lower=this.frame.lines[this.frame.hoverLine+2]:this.lower=null)):this.lower=null;let ie=this.frame.movingLine-this.frame.hoverLine;-this.frame.diffY-(ie-1)*Qe>10&&(this.frame.hoverLine===0?(this.upper=null,this.frame.lines.length>0?(this.lower=this.frame.lines[0],this.lower===this.frame.movingTicket&&(this.frame.lines.length>1?this.lower=this.frame.lines[1]:this.lower=null)):this.lower=null):(this.upper=this.frame.lines[this.frame.hoverLine-1],this.lower=this.frame.lines[this.frame.hoverLine],this.lower===this.frame.movingTicket&&(this.frame.lines.length>this.frame.hoverLine+1?this.lower=this.frame.lines[this.frame.hoverLine+1]:this.lower=null)))}else{this.frame.movingLine===0?(this.upper=null,this.frame.lines.length>0?(this.lower=this.frame.lines[0],this.lower===this.frame.movingTicket&&(this.frame.lines.length>1?this.lower=this.frame.lines[1]:this.lower=null)):this.lower=null):(this.upper=this.frame.lines[this.frame.movingLine-1],this.lower=this.frame.lines[this.frame.movingLine],this.lower===this.frame.movingTicket&&(this.frame.lines.length>this.frame.movingLine+1?this.lower=this.frame.lines[this.frame.movingLine+1]:this.lower=null));let ie=this.frame.hoverLine-this.frame.movingLine;this.frame.diffY-(ie-1)*Qe>10&&(this.upper=Y,this.frame.lines.length>this.frame.hoverLine+1?(this.lower=this.frame.lines[this.frame.hoverLine+1],this.lower===this.frame.movingTicket&&(this.frame.lines.length>this.frame.hoverLine+2?this.lower=this.frame.lines[this.frame.hoverLine+2]:this.lower=null)):this.lower=null)}this.upper?this.upper.children.length>0&&this.upper.open?(this.movingLevel=this.upper.level+1,this.upper.children[this.upper.children.length-1]===this.frame.movingTicket&&this.frame.diffX<-12&&(this.movingLevel=this.frame.movingTicket.level-Math.floor(-this.frame.diffX/12),this.lower?this.movingLevel<this.lower.level&&(this.movingLevel=this.lower.level):this.movingLevel<0&&(this.movingLevel=0))):(this.movingLevel=this.upper.level,this.frame.diffX>12?this.movingLevel++:this.frame.diffX<-12&&(this.lower?(this.movingLevel=this.frame.movingTicket.level-Math.floor(-this.frame.diffX/12),this.movingLevel<this.lower.level&&(this.movingLevel=this.lower.level)):(this.movingLevel=this.frame.movingTicket.level-Math.floor(-this.frame.diffX/12),this.movingLevel<0&&(this.movingLevel=0)))):this.movingLevel=0}let T=this.frame.cols[0].width+this.movingLevel*12+6;e.fillRect(T,m+7,1,8),e.fill(),e.fillRect(T,m+7,8,1),e.fill(),e.fillRect(T,m+15,8,1),e.fill(),e.fillRect(T+8,m+7,1,9),e.fill(),e.fillStyle="#000",r.children.length>0&&(e.fillRect(T+2,m+11,5,1),e.fill(),e.fillRect(T+4,m+9,1,5),e.fill());let k=this.frame.cols[0].width+this.frame.cols[1].width-(T+14);if(e.measureText(r.name).width<=k)e.fillText(r.name,T+14,S);else{let Y=r.name;for(;e.measureText(`${Y}…`).width>k;)Y=Y.slice(0,-1);e.fillText(`${Y}…`,T+14,S)}T=this.frame.cols[0].width+this.frame.cols[1].width+3,r.start_date&&e.fillText(nt(r.start_date).format("YY/MM/DD"),T,S),T+=this.frame.cols[2].width,r.end_date&&e.fillText(nt(r.end_date).format("YY/MM/DD"),T,S),T+=this.frame.cols[3].width+this.frame.cols[4].width-6;const V=`${r.progress}`,F=e.measureText(V).width;e.fillText(V,T-F,S),e.fillStyle="#e5ebf2"}scrollH(e){this.posX=-e;const r=document.querySelector(`#${this.id}`);r&&(r.style.left=`${this.posX}px`)}scrollV(e){this.posY=-e,this.draw()}mouseDown(e,r){try{this.frame.clicked=!0,this.frame.startX=e,this.frame.startY=r,this.frame.movingLine=-1,this.clickedId="";for(let l=0;l<this.frame.lines.length;l++){let m=this.frame.lines[l];if(m.y1+this.posY<=r&&r<=m.y2+this.posY){this.frame.movingLine=l,this.clickTicket(m,e);break}}this.clickedId?fetch(`/api/ticket/${this.clickedId}`,{method:"GET"}).then(l=>l.json()).then(l=>{l.result?this.frame.ticketModal.show(l):window.alert(`エラーが発生しました。: ${l.message}`)}).catch(l=>window.alert(`エラーが発生しました。: ${l.message}`)):this.frame.draw()}catch(l){window.alert(`エラーが発生しました。: ${l}`)}}mouseMove(e,r){var l;if(this.frame.clicked)try{this.frame.moving||(this.frame.resetLines(((l=this.frame.movingTicket)==null?void 0:l.id)??""),this.frame.moving=!0),this.frame.diffX=e-this.frame.startX,this.frame.diffY=r-this.frame.startY,this.frame.hoverLine=-1;for(let m=0;m<this.frame.lines.length;m++){let S=this.frame.lines[m];if(S!=this.frame.movingTicket&&S.y1<this.frame.ganttRow.y2+this.frame.diffY&&S.y2>this.frame.ganttRow.y1+this.frame.diffY){this.frame.hoverLine=m;break}}this.frame.dropPos="",this.frame.draw()}catch(m){window.alert(`エラーが発生しました。: ${m}`)}}mouseUp(){var e,r;if(!this.frame.moving){this.frame.clicked=!1;return}try{const l=`${(e=this.frame.movingTicket)==null?void 0:e.pos}`.split(",");let m=null,S=null,T=null,k=0,j=null,V=-1,F=this.frame.tickets;for(let Y=0;Y<l.length;Y++){let ie=l[Y],ce=Number(ie);if(this.frame.showDone)m=F[ce];else{let J=ce,Z=0;for(let _e=0;_e<F.length;_e++){let oe=F[_e];if(oe.progress<100&&Z++,Z>J){m=oe,ce=_e;break}}}if(!m)break;F=m.children,Y==l.length-2&&(T=m),Y==l.length-1&&(k=ce)}if(this.upper){const Y=`${this.upper.pos}`.split(",");F=this.frame.tickets;for(let ie=0;ie<Y.length;ie++){let ce=Y[ie],J=Number(ce);if(this.frame.showDone)S=F[J];else{let Z=J,_e=0;for(let oe=0;oe<F.length;oe++){let Be=F[oe];if(Be.progress<100&&_e++,_e>Z){S=Be,J=oe;break}}}if(!S)break;if(F=S.children,ie===0&&(V=J),ie<this.movingLevel&&(j=S,V=-1,ie+1<Y.length))if(J=Number(Y[ie+1]),this.frame.showDone)V=J;else{let Z=J,_e=0;for(let oe=0;oe<F.length;oe++)if(F[oe].progress<100&&_e++,_e>Z){V=oe;break}}}}this.frame.movingTicket&&(T?j?T===j?k>V?(T.children.splice(k,1),j.children.splice(V+1,0,this.frame.movingTicket)):k<V&&(j.children.splice(V+1,0,this.frame.movingTicket),T.children.splice(k,1)):(T.children.splice(k,1),j.children.splice(V+1,0,this.frame.movingTicket)):(T.children.splice(k,1),this.frame.tickets.splice(V+1,0,this.frame.movingTicket)):j?(this.frame.tickets.splice(k,1),j.children.splice(V+1,0,this.frame.movingTicket)):k>V?(this.frame.tickets.splice(k,1),this.frame.tickets.splice(V+1,0,this.frame.movingTicket)):k<V&&(this.frame.tickets.splice(V+1,0,this.frame.movingTicket),this.frame.tickets.splice(k,1)),this.frame.movingTicket.open=!1),this.frame.clicked=!1,this.frame.moving=!1,this.frame.diffY=0,this.frame.resetLines(((r=this.frame.movingTicket)==null?void 0:r.id)??""),this.frame.draw(),this.frame.movingTicket=null}catch(l){window.alert(`エラーが発生しました。: ${l}`)}}mouseLeave(){try{this.frame.clicked=!1,this.frame.moving=!1,this.frame.diffY=0,this.frame.movingTicket=null,this.frame.draw()}catch(e){window.alert(`エラーが発生しました。: ${e}`)}}clickTicket(e,r){if(this.frame.ganttRow.y1=e.y1,this.frame.ganttRow.y2=e.y2,this.frame.movingTicket=e,this.frame.dropPos="",r<this.frame.cols[0].width){this.clickedId=e.id;return}if(r<this.frame.cols[0].width+this.frame.cols[1].width){const l=this.frame.cols[0].width+e.level*12+2;r>l&&r<l+16&&(e.open=!e.open,this.frame.nodeOpenClose(e.id,e.open),this.frame.draw(),this.frame.ticketsTotalHeight<this.frame.ticketsFrameHeight&&this.posY!=0&&(this.posY=0,this.frame.calendarBody.posY=0,this.frame.scv.pos=0,this.frame.draw()))}}}class Hu{constructor(e){z(this,"id","colscr");z(this,"pos",0);this.frame=e}build(e){const r=document.createElement("div");r.id=this.id,r.className="scroll-corner",r.style.top=`${this.frame.height-he}px`,r.style.left=`${this.pos}px`,r.style.width=`${this.frame.calendarLeft}px`,r.style.height=`${he}px`,e.append(r)}scrollH(e){this.pos=-e;const r=document.querySelector(`#${this.id}`);r&&(r.style.left=`${this.pos}px`)}}var Oa={exports:{}};(function(h,e){(function(r,l){h.exports=l()})(zi,function(){return function(r,l){l.prototype.isSameOrAfter=function(m,S){return this.isSame(m,S)||this.isAfter(m,S)}}})})(Oa);var qu=Oa.exports;const Da=Is(qu);nt.extend(Da);class Bu{constructor(e){z(this,"id","calhead");z(this,"width",0);z(this,"pos",0);z(this,"dtpos",0);this.frame=e}build(e){const r=document.createElement("canvas");this.width=this.frame.width-this.frame.calendarLeft,this.width<Ht&&(this.width=Ht),r.id=this.id,r.className="header",r.style.top="0px",r.style.left=`${this.pos+this.frame.calendarLeft}px`,r.style.width=`${this.width}px`,r.style.height=`${yn+1}px`,e.append(r)}resize(){this.width=this.frame.width-this.frame.calendarLeft,this.width<Ht&&(this.width=Ht);const e=document.querySelector(`#${this.id}`);e&&(e.style.width=`${this.width}px`),this.dtpos=0}draw(){const e=document.querySelector(`#${this.id}`);if(e){const r=e.offsetHeight;e.width=this.width,e.height=r;const l=Mt+Mt,m=e.getContext("2d"),S="9.5pt sans-serif";if(m){m.save(),m.fillStyle="#82a4c1",m.fillRect(0,Mt,this.width,1),m.fill(),m.fillRect(0,Mt+Mt,this.width,1),m.fill(),m.fillRect(0,yn,this.width,1),m.fill();let T=this.frame.calendarStart.clone(),k=0,j=!0;m.font=S,m.textBaseline="bottom",m.textAlign="left";let V=1,F=-1;for(;this.frame.calendarEnd.isSameOrAfter(T);){if(F++,F>13&&(F=0,V++),k<this.dtpos-dt){k+=dt,T=T.add(1,"day"),j=!1;continue}if(k>this.width+this.dtpos)break;if(F===0&&(m.fillStyle="#000",m.fillText(`${V}`,k+3-this.dtpos,Mt-3),j||(m.fillStyle="#bdcede",m.fillRect(k-this.dtpos,0,1,Mt),m.fill())),j?(j=!1,(T.date()==1||T.date()<25)&&(m.fillStyle="#000",m.fillText(`${T.format("YYYY/M")}`,k+3-this.dtpos,Mt+Mt-3))):T.date()===1&&(m.fillStyle="#000",m.fillText(`${T.format("YYYY/M")}`,k+3-this.dtpos,Mt+Mt-3),m.fillStyle="#bdcede",m.fillRect(k-this.dtpos,Mt,1,Mt),m.fill()),this.frame.holidays.filter(ie=>ie.isSame(T)).length>0)m.fillStyle="#f00";else switch(T.day()){case 0:m.fillStyle="#f00";break;case 6:m.fillStyle="#00f";break;default:m.fillStyle="#000";break}m.fillText(`${T.date()}`,k+3-this.dtpos,yn-3),k+=dt,T=T.add(1,"day"),m.fillStyle="#bdcede",m.fillRect(k-this.dtpos,l,1,Mt),m.fill()}m.restore()}}}scrollH(e){this.pos=-e;const r=document.querySelector(`#${this.id}`);r&&(r.style.left=`${this.pos+this.frame.calendarLeft}px`)}scroll(e){this.dtpos=e*this.frame.calendarTotalWidth/(this.width-he-he),this.draw(),this.frame.calendarBody.dtpos=this.dtpos,this.frame.calendarBody.draw()}}nt.extend(Da);const cr="#57f",ds="#9bf",ps="#68f",ms="#8af",gs="#bdf",ui="#f66",vs="#faa",ys="#f77",bs="#f99",_s="#fcc";class Ku{constructor(e){z(this,"id","calbody");z(this,"width",0);z(this,"posX",0);z(this,"posY",0);z(this,"dtpos",0);z(this,"nowpos",0);this.frame=e}build(e){const r=document.createElement("canvas");this.width=this.frame.width-this.frame.calendarLeft,this.width<Ht&&(this.width=Ht);const l=this.frame.height-yn-he;r.id=this.id,r.className="gantt-body",r.style.top=`${yn+1}px`,r.style.left=`${this.posX+this.frame.calendarLeft}px`,r.style.width=`${this.width}px`,r.style.height=`${l}px`,e.append(r)}resize(){this.width=this.frame.width-this.frame.calendarLeft,this.width<Ht&&(this.width=Ht);const e=document.querySelector(`#${this.id}`);e&&(e.style.width=`${this.width}px`),this.dtpos=0}draw(){const e=document.querySelector(`#${this.id}`);if(e){const r=e.offsetWidth,l=e.offsetHeight;e.width=r,e.height=l;const m=e.getContext("2d");if(m){m.save(),this.nowpos=nt().diff(this.frame.calendarStart)/kn*dt;let S=this.frame.calendarStart.clone(),T=0;for(;this.frame.calendarEnd.isSameOrAfter(S);){if(T<this.dtpos-dt){T+=dt,S=S.add(1,"day");continue}if(T>this.width+this.dtpos)break;let k=!1;if(this.frame.holidays.filter(V=>V.isSame(S)).length>0)k=!0;else switch(S.day()){case 0:case 6:k=!0;break}if(k&&(m.fillStyle="#f2fef2",m.fillRect(T+1-this.dtpos,0,dt-1,l),m.fill()),S=S.add(1,"day"),T+=dt,T>r+this.dtpos)break;m.fillStyle="#bdcede",m.fillRect(T-this.dtpos,0,1,l),m.fill()}for(let k of this.frame.lines)this.drawTicket(m,k);m.fillStyle="#0a0";for(let k=0;k<l;k+=7)m.fillRect(this.nowpos-this.dtpos,k,1,4),m.fill();this.frame.ganttRow.y1!=-1&&(this.frame.moving&&(m.fillStyle="#fffdef",m.fillRect(0,this.frame.ganttRow.y1+this.posY+this.frame.diffY,r,Qe),m.fill(),this.frame.movingTicket&&this.drawMovingTicket(m,this.frame.movingTicket,this.frame.ganttRow.y1+this.posY+this.frame.diffY)),m.fillStyle="#f6f",m.fillRect(0,this.frame.ganttRow.y1+this.posY+this.frame.diffY,r,1),m.fill(),m.fillRect(0,this.frame.ganttRow.y2+this.posY+this.frame.diffY,r,1),m.fill()),m.restore()}}}drawTicket(e,r){var S;if(this.frame.moving&&r.id===((S=this.frame.movingTicket)==null?void 0:S.id))return;let l=r.y1,m=r.y2;if(this.frame.moving&&this.frame.movingTicket&&this.frame.movingLine!==-1&&this.frame.hoverLine!==-1)if(this.frame.diffY<0)if(r.line===this.frame.hoverLine){let T=this.frame.movingLine-this.frame.hoverLine;-this.frame.diffY-(T-1)*Qe>10&&(l+=Qe,m+=Qe)}else r.line>this.frame.hoverLine&&r.line<this.frame.movingLine&&(l+=Qe,m+=Qe);else if(r.line===this.frame.hoverLine){let T=this.frame.hoverLine-this.frame.movingLine;this.frame.diffY-(T-1)*Qe>10&&(l-=Qe,m-=Qe)}else r.line<this.frame.hoverLine&&r.line>this.frame.movingLine&&(l-=Qe,m-=Qe);if(r.start_date)if(r.end_date){let T=nt(r.start_date).diff(this.frame.calendarStart)/kn;T=T*dt-this.dtpos;let k=nt(r.end_date).diff(this.frame.calendarStart)/kn;if(k=(k+1)*dt-this.dtpos,r.progress===0){const j=this.frame.delayRed&&T<this.nowpos-this.dtpos;e.fillStyle=j?vs:ds,e.fillRect(T,l+8+this.posY,k-T,6),e.fill()}else if(r.progress===100)e.fillStyle=cr,e.fillRect(T,l+8+this.posY,k-T,6),e.fill();else{const j=(k-T)*r.progress/100,V=this.frame.delayRed&&T+j<this.nowpos-this.dtpos;e.fillStyle=V?vs:ds,e.fillRect(T,l+8+this.posY,k-T,6),e.fill(),e.fillStyle=V?ui:cr,e.fillRect(T,l+8+this.posY,j,6),e.fill()}}else{let T=nt(r.start_date).diff(this.frame.calendarStart)/kn;const k=this.frame.delayRed&&T<this.nowpos-this.dtpos;T=T*dt-this.dtpos,e.fillStyle=k?ui:cr,e.fillRect(T,l+8+this.posY,12,6),e.fill(),e.fillStyle=k?ys:ps,T+=12,e.fillRect(T,l+8+this.posY,7,6),e.fill(),e.fillStyle=k?bs:ms,T+=7,e.fillRect(T,l+8+this.posY,6,6),e.fill(),e.fillStyle=k?_s:gs,T+=6,e.fillRect(T,l+8+this.posY,5,6),e.fill()}else if(r.end_date){let T=nt(r.end_date).diff(this.frame.calendarStart)/kn;T=(T+1)*dt-this.dtpos;const k=this.frame.delayRed&&T<this.nowpos-this.dtpos;T-=12,e.fillStyle=k?ui:cr,e.fillRect(T,l+8+this.posY,12,6),e.fill(),e.fillStyle=k?ys:ps,T-=7,e.fillRect(T,l+8+this.posY,7,6),e.fill(),e.fillStyle=k?bs:ms,T-=6,e.fillRect(T,l+8+this.posY,6,6),e.fill(),e.fillStyle=k?_s:gs,T-=5,e.fillRect(T,l+8+this.posY,5,6),e.fill()}e.fillStyle="#e5ebf2",e.fillRect(0,m+this.posY,this.width,1),e.fill()}drawMovingTicket(e,r,l){let m=l;if(r.start_date)if(r.end_date){let S=nt(r.start_date).diff(this.frame.calendarStart)/kn;S=S*dt-this.dtpos;let T=nt(r.end_date).diff(this.frame.calendarStart)/kn;if(T=(T+1)*dt-this.dtpos,r.progress===0){const k=this.frame.delayRed&&S<this.nowpos-this.dtpos;e.fillStyle=k?vs:ds,e.fillRect(S,m+8,T-S,6),e.fill()}else if(r.progress===100)e.fillStyle=cr,e.fillRect(S,m+8,T-S,6),e.fill();else{const k=(T-S)*r.progress/100,j=this.frame.delayRed&&S+k<this.nowpos-this.dtpos;e.fillStyle=j?vs:ds,e.fillRect(S,m+8,T-S,6),e.fill(),e.fillStyle=j?ui:cr,e.fillRect(S,m+8,k,6),e.fill()}}else{let S=nt(r.start_date).diff(this.frame.calendarStart)/kn;const T=this.frame.delayRed&&S<this.nowpos-this.dtpos;S=S*dt-this.dtpos,e.fillStyle=T?ui:cr,e.fillRect(S,m+8,12,6),e.fill(),e.fillStyle=T?ys:ps,S+=12,e.fillRect(S,m+8,7,6),e.fill(),e.fillStyle=T?bs:ms,S+=7,e.fillRect(S,m+8,6,6),e.fill(),e.fillStyle=T?_s:gs,S+=6,e.fillRect(S,m+8,5,6),e.fill()}else if(r.end_date){let S=nt(r.end_date).diff(this.frame.calendarStart)/kn;S=(S+1)*dt-this.dtpos;const T=this.frame.delayRed&&S<this.nowpos-this.dtpos;e.fillStyle=T?ui:cr,S-=12,e.fillRect(S,m+8,12,6),e.fill(),e.fillStyle=T?ys:ps,S-=7,e.fillRect(S,m+8,7,6),e.fill(),e.fillStyle=T?bs:ms,S-=6,e.fillRect(S,m+8,6,6),e.fill(),e.fillStyle=T?_s:gs,S-=5,e.fillRect(S,m+8,5,6),e.fill()}e.fillStyle="#e5ebf2"}scrollH(e){this.posX=-e;const r=document.querySelector(`#${this.id}`);r&&(r.style.left=`${this.posX+this.frame.calendarLeft}px`)}scrollV(e){this.posY=-e,this.draw()}}class Fu{constructor(e){z(this,"id","calscroll");z(this,"width",0);z(this,"pos",0);z(this,"barWidth",0);z(this,"height",he);z(this,"moving",!1);z(this,"startX",0);z(this,"barpos",0);z(this,"startPos",0);this.frame=e}build(e){this.width=this.frame.width-this.frame.calendarLeft,this.width<Ht&&(this.width=Ht);const r=document.createElement("canvas");r.id=this.id,r.className="scroll-bar",r.style.top=`${this.frame.height-he}px`,r.style.left=`${this.pos+this.frame.calendarLeft}px`,r.style.width=`${this.width}px`,r.style.height=`${this.height}px`,e.append(r)}resize(){this.width=this.frame.width-this.frame.calendarLeft,this.width<Ht&&(this.width=Ht);const e=document.querySelector(`#${this.id}`);e&&(e.style.width=`${this.width}px`),this.scrollH(0),this.barpos=0}handler(){const e=document.querySelector("#ganttframe"),r=document.querySelector(`#${this.id}`),l=this.frame;e&&r&&(r.addEventListener("mousedown",function(m){m.preventDefault(),l.mouseDownCalScroll(m.layerX)}),r.addEventListener("touchstart",function(m){m.preventDefault(),l.mouseDownCalScroll(m.touches[0].pageX-e.offsetLeft-r.offsetLeft)}),r.addEventListener("mousemove",function(m){m.preventDefault(),l.mouseMoveCalScroll(m.layerX)}),r.addEventListener("touchmove",function(m){m.preventDefault(),l.mouseMoveCalScroll(m.touches[0].pageX-e.offsetLeft-r.offsetLeft)}),r.addEventListener("mouseup",function(m){m.preventDefault(),l.mouseUpCalScroll()}),r.addEventListener("mouseleave",function(m){m.preventDefault(),l.mouseUpCalScroll()}),r.addEventListener("touchend",function(m){m.preventDefault(),l.mouseUpCalScroll()}))}draw(){const e=document.querySelector(`#${this.id}`);if(e){e.width=this.width,e.height=this.height;const r=e.getContext("2d");r&&(r.save(),r.lineJoin="miter",r.fillStyle="#505050",r.beginPath(),r.moveTo(5,8),r.lineTo(9,12),r.lineTo(9,4),r.closePath(),r.fill(),r.beginPath(),r.moveTo(this.width-10,4),r.lineTo(this.width-10,12),r.lineTo(this.width-6,8),r.closePath(),r.fill(),r.fillStyle="#c1c1c1",this.barWidth=(this.width-he-he)*this.width/this.frame.calendarTotalWidth,r.fillRect(he+this.barpos,2,this.barWidth<4?4:this.barWidth,13),r.restore())}}scrollH(e){this.pos=-e;const r=document.querySelector(`#${this.id}`);r&&(r.style.left=`${this.pos+this.frame.calendarLeft}px`)}mouseDownCalScroll(e){if(he+this.barpos<e&&e<he+this.barpos+this.barWidth){this.moving=!0,this.startX=e-he,this.startPos=this.barpos;return}e<he?this.barpos-=he:e<he+this.barpos?this.barpos-=this.barWidth:this.width-he<e?this.barpos+=he:this.barpos+=this.barWidth,this.barpos<0&&(this.barpos=0),this.width-he-he-this.barWidth<this.barpos&&(this.barpos=this.width-he-he-this.barWidth),this.frame.calendarHeader.scroll(this.barpos),this.draw(),this.moving=!1}mouseMoveCalScroll(e){if(!this.moving)return;this.barpos=e-he-this.startX+this.startPos,this.barpos<0&&(this.barpos=0);const r=this.width-this.barWidth-he-he;this.barpos>r&&(this.barpos=r),this.frame.calendarHeader.scroll(this.barpos),this.draw()}mouseUpCalScroll(){this.moving=!1}}class Wu{constructor(e){z(this,"id","scrollh");z(this,"width",0);z(this,"barWidth",0);z(this,"height",he);z(this,"moving",!1);z(this,"startX",0);z(this,"pos",0);z(this,"startPos",0);this.frame=e}handler(){const e=document.querySelector(`#${this.id}`),r=this.frame;e&&(e.addEventListener("mousedown",function(l){l.preventDefault(),r.mouseDownScrollH(l.pageX-e.offsetLeft)}),e.addEventListener("touchstart",function(l){l.preventDefault(),r.mouseDownScrollH(l.touches[0].pageX-e.offsetLeft)}),e.addEventListener("mousemove",function(l){l.preventDefault(),r.mouseMoveScrollH(l.pageX-e.offsetLeft)}),e.addEventListener("touchmove",function(l){l.preventDefault(),r.mouseMoveScrollH(l.touches[0].pageX-e.offsetLeft)}),e.addEventListener("mouseup",function(l){l.preventDefault(),r.mouseUpScrollH()}),e.addEventListener("mouseleave",function(l){l.preventDefault(),r.mouseUpScrollH()}),e.addEventListener("touchend",function(l){l.preventDefault(),r.mouseUpScrollH()}))}draw(){const e=document.querySelector(`#${this.id}`);if(e){if(this.width=e.offsetWidth,e.width=this.width,e.height=this.height,this.width>this.frame.schThreshold)return;const r=e.getContext("2d");r&&(r.save(),r.lineJoin="miter",r.fillStyle="#505050",r.beginPath(),r.moveTo(5,8),r.lineTo(9,12),r.lineTo(9,4),r.closePath(),r.fill(),r.beginPath(),r.moveTo(this.width-10,4),r.lineTo(this.width-10,12),r.lineTo(this.width-6,8),r.closePath(),r.fill(),r.fillStyle="#c1c1c1",this.barWidth=(this.width-he-he)*this.width/this.frame.schThreshold,r.fillRect(he+this.pos,2,this.barWidth<4?4:this.barWidth,13),r.restore())}}mouseDownScrollH(e){if(he+this.pos<e&&e<he+this.pos+this.barWidth){this.moving=!0,this.startX=e-he,this.startPos=this.pos;return}e<he?this.pos-=he:e<he+this.pos?this.pos-=this.barWidth:this.width-he<e?this.pos+=he:this.pos+=this.barWidth,this.pos<0&&(this.pos=0),this.width-he-he-this.barWidth<this.pos&&(this.pos=this.width-he-he-this.barWidth),this.frame.scrollH(this.pos),this.draw(),this.moving=!1}mouseMoveScrollH(e){if(!this.moving)return;this.pos=e-he-this.startX+this.startPos,this.pos<0&&(this.pos=0);const r=this.width-this.barWidth-he-he;this.pos>r&&(this.pos=r),this.frame.scrollH(this.pos),this.draw()}mouseUpScrollH(){this.moving=!1}}class Vu{constructor(e){z(this,"id","scrollv");z(this,"width",he);z(this,"height",0);z(this,"barHeight",0);z(this,"moving",!1);z(this,"visible",!1);z(this,"startY",0);z(this,"pos",0);z(this,"startPos",0);this.frame=e}handler(){const e=document.querySelector(`#${this.id}`),r=this.frame;e&&(e.addEventListener("mousedown",function(l){l.preventDefault(),r.mouseDownScrollV(l.pageY-e.offsetTop)}),e.addEventListener("touchstart",function(l){l.preventDefault(),r.mouseDownScrollV(l.touches[0].pageY-e.offsetTop)}),e.addEventListener("mousemove",function(l){l.preventDefault(),r.mouseMoveScrollV(l.pageY-e.offsetTop)}),e.addEventListener("touchmove",function(l){l.preventDefault(),r.mouseMoveScrollV(l.touches[0].pageY-e.offsetTop)}),e.addEventListener("mouseup",function(l){l.preventDefault(),r.mouseUpScrollV()}),e.addEventListener("mouseleave",function(l){l.preventDefault(),r.mouseUpScrollV()}),e.addEventListener("touchend",function(l){l.preventDefault(),r.mouseUpScrollV()}))}draw(){this.visible=!1;const e=document.querySelector(`#${this.id}`);if(e){this.height=e.offsetHeight,e.width=this.width,e.height=this.height;const r=e.getContext("2d");r&&this.frame.ticketsFrameHeight<this.frame.ticketsTotalHeight&&(this.visible=!0,r.save(),r.lineJoin="miter",r.fillStyle="#505050",r.beginPath(),r.moveTo(8,5),r.lineTo(4,9),r.lineTo(12,9),r.closePath(),r.fill(),r.beginPath(),r.moveTo(4,this.height-10),r.lineTo(8,this.height-6),r.lineTo(12,this.height-10),r.closePath(),r.fill(),r.fillStyle="#c1c1c1",this.barHeight=(this.height-he-he)*this.frame.ticketsFrameHeight/this.frame.ticketsTotalHeight,r.fillRect(2,he+this.pos,13,this.barHeight<4?4:this.barHeight),r.restore())}}mouseDownScrollV(e){if(!this.visible)return;if(he+this.pos<e&&e<he+this.pos+this.barHeight){this.moving=!0,this.startY=e-he,this.startPos=this.pos;return}e<he?this.pos-=he:e<he+this.pos?this.pos-=this.barHeight:this.height-he<e?this.pos+=he:this.pos+=this.barHeight,this.pos<0&&(this.pos=0);let r=this.pos/(this.height-he-he-this.barHeight);r>1&&(r=1,this.pos=this.height-he-he-this.barHeight),this.frame.scrollV((this.frame.ticketsTotalHeight-this.frame.ticketsFrameHeight)*r),this.draw(),this.moving=!1}mouseMoveScrollV(e){if(!this.visible||!this.moving)return;this.pos=e-he-this.startY+this.startPos,this.pos<0&&(this.pos=0);let r=this.pos/(this.height-he-he-this.barHeight);r>1&&(r=1,this.pos=this.height-he-he-this.barHeight),this.frame.scrollV((this.frame.ticketsTotalHeight-this.frame.ticketsFrameHeight)*r),this.draw()}mouseUpScrollV(){this.moving=!1}}var Dt="top",Vt="bottom",Yt="right",Nt="left",Rs="auto",wi=[Dt,Vt,Yt,Nt],jr="start",mi="end",Na="clippingParents",So="viewport",fi="popper",ka="reference",mo=wi.reduce(function(h,e){return h.concat([e+"-"+jr,e+"-"+mi])},[]),Ao=[].concat(wi,[Rs]).reduce(function(h,e){return h.concat([e,e+"-"+jr,e+"-"+mi])},[]),La="beforeRead",$a="read",Pa="afterRead",Ia="beforeMain",Ra="main",Ma="afterMain",ja="beforeWrite",Ha="write",qa="afterWrite",Ba=[La,$a,Pa,Ia,Ra,Ma,ja,Ha,qa];function Pn(h){return h?(h.nodeName||"").toLowerCase():null}function Ut(h){if(h==null)return window;if(h.toString()!=="[object Window]"){var e=h.ownerDocument;return e&&e.defaultView||window}return h}function Hr(h){var e=Ut(h).Element;return h instanceof e||h instanceof Element}function rn(h){var e=Ut(h).HTMLElement;return h instanceof e||h instanceof HTMLElement}function Co(h){if(typeof ShadowRoot>"u")return!1;var e=Ut(h).ShadowRoot;return h instanceof e||h instanceof ShadowRoot}function Yu(h){var e=h.state;Object.keys(e.elements).forEach(function(r){var l=e.styles[r]||{},m=e.attributes[r]||{},S=e.elements[r];!rn(S)||!Pn(S)||(Object.assign(S.style,l),Object.keys(m).forEach(function(T){var k=m[T];k===!1?S.removeAttribute(T):S.setAttribute(T,k===!0?"":k)}))})}function Uu(h){var e=h.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(l){var m=e.elements[l],S=e.attributes[l]||{},T=Object.keys(e.styles.hasOwnProperty(l)?e.styles[l]:r[l]),k=T.reduce(function(j,V){return j[V]="",j},{});!rn(m)||!Pn(m)||(Object.assign(m.style,k),Object.keys(S).forEach(function(j){m.removeAttribute(j)}))})}}const xo={name:"applyStyles",enabled:!0,phase:"write",fn:Yu,effect:Uu,requires:["computeStyles"]};function Ln(h){return h.split("-")[0]}var Mr=Math.max,ks=Math.min,gi=Math.round;function go(){var h=navigator.userAgentData;return h!=null&&h.brands&&Array.isArray(h.brands)?h.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ka(){return!/^((?!chrome|android).)*safari/i.test(go())}function vi(h,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var l=h.getBoundingClientRect(),m=1,S=1;e&&rn(h)&&(m=h.offsetWidth>0&&gi(l.width)/h.offsetWidth||1,S=h.offsetHeight>0&&gi(l.height)/h.offsetHeight||1);var T=Hr(h)?Ut(h):window,k=T.visualViewport,j=!Ka()&&r,V=(l.left+(j&&k?k.offsetLeft:0))/m,F=(l.top+(j&&k?k.offsetTop:0))/S,Y=l.width/m,ie=l.height/S;return{width:Y,height:ie,top:F,right:V+Y,bottom:F+ie,left:V,x:V,y:F}}function Oo(h){var e=vi(h),r=h.offsetWidth,l=h.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-l)<=1&&(l=e.height),{x:h.offsetLeft,y:h.offsetTop,width:r,height:l}}function Fa(h,e){var r=e.getRootNode&&e.getRootNode();if(h.contains(e))return!0;if(r&&Co(r)){var l=e;do{if(l&&h.isSameNode(l))return!0;l=l.parentNode||l.host}while(l)}return!1}function Xn(h){return Ut(h).getComputedStyle(h)}function zu(h){return["table","td","th"].indexOf(Pn(h))>=0}function mr(h){return((Hr(h)?h.ownerDocument:h.document)||window.document).documentElement}function Ms(h){return Pn(h)==="html"?h:h.assignedSlot||h.parentNode||(Co(h)?h.host:null)||mr(h)}function Ko(h){return!rn(h)||Xn(h).position==="fixed"?null:h.offsetParent}function Xu(h){var e=/firefox/i.test(go()),r=/Trident/i.test(go());if(r&&rn(h)){var l=Xn(h);if(l.position==="fixed")return null}var m=Ms(h);for(Co(m)&&(m=m.host);rn(m)&&["html","body"].indexOf(Pn(m))<0;){var S=Xn(m);if(S.transform!=="none"||S.perspective!=="none"||S.contain==="paint"||["transform","perspective"].indexOf(S.willChange)!==-1||e&&S.willChange==="filter"||e&&S.filter&&S.filter!=="none")return m;m=m.parentNode}return null}function Gi(h){for(var e=Ut(h),r=Ko(h);r&&zu(r)&&Xn(r).position==="static";)r=Ko(r);return r&&(Pn(r)==="html"||Pn(r)==="body"&&Xn(r).position==="static")?e:r||Xu(h)||e}function Do(h){return["top","bottom"].indexOf(h)>=0?"x":"y"}function Yi(h,e,r){return Mr(h,ks(e,r))}function Gu(h,e,r){var l=Yi(h,e,r);return l>r?r:l}function Wa(){return{top:0,right:0,bottom:0,left:0}}function Va(h){return Object.assign({},Wa(),h)}function Ya(h,e){return e.reduce(function(r,l){return r[l]=h,r},{})}var Qu=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,Va(typeof e!="number"?e:Ya(e,wi))};function Ju(h){var e,r=h.state,l=h.name,m=h.options,S=r.elements.arrow,T=r.modifiersData.popperOffsets,k=Ln(r.placement),j=Do(k),V=[Nt,Yt].indexOf(k)>=0,F=V?"height":"width";if(!(!S||!T)){var Y=Qu(m.padding,r),ie=Oo(S),ce=j==="y"?Dt:Nt,J=j==="y"?Vt:Yt,Z=r.rects.reference[F]+r.rects.reference[j]-T[j]-r.rects.popper[F],_e=T[j]-r.rects.reference[j],oe=Gi(S),Be=oe?j==="y"?oe.clientHeight||0:oe.clientWidth||0:0,Ue=Z/2-_e/2,Ee=Y[ce],$e=Be-ie[F]-Y[J],Ce=Be/2-ie[F]/2+Ue,f=Yi(Ee,Ce,$e),Je=j;r.modifiersData[l]=(e={},e[Je]=f,e.centerOffset=f-Ce,e)}}function Zu(h){var e=h.state,r=h.options,l=r.element,m=l===void 0?"[data-popper-arrow]":l;m!=null&&(typeof m=="string"&&(m=e.elements.popper.querySelector(m),!m)||Fa(e.elements.popper,m)&&(e.elements.arrow=m))}const Ua={name:"arrow",enabled:!0,phase:"main",fn:Ju,effect:Zu,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yi(h){return h.split("-")[1]}var el={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tl(h,e){var r=h.x,l=h.y,m=e.devicePixelRatio||1;return{x:gi(r*m)/m||0,y:gi(l*m)/m||0}}function Fo(h){var e,r=h.popper,l=h.popperRect,m=h.placement,S=h.variation,T=h.offsets,k=h.position,j=h.gpuAcceleration,V=h.adaptive,F=h.roundOffsets,Y=h.isFixed,ie=T.x,ce=ie===void 0?0:ie,J=T.y,Z=J===void 0?0:J,_e=typeof F=="function"?F({x:ce,y:Z}):{x:ce,y:Z};ce=_e.x,Z=_e.y;var oe=T.hasOwnProperty("x"),Be=T.hasOwnProperty("y"),Ue=Nt,Ee=Dt,$e=window;if(V){var Ce=Gi(r),f="clientHeight",Je="clientWidth";if(Ce===Ut(r)&&(Ce=mr(r),Xn(Ce).position!=="static"&&k==="absolute"&&(f="scrollHeight",Je="scrollWidth")),Ce=Ce,m===Dt||(m===Nt||m===Yt)&&S===mi){Ee=Vt;var Te=Y&&Ce===$e&&$e.visualViewport?$e.visualViewport.height:Ce[f];Z-=Te-l.height,Z*=j?1:-1}if(m===Nt||(m===Dt||m===Vt)&&S===mi){Ue=Yt;var Oe=Y&&Ce===$e&&$e.visualViewport?$e.visualViewport.width:Ce[Je];ce-=Oe-l.width,ce*=j?1:-1}}var Se=Object.assign({position:k},V&&el),rt=F===!0?tl({x:ce,y:Z},Ut(r)):{x:ce,y:Z};if(ce=rt.x,Z=rt.y,j){var be;return Object.assign({},Se,(be={},be[Ee]=Be?"0":"",be[Ue]=oe?"0":"",be.transform=($e.devicePixelRatio||1)<=1?"translate("+ce+"px, "+Z+"px)":"translate3d("+ce+"px, "+Z+"px, 0)",be))}return Object.assign({},Se,(e={},e[Ee]=Be?Z+"px":"",e[Ue]=oe?ce+"px":"",e.transform="",e))}function nl(h){var e=h.state,r=h.options,l=r.gpuAcceleration,m=l===void 0?!0:l,S=r.adaptive,T=S===void 0?!0:S,k=r.roundOffsets,j=k===void 0?!0:k,V={placement:Ln(e.placement),variation:yi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:m,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Fo(Object.assign({},V,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:T,roundOffsets:j})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Fo(Object.assign({},V,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:j})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const No={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:nl,data:{}};var ws={passive:!0};function rl(h){var e=h.state,r=h.instance,l=h.options,m=l.scroll,S=m===void 0?!0:m,T=l.resize,k=T===void 0?!0:T,j=Ut(e.elements.popper),V=[].concat(e.scrollParents.reference,e.scrollParents.popper);return S&&V.forEach(function(F){F.addEventListener("scroll",r.update,ws)}),k&&j.addEventListener("resize",r.update,ws),function(){S&&V.forEach(function(F){F.removeEventListener("scroll",r.update,ws)}),k&&j.removeEventListener("resize",r.update,ws)}}const ko={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rl,data:{}};var il={left:"right",right:"left",bottom:"top",top:"bottom"};function Os(h){return h.replace(/left|right|bottom|top/g,function(e){return il[e]})}var sl={start:"end",end:"start"};function Wo(h){return h.replace(/start|end/g,function(e){return sl[e]})}function Lo(h){var e=Ut(h),r=e.pageXOffset,l=e.pageYOffset;return{scrollLeft:r,scrollTop:l}}function $o(h){return vi(mr(h)).left+Lo(h).scrollLeft}function ol(h,e){var r=Ut(h),l=mr(h),m=r.visualViewport,S=l.clientWidth,T=l.clientHeight,k=0,j=0;if(m){S=m.width,T=m.height;var V=Ka();(V||!V&&e==="fixed")&&(k=m.offsetLeft,j=m.offsetTop)}return{width:S,height:T,x:k+$o(h),y:j}}function al(h){var e,r=mr(h),l=Lo(h),m=(e=h.ownerDocument)==null?void 0:e.body,S=Mr(r.scrollWidth,r.clientWidth,m?m.scrollWidth:0,m?m.clientWidth:0),T=Mr(r.scrollHeight,r.clientHeight,m?m.scrollHeight:0,m?m.clientHeight:0),k=-l.scrollLeft+$o(h),j=-l.scrollTop;return Xn(m||r).direction==="rtl"&&(k+=Mr(r.clientWidth,m?m.clientWidth:0)-S),{width:S,height:T,x:k,y:j}}function Po(h){var e=Xn(h),r=e.overflow,l=e.overflowX,m=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+m+l)}function za(h){return["html","body","#document"].indexOf(Pn(h))>=0?h.ownerDocument.body:rn(h)&&Po(h)?h:za(Ms(h))}function Ui(h,e){var r;e===void 0&&(e=[]);var l=za(h),m=l===((r=h.ownerDocument)==null?void 0:r.body),S=Ut(l),T=m?[S].concat(S.visualViewport||[],Po(l)?l:[]):l,k=e.concat(T);return m?k:k.concat(Ui(Ms(T)))}function vo(h){return Object.assign({},h,{left:h.x,top:h.y,right:h.x+h.width,bottom:h.y+h.height})}function ul(h,e){var r=vi(h,!1,e==="fixed");return r.top=r.top+h.clientTop,r.left=r.left+h.clientLeft,r.bottom=r.top+h.clientHeight,r.right=r.left+h.clientWidth,r.width=h.clientWidth,r.height=h.clientHeight,r.x=r.left,r.y=r.top,r}function Vo(h,e,r){return e===So?vo(ol(h,r)):Hr(e)?ul(e,r):vo(al(mr(h)))}function ll(h){var e=Ui(Ms(h)),r=["absolute","fixed"].indexOf(Xn(h).position)>=0,l=r&&rn(h)?Gi(h):h;return Hr(l)?e.filter(function(m){return Hr(m)&&Fa(m,l)&&Pn(m)!=="body"}):[]}function cl(h,e,r,l){var m=e==="clippingParents"?ll(h):[].concat(e),S=[].concat(m,[r]),T=S[0],k=S.reduce(function(j,V){var F=Vo(h,V,l);return j.top=Mr(F.top,j.top),j.right=ks(F.right,j.right),j.bottom=ks(F.bottom,j.bottom),j.left=Mr(F.left,j.left),j},Vo(h,T,l));return k.width=k.right-k.left,k.height=k.bottom-k.top,k.x=k.left,k.y=k.top,k}function Xa(h){var e=h.reference,r=h.element,l=h.placement,m=l?Ln(l):null,S=l?yi(l):null,T=e.x+e.width/2-r.width/2,k=e.y+e.height/2-r.height/2,j;switch(m){case Dt:j={x:T,y:e.y-r.height};break;case Vt:j={x:T,y:e.y+e.height};break;case Yt:j={x:e.x+e.width,y:k};break;case Nt:j={x:e.x-r.width,y:k};break;default:j={x:e.x,y:e.y}}var V=m?Do(m):null;if(V!=null){var F=V==="y"?"height":"width";switch(S){case jr:j[V]=j[V]-(e[F]/2-r[F]/2);break;case mi:j[V]=j[V]+(e[F]/2-r[F]/2);break}}return j}function bi(h,e){e===void 0&&(e={});var r=e,l=r.placement,m=l===void 0?h.placement:l,S=r.strategy,T=S===void 0?h.strategy:S,k=r.boundary,j=k===void 0?Na:k,V=r.rootBoundary,F=V===void 0?So:V,Y=r.elementContext,ie=Y===void 0?fi:Y,ce=r.altBoundary,J=ce===void 0?!1:ce,Z=r.padding,_e=Z===void 0?0:Z,oe=Va(typeof _e!="number"?_e:Ya(_e,wi)),Be=ie===fi?ka:fi,Ue=h.rects.popper,Ee=h.elements[J?Be:ie],$e=cl(Hr(Ee)?Ee:Ee.contextElement||mr(h.elements.popper),j,F,T),Ce=vi(h.elements.reference),f=Xa({reference:Ce,element:Ue,strategy:"absolute",placement:m}),Je=vo(Object.assign({},Ue,f)),Te=ie===fi?Je:Ce,Oe={top:$e.top-Te.top+oe.top,bottom:Te.bottom-$e.bottom+oe.bottom,left:$e.left-Te.left+oe.left,right:Te.right-$e.right+oe.right},Se=h.modifiersData.offset;if(ie===fi&&Se){var rt=Se[m];Object.keys(Oe).forEach(function(be){var ve=[Yt,Vt].indexOf(be)>=0?1:-1,ue=[Dt,Vt].indexOf(be)>=0?"y":"x";Oe[be]+=rt[ue]*ve})}return Oe}function fl(h,e){e===void 0&&(e={});var r=e,l=r.placement,m=r.boundary,S=r.rootBoundary,T=r.padding,k=r.flipVariations,j=r.allowedAutoPlacements,V=j===void 0?Ao:j,F=yi(l),Y=F?k?mo:mo.filter(function(J){return yi(J)===F}):wi,ie=Y.filter(function(J){return V.indexOf(J)>=0});ie.length===0&&(ie=Y);var ce=ie.reduce(function(J,Z){return J[Z]=bi(h,{placement:Z,boundary:m,rootBoundary:S,padding:T})[Ln(Z)],J},{});return Object.keys(ce).sort(function(J,Z){return ce[J]-ce[Z]})}function hl(h){if(Ln(h)===Rs)return[];var e=Os(h);return[Wo(h),e,Wo(e)]}function dl(h){var e=h.state,r=h.options,l=h.name;if(!e.modifiersData[l]._skip){for(var m=r.mainAxis,S=m===void 0?!0:m,T=r.altAxis,k=T===void 0?!0:T,j=r.fallbackPlacements,V=r.padding,F=r.boundary,Y=r.rootBoundary,ie=r.altBoundary,ce=r.flipVariations,J=ce===void 0?!0:ce,Z=r.allowedAutoPlacements,_e=e.options.placement,oe=Ln(_e),Be=oe===_e,Ue=j||(Be||!J?[Os(_e)]:hl(_e)),Ee=[_e].concat(Ue).reduce(function(Ge,Ze){return Ge.concat(Ln(Ze)===Rs?fl(e,{placement:Ze,boundary:F,rootBoundary:Y,padding:V,flipVariations:J,allowedAutoPlacements:Z}):Ze)},[]),$e=e.rects.reference,Ce=e.rects.popper,f=new Map,Je=!0,Te=Ee[0],Oe=0;Oe<Ee.length;Oe++){var Se=Ee[Oe],rt=Ln(Se),be=yi(Se)===jr,ve=[Dt,Vt].indexOf(rt)>=0,ue=ve?"width":"height",ne=bi(e,{placement:Se,boundary:F,rootBoundary:Y,altBoundary:ie,padding:V}),le=ve?be?Yt:Nt:be?Vt:Dt;$e[ue]>Ce[ue]&&(le=Os(le));var ae=Os(le),ge=[];if(S&&ge.push(ne[rt]<=0),k&&ge.push(ne[le]<=0,ne[ae]<=0),ge.every(function(Ge){return Ge})){Te=Se,Je=!1;break}f.set(Se,ge)}if(Je)for(var ye=J?3:1,Me=function(Ze){var ut=Ee.find(function(pt){var gt=f.get(pt);if(gt)return gt.slice(0,Ze).every(function(de){return de})});if(ut)return Te=ut,"break"},We=ye;We>0;We--){var Ke=Me(We);if(Ke==="break")break}e.placement!==Te&&(e.modifiersData[l]._skip=!0,e.placement=Te,e.reset=!0)}}const Ga={name:"flip",enabled:!0,phase:"main",fn:dl,requiresIfExists:["offset"],data:{_skip:!1}};function Yo(h,e,r){return r===void 0&&(r={x:0,y:0}),{top:h.top-e.height-r.y,right:h.right-e.width+r.x,bottom:h.bottom-e.height+r.y,left:h.left-e.width-r.x}}function Uo(h){return[Dt,Yt,Vt,Nt].some(function(e){return h[e]>=0})}function pl(h){var e=h.state,r=h.name,l=e.rects.reference,m=e.rects.popper,S=e.modifiersData.preventOverflow,T=bi(e,{elementContext:"reference"}),k=bi(e,{altBoundary:!0}),j=Yo(T,l),V=Yo(k,m,S),F=Uo(j),Y=Uo(V);e.modifiersData[r]={referenceClippingOffsets:j,popperEscapeOffsets:V,isReferenceHidden:F,hasPopperEscaped:Y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":F,"data-popper-escaped":Y})}const Qa={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pl};function ml(h,e,r){var l=Ln(h),m=[Nt,Dt].indexOf(l)>=0?-1:1,S=typeof r=="function"?r(Object.assign({},e,{placement:h})):r,T=S[0],k=S[1];return T=T||0,k=(k||0)*m,[Nt,Yt].indexOf(l)>=0?{x:k,y:T}:{x:T,y:k}}function gl(h){var e=h.state,r=h.options,l=h.name,m=r.offset,S=m===void 0?[0,0]:m,T=Ao.reduce(function(F,Y){return F[Y]=ml(Y,e.rects,S),F},{}),k=T[e.placement],j=k.x,V=k.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=j,e.modifiersData.popperOffsets.y+=V),e.modifiersData[l]=T}const Ja={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gl};function vl(h){var e=h.state,r=h.name;e.modifiersData[r]=Xa({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Io={name:"popperOffsets",enabled:!0,phase:"read",fn:vl,data:{}};function yl(h){return h==="x"?"y":"x"}function bl(h){var e=h.state,r=h.options,l=h.name,m=r.mainAxis,S=m===void 0?!0:m,T=r.altAxis,k=T===void 0?!1:T,j=r.boundary,V=r.rootBoundary,F=r.altBoundary,Y=r.padding,ie=r.tether,ce=ie===void 0?!0:ie,J=r.tetherOffset,Z=J===void 0?0:J,_e=bi(e,{boundary:j,rootBoundary:V,padding:Y,altBoundary:F}),oe=Ln(e.placement),Be=yi(e.placement),Ue=!Be,Ee=Do(oe),$e=yl(Ee),Ce=e.modifiersData.popperOffsets,f=e.rects.reference,Je=e.rects.popper,Te=typeof Z=="function"?Z(Object.assign({},e.rects,{placement:e.placement})):Z,Oe=typeof Te=="number"?{mainAxis:Te,altAxis:Te}:Object.assign({mainAxis:0,altAxis:0},Te),Se=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,rt={x:0,y:0};if(Ce){if(S){var be,ve=Ee==="y"?Dt:Nt,ue=Ee==="y"?Vt:Yt,ne=Ee==="y"?"height":"width",le=Ce[Ee],ae=le+_e[ve],ge=le-_e[ue],ye=ce?-Je[ne]/2:0,Me=Be===jr?f[ne]:Je[ne],We=Be===jr?-Je[ne]:-f[ne],Ke=e.elements.arrow,Ge=ce&&Ke?Oo(Ke):{width:0,height:0},Ze=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Wa(),ut=Ze[ve],pt=Ze[ue],gt=Yi(0,f[ne],Ge[ne]),de=Ue?f[ne]/2-ye-gt-ut-Oe.mainAxis:Me-gt-ut-Oe.mainAxis,Xe=Ue?-f[ne]/2+ye+gt+pt+Oe.mainAxis:We+gt+pt+Oe.mainAxis,ht=e.elements.arrow&&Gi(e.elements.arrow),De=ht?Ee==="y"?ht.clientTop||0:ht.clientLeft||0:0,mt=(be=Se==null?void 0:Se[Ee])!=null?be:0,Fr=le+de-mt-De,un=le+Xe-mt,Qn=Yi(ce?ks(ae,Fr):ae,le,ce?Mr(ge,un):ge);Ce[Ee]=Qn,rt[Ee]=Qn-le}if(k){var In,qt=Ee==="x"?Dt:Nt,Ai=Ee==="x"?Vt:Yt,Bt=Ce[$e],vt=$e==="y"?"height":"width",bt=Bt+_e[qt],kt=Bt-_e[Ai],zt=[Dt,Nt].indexOf(oe)!==-1,pe=(In=Se==null?void 0:Se[$e])!=null?In:0,at=zt?bt:Bt-f[vt]-Je[vt]-pe+Oe.altAxis,Jn=zt?Bt+f[vt]+Je[vt]-pe-Oe.altAxis:kt,_n=ce&&zt?Gu(at,Bt,Jn):Yi(ce?at:bt,Bt,ce?Jn:kt);Ce[$e]=_n,rt[$e]=_n-Bt}e.modifiersData[l]=rt}}const Za={name:"preventOverflow",enabled:!0,phase:"main",fn:bl,requiresIfExists:["offset"]};function _l(h){return{scrollLeft:h.scrollLeft,scrollTop:h.scrollTop}}function wl(h){return h===Ut(h)||!rn(h)?Lo(h):_l(h)}function El(h){var e=h.getBoundingClientRect(),r=gi(e.width)/h.offsetWidth||1,l=gi(e.height)/h.offsetHeight||1;return r!==1||l!==1}function Tl(h,e,r){r===void 0&&(r=!1);var l=rn(e),m=rn(e)&&El(e),S=mr(e),T=vi(h,m,r),k={scrollLeft:0,scrollTop:0},j={x:0,y:0};return(l||!l&&!r)&&((Pn(e)!=="body"||Po(S))&&(k=wl(e)),rn(e)?(j=vi(e,!0),j.x+=e.clientLeft,j.y+=e.clientTop):S&&(j.x=$o(S))),{x:T.left+k.scrollLeft-j.x,y:T.top+k.scrollTop-j.y,width:T.width,height:T.height}}function Sl(h){var e=new Map,r=new Set,l=[];h.forEach(function(S){e.set(S.name,S)});function m(S){r.add(S.name);var T=[].concat(S.requires||[],S.requiresIfExists||[]);T.forEach(function(k){if(!r.has(k)){var j=e.get(k);j&&m(j)}}),l.push(S)}return h.forEach(function(S){r.has(S.name)||m(S)}),l}function Al(h){var e=Sl(h);return Ba.reduce(function(r,l){return r.concat(e.filter(function(m){return m.phase===l}))},[])}function Cl(h){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(h())})})),e}}function xl(h){var e=h.reduce(function(r,l){var m=r[l.name];return r[l.name]=m?Object.assign({},m,l,{options:Object.assign({},m.options,l.options),data:Object.assign({},m.data,l.data)}):l,r},{});return Object.keys(e).map(function(r){return e[r]})}var zo={placement:"bottom",modifiers:[],strategy:"absolute"};function Xo(){for(var h=arguments.length,e=new Array(h),r=0;r<h;r++)e[r]=arguments[r];return!e.some(function(l){return!(l&&typeof l.getBoundingClientRect=="function")})}function js(h){h===void 0&&(h={});var e=h,r=e.defaultModifiers,l=r===void 0?[]:r,m=e.defaultOptions,S=m===void 0?zo:m;return function(k,j,V){V===void 0&&(V=S);var F={placement:"bottom",orderedModifiers:[],options:Object.assign({},zo,S),modifiersData:{},elements:{reference:k,popper:j},attributes:{},styles:{}},Y=[],ie=!1,ce={state:F,setOptions:function(oe){var Be=typeof oe=="function"?oe(F.options):oe;Z(),F.options=Object.assign({},S,F.options,Be),F.scrollParents={reference:Hr(k)?Ui(k):k.contextElement?Ui(k.contextElement):[],popper:Ui(j)};var Ue=Al(xl([].concat(l,F.options.modifiers)));return F.orderedModifiers=Ue.filter(function(Ee){return Ee.enabled}),J(),ce.update()},forceUpdate:function(){if(!ie){var oe=F.elements,Be=oe.reference,Ue=oe.popper;if(Xo(Be,Ue)){F.rects={reference:Tl(Be,Gi(Ue),F.options.strategy==="fixed"),popper:Oo(Ue)},F.reset=!1,F.placement=F.options.placement,F.orderedModifiers.forEach(function(Oe){return F.modifiersData[Oe.name]=Object.assign({},Oe.data)});for(var Ee=0;Ee<F.orderedModifiers.length;Ee++){if(F.reset===!0){F.reset=!1,Ee=-1;continue}var $e=F.orderedModifiers[Ee],Ce=$e.fn,f=$e.options,Je=f===void 0?{}:f,Te=$e.name;typeof Ce=="function"&&(F=Ce({state:F,options:Je,name:Te,instance:ce})||F)}}}},update:Cl(function(){return new Promise(function(_e){ce.forceUpdate(),_e(F)})}),destroy:function(){Z(),ie=!0}};if(!Xo(k,j))return ce;ce.setOptions(V).then(function(_e){!ie&&V.onFirstUpdate&&V.onFirstUpdate(_e)});function J(){F.orderedModifiers.forEach(function(_e){var oe=_e.name,Be=_e.options,Ue=Be===void 0?{}:Be,Ee=_e.effect;if(typeof Ee=="function"){var $e=Ee({state:F,name:oe,instance:ce,options:Ue}),Ce=function(){};Y.push($e||Ce)}})}function Z(){Y.forEach(function(_e){return _e()}),Y=[]}return ce}}var Ol=js(),Dl=[ko,Io,No,xo],Nl=js({defaultModifiers:Dl}),kl=[ko,Io,No,xo,Ja,Ga,Za,Ua,Qa],Ro=js({defaultModifiers:kl});const eu=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Ma,afterRead:Pa,afterWrite:qa,applyStyles:xo,arrow:Ua,auto:Rs,basePlacements:wi,beforeMain:Ia,beforeRead:La,beforeWrite:ja,bottom:Vt,clippingParents:Na,computeStyles:No,createPopper:Ro,createPopperBase:Ol,createPopperLite:Nl,detectOverflow:bi,end:mi,eventListeners:ko,flip:Ga,hide:Qa,left:Nt,main:Ra,modifierPhases:Ba,offset:Ja,placements:Ao,popper:fi,popperGenerator:js,popperOffsets:Io,preventOverflow:Za,read:$a,reference:ka,right:Yt,start:jr,top:Dt,variationPlacements:mo,viewport:So,write:Ha},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const fr=new Map,Gs={set(h,e,r){fr.has(h)||fr.set(h,new Map);const l=fr.get(h);if(!l.has(e)&&l.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(l.keys())[0]}.`);return}l.set(e,r)},get(h,e){return fr.has(h)&&fr.get(h).get(e)||null},remove(h,e){if(!fr.has(h))return;const r=fr.get(h);r.delete(e),r.size===0&&fr.delete(h)}},Ll=1e6,$l=1e3,yo="transitionend",tu=h=>(h&&window.CSS&&window.CSS.escape&&(h=h.replace(/#([^\s"#']+)/g,(e,r)=>`#${CSS.escape(r)}`)),h),Pl=h=>h==null?`${h}`:Object.prototype.toString.call(h).match(/\s([a-z]+)/i)[1].toLowerCase(),Il=h=>{do h+=Math.floor(Math.random()*Ll);while(document.getElementById(h));return h},Rl=h=>{if(!h)return 0;let{transitionDuration:e,transitionDelay:r}=window.getComputedStyle(h);const l=Number.parseFloat(e),m=Number.parseFloat(r);return!l&&!m?0:(e=e.split(",")[0],r=r.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(r))*$l)},nu=h=>{h.dispatchEvent(new Event(yo))},Un=h=>!h||typeof h!="object"?!1:(typeof h.jquery<"u"&&(h=h[0]),typeof h.nodeType<"u"),hr=h=>Un(h)?h.jquery?h[0]:h:typeof h=="string"&&h.length>0?document.querySelector(tu(h)):null,Ei=h=>{if(!Un(h)||h.getClientRects().length===0)return!1;const e=getComputedStyle(h).getPropertyValue("visibility")==="visible",r=h.closest("details:not([open])");if(!r)return e;if(r!==h){const l=h.closest("summary");if(l&&l.parentNode!==r||l===null)return!1}return e},dr=h=>!h||h.nodeType!==Node.ELEMENT_NODE||h.classList.contains("disabled")?!0:typeof h.disabled<"u"?h.disabled:h.hasAttribute("disabled")&&h.getAttribute("disabled")!=="false",ru=h=>{if(!document.documentElement.attachShadow)return null;if(typeof h.getRootNode=="function"){const e=h.getRootNode();return e instanceof ShadowRoot?e:null}return h instanceof ShadowRoot?h:h.parentNode?ru(h.parentNode):null},Ls=()=>{},Qi=h=>{h.offsetHeight},iu=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Qs=[],Ml=h=>{document.readyState==="loading"?(Qs.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Qs)e()}),Qs.push(h)):h()},sn=()=>document.documentElement.dir==="rtl",an=h=>{Ml(()=>{const e=iu();if(e){const r=h.NAME,l=e.fn[r];e.fn[r]=h.jQueryInterface,e.fn[r].Constructor=h,e.fn[r].noConflict=()=>(e.fn[r]=l,h.jQueryInterface)}})},jt=(h,e=[],r=h)=>typeof h=="function"?h(...e):r,su=(h,e,r=!0)=>{if(!r){jt(h);return}const m=Rl(e)+5;let S=!1;const T=({target:k})=>{k===e&&(S=!0,e.removeEventListener(yo,T),jt(h))};e.addEventListener(yo,T),setTimeout(()=>{S||nu(e)},m)},Mo=(h,e,r,l)=>{const m=h.length;let S=h.indexOf(e);return S===-1?!r&&l?h[m-1]:h[0]:(S+=r?1:-1,l&&(S=(S+m)%m),h[Math.max(0,Math.min(S,m-1))])},jl=/[^.]*(?=\..*)\.|.*/,Hl=/\..*/,ql=/::\d+$/,Js={};let Go=1;const ou={mouseenter:"mouseover",mouseleave:"mouseout"},Bl=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function au(h,e){return e&&`${e}::${Go++}`||h.uidEvent||Go++}function uu(h){const e=au(h);return h.uidEvent=e,Js[e]=Js[e]||{},Js[e]}function Kl(h,e){return function r(l){return jo(l,{delegateTarget:h}),r.oneOff&&Q.off(h,l.type,e),e.apply(h,[l])}}function Fl(h,e,r){return function l(m){const S=h.querySelectorAll(e);for(let{target:T}=m;T&&T!==this;T=T.parentNode)for(const k of S)if(k===T)return jo(m,{delegateTarget:T}),l.oneOff&&Q.off(h,m.type,e,r),r.apply(T,[m])}}function lu(h,e,r=null){return Object.values(h).find(l=>l.callable===e&&l.delegationSelector===r)}function cu(h,e,r){const l=typeof e=="string",m=l?r:e||r;let S=fu(h);return Bl.has(S)||(S=h),[l,m,S]}function Qo(h,e,r,l,m){if(typeof e!="string"||!h)return;let[S,T,k]=cu(e,r,l);e in ou&&(T=(J=>function(Z){if(!Z.relatedTarget||Z.relatedTarget!==Z.delegateTarget&&!Z.delegateTarget.contains(Z.relatedTarget))return J.call(this,Z)})(T));const j=uu(h),V=j[k]||(j[k]={}),F=lu(V,T,S?r:null);if(F){F.oneOff=F.oneOff&&m;return}const Y=au(T,e.replace(jl,"")),ie=S?Fl(h,r,T):Kl(h,T);ie.delegationSelector=S?r:null,ie.callable=T,ie.oneOff=m,ie.uidEvent=Y,V[Y]=ie,h.addEventListener(k,ie,S)}function bo(h,e,r,l,m){const S=lu(e[r],l,m);S&&(h.removeEventListener(r,S,!!m),delete e[r][S.uidEvent])}function Wl(h,e,r,l){const m=e[r]||{};for(const[S,T]of Object.entries(m))S.includes(l)&&bo(h,e,r,T.callable,T.delegationSelector)}function fu(h){return h=h.replace(Hl,""),ou[h]||h}const Q={on(h,e,r,l){Qo(h,e,r,l,!1)},one(h,e,r,l){Qo(h,e,r,l,!0)},off(h,e,r,l){if(typeof e!="string"||!h)return;const[m,S,T]=cu(e,r,l),k=T!==e,j=uu(h),V=j[T]||{},F=e.startsWith(".");if(typeof S<"u"){if(!Object.keys(V).length)return;bo(h,j,T,S,m?r:null);return}if(F)for(const Y of Object.keys(j))Wl(h,j,Y,e.slice(1));for(const[Y,ie]of Object.entries(V)){const ce=Y.replace(ql,"");(!k||e.includes(ce))&&bo(h,j,T,ie.callable,ie.delegationSelector)}},trigger(h,e,r){if(typeof e!="string"||!h)return null;const l=iu(),m=fu(e),S=e!==m;let T=null,k=!0,j=!0,V=!1;S&&l&&(T=l.Event(e,r),l(h).trigger(T),k=!T.isPropagationStopped(),j=!T.isImmediatePropagationStopped(),V=T.isDefaultPrevented());const F=jo(new Event(e,{bubbles:k,cancelable:!0}),r);return V&&F.preventDefault(),j&&h.dispatchEvent(F),F.defaultPrevented&&T&&T.preventDefault(),F}};function jo(h,e={}){for(const[r,l]of Object.entries(e))try{h[r]=l}catch{Object.defineProperty(h,r,{configurable:!0,get(){return l}})}return h}function Jo(h){if(h==="true")return!0;if(h==="false")return!1;if(h===Number(h).toString())return Number(h);if(h===""||h==="null")return null;if(typeof h!="string")return h;try{return JSON.parse(decodeURIComponent(h))}catch{return h}}function Zs(h){return h.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const zn={setDataAttribute(h,e,r){h.setAttribute(`data-bs-${Zs(e)}`,r)},removeDataAttribute(h,e){h.removeAttribute(`data-bs-${Zs(e)}`)},getDataAttributes(h){if(!h)return{};const e={},r=Object.keys(h.dataset).filter(l=>l.startsWith("bs")&&!l.startsWith("bsConfig"));for(const l of r){let m=l.replace(/^bs/,"");m=m.charAt(0).toLowerCase()+m.slice(1,m.length),e[m]=Jo(h.dataset[l])}return e},getDataAttribute(h,e){return Jo(h.getAttribute(`data-bs-${Zs(e)}`))}};class Ji{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,r){const l=Un(r)?zn.getDataAttribute(r,"config"):{};return{...this.constructor.Default,...typeof l=="object"?l:{},...Un(r)?zn.getDataAttributes(r):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,r=this.constructor.DefaultType){for(const[l,m]of Object.entries(r)){const S=e[l],T=Un(S)?"element":Pl(S);if(!new RegExp(m).test(T))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${l}" provided type "${T}" but expected type "${m}".`)}}}const Vl="5.3.3";class bn extends Ji{constructor(e,r){super(),e=hr(e),e&&(this._element=e,this._config=this._getConfig(r),Gs.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Gs.remove(this._element,this.constructor.DATA_KEY),Q.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,r,l=!0){su(e,r,l)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Gs.get(hr(e),this.DATA_KEY)}static getOrCreateInstance(e,r={}){return this.getInstance(e)||new this(e,typeof r=="object"?r:null)}static get VERSION(){return Vl}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const eo=h=>{let e=h.getAttribute("data-bs-target");if(!e||e==="#"){let r=h.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),e=r&&r!=="#"?r.trim():null}return e?e.split(",").map(r=>tu(r)).join(","):null},we={find(h,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,h))},findOne(h,e=document.documentElement){return Element.prototype.querySelector.call(e,h)},children(h,e){return[].concat(...h.children).filter(r=>r.matches(e))},parents(h,e){const r=[];let l=h.parentNode.closest(e);for(;l;)r.push(l),l=l.parentNode.closest(e);return r},prev(h,e){let r=h.previousElementSibling;for(;r;){if(r.matches(e))return[r];r=r.previousElementSibling}return[]},next(h,e){let r=h.nextElementSibling;for(;r;){if(r.matches(e))return[r];r=r.nextElementSibling}return[]},focusableChildren(h){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(r=>`${r}:not([tabindex^="-"])`).join(",");return this.find(e,h).filter(r=>!dr(r)&&Ei(r))},getSelectorFromElement(h){const e=eo(h);return e&&we.findOne(e)?e:null},getElementFromSelector(h){const e=eo(h);return e?we.findOne(e):null},getMultipleElementsFromSelector(h){const e=eo(h);return e?we.find(e):[]}},Hs=(h,e="hide")=>{const r=`click.dismiss${h.EVENT_KEY}`,l=h.NAME;Q.on(document,r,`[data-bs-dismiss="${l}"]`,function(m){if(["A","AREA"].includes(this.tagName)&&m.preventDefault(),dr(this))return;const S=we.getElementFromSelector(this)||this.closest(`.${l}`);h.getOrCreateInstance(S)[e]()})},Yl="alert",Ul="bs.alert",hu=`.${Ul}`,zl=`close${hu}`,Xl=`closed${hu}`,Gl="fade",Ql="show";class qs extends bn{static get NAME(){return Yl}close(){if(Q.trigger(this._element,zl).defaultPrevented)return;this._element.classList.remove(Ql);const r=this._element.classList.contains(Gl);this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),Q.trigger(this._element,Xl),this.dispose()}static jQueryInterface(e){return this.each(function(){const r=qs.getOrCreateInstance(this);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}Hs(qs,"close");an(qs);const Jl="button",Zl="bs.button",ec=`.${Zl}`,tc=".data-api",nc="active",Zo='[data-bs-toggle="button"]',rc=`click${ec}${tc}`;class Bs extends bn{static get NAME(){return Jl}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(nc))}static jQueryInterface(e){return this.each(function(){const r=Bs.getOrCreateInstance(this);e==="toggle"&&r[e]()})}}Q.on(document,rc,Zo,h=>{h.preventDefault();const e=h.target.closest(Zo);Bs.getOrCreateInstance(e).toggle()});an(Bs);const ic="swipe",Ti=".bs.swipe",sc=`touchstart${Ti}`,oc=`touchmove${Ti}`,ac=`touchend${Ti}`,uc=`pointerdown${Ti}`,lc=`pointerup${Ti}`,cc="touch",fc="pen",hc="pointer-event",dc=40,pc={endCallback:null,leftCallback:null,rightCallback:null},mc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class $s extends Ji{constructor(e,r){super(),this._element=e,!(!e||!$s.isSupported())&&(this._config=this._getConfig(r),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return pc}static get DefaultType(){return mc}static get NAME(){return ic}dispose(){Q.off(this._element,Ti)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),jt(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=dc)return;const r=e/this._deltaX;this._deltaX=0,r&&jt(r>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Q.on(this._element,uc,e=>this._start(e)),Q.on(this._element,lc,e=>this._end(e)),this._element.classList.add(hc)):(Q.on(this._element,sc,e=>this._start(e)),Q.on(this._element,oc,e=>this._move(e)),Q.on(this._element,ac,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===fc||e.pointerType===cc)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const gc="carousel",vc="bs.carousel",gr=`.${vc}`,du=".data-api",yc="ArrowLeft",bc="ArrowRight",_c=500,Wi="next",li="prev",hi="left",Ds="right",wc=`slide${gr}`,to=`slid${gr}`,Ec=`keydown${gr}`,Tc=`mouseenter${gr}`,Sc=`mouseleave${gr}`,Ac=`dragstart${gr}`,Cc=`load${gr}${du}`,xc=`click${gr}${du}`,pu="carousel",Es="active",Oc="slide",Dc="carousel-item-end",Nc="carousel-item-start",kc="carousel-item-next",Lc="carousel-item-prev",mu=".active",gu=".carousel-item",$c=mu+gu,Pc=".carousel-item img",Ic=".carousel-indicators",Rc="[data-bs-slide], [data-bs-slide-to]",Mc='[data-bs-ride="carousel"]',jc={[yc]:Ds,[bc]:hi},Hc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},qc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Zi extends bn{constructor(e,r){super(e,r),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=we.findOne(Ic,this._element),this._addEventListeners(),this._config.ride===pu&&this.cycle()}static get Default(){return Hc}static get DefaultType(){return qc}static get NAME(){return gc}next(){this._slide(Wi)}nextWhenVisible(){!document.hidden&&Ei(this._element)&&this.next()}prev(){this._slide(li)}pause(){this._isSliding&&nu(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Q.one(this._element,to,()=>this.cycle());return}this.cycle()}}to(e){const r=this._getItems();if(e>r.length-1||e<0)return;if(this._isSliding){Q.one(this._element,to,()=>this.to(e));return}const l=this._getItemIndex(this._getActive());if(l===e)return;const m=e>l?Wi:li;this._slide(m,r[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Q.on(this._element,Ec,e=>this._keydown(e)),this._config.pause==="hover"&&(Q.on(this._element,Tc,()=>this.pause()),Q.on(this._element,Sc,()=>this._maybeEnableCycle())),this._config.touch&&$s.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const l of we.find(Pc,this._element))Q.on(l,Ac,m=>m.preventDefault());const r={leftCallback:()=>this._slide(this._directionToOrder(hi)),rightCallback:()=>this._slide(this._directionToOrder(Ds)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),_c+this._config.interval))}};this._swipeHelper=new $s(this._element,r)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const r=jc[e.key];r&&(e.preventDefault(),this._slide(this._directionToOrder(r)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const r=we.findOne(mu,this._indicatorsElement);r.classList.remove(Es),r.removeAttribute("aria-current");const l=we.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);l&&(l.classList.add(Es),l.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const r=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=r||this._config.defaultInterval}_slide(e,r=null){if(this._isSliding)return;const l=this._getActive(),m=e===Wi,S=r||Mo(this._getItems(),l,m,this._config.wrap);if(S===l)return;const T=this._getItemIndex(S),k=ce=>Q.trigger(this._element,ce,{relatedTarget:S,direction:this._orderToDirection(e),from:this._getItemIndex(l),to:T});if(k(wc).defaultPrevented||!l||!S)return;const V=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(T),this._activeElement=S;const F=m?Nc:Dc,Y=m?kc:Lc;S.classList.add(Y),Qi(S),l.classList.add(F),S.classList.add(F);const ie=()=>{S.classList.remove(F,Y),S.classList.add(Es),l.classList.remove(Es,Y,F),this._isSliding=!1,k(to)};this._queueCallback(ie,l,this._isAnimated()),V&&this.cycle()}_isAnimated(){return this._element.classList.contains(Oc)}_getActive(){return we.findOne($c,this._element)}_getItems(){return we.find(gu,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return sn()?e===hi?li:Wi:e===hi?Wi:li}_orderToDirection(e){return sn()?e===li?hi:Ds:e===li?Ds:hi}static jQueryInterface(e){return this.each(function(){const r=Zi.getOrCreateInstance(this,e);if(typeof e=="number"){r.to(e);return}if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Q.on(document,xc,Rc,function(h){const e=we.getElementFromSelector(this);if(!e||!e.classList.contains(pu))return;h.preventDefault();const r=Zi.getOrCreateInstance(e),l=this.getAttribute("data-bs-slide-to");if(l){r.to(l),r._maybeEnableCycle();return}if(zn.getDataAttribute(this,"slide")==="next"){r.next(),r._maybeEnableCycle();return}r.prev(),r._maybeEnableCycle()});Q.on(window,Cc,()=>{const h=we.find(Mc);for(const e of h)Zi.getOrCreateInstance(e)});an(Zi);const Bc="collapse",Kc="bs.collapse",es=`.${Kc}`,Fc=".data-api",Wc=`show${es}`,Vc=`shown${es}`,Yc=`hide${es}`,Uc=`hidden${es}`,zc=`click${es}${Fc}`,no="show",pi="collapse",Ts="collapsing",Xc="collapsed",Gc=`:scope .${pi} .${pi}`,Qc="collapse-horizontal",Jc="width",Zc="height",ef=".collapse.show, .collapse.collapsing",_o='[data-bs-toggle="collapse"]',tf={parent:null,toggle:!0},nf={parent:"(null|element)",toggle:"boolean"};class Xi extends bn{constructor(e,r){super(e,r),this._isTransitioning=!1,this._triggerArray=[];const l=we.find(_o);for(const m of l){const S=we.getSelectorFromElement(m),T=we.find(S).filter(k=>k===this._element);S!==null&&T.length&&this._triggerArray.push(m)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return tf}static get DefaultType(){return nf}static get NAME(){return Bc}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(ef).filter(k=>k!==this._element).map(k=>Xi.getOrCreateInstance(k,{toggle:!1}))),e.length&&e[0]._isTransitioning||Q.trigger(this._element,Wc).defaultPrevented)return;for(const k of e)k.hide();const l=this._getDimension();this._element.classList.remove(pi),this._element.classList.add(Ts),this._element.style[l]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const m=()=>{this._isTransitioning=!1,this._element.classList.remove(Ts),this._element.classList.add(pi,no),this._element.style[l]="",Q.trigger(this._element,Vc)},T=`scroll${l[0].toUpperCase()+l.slice(1)}`;this._queueCallback(m,this._element,!0),this._element.style[l]=`${this._element[T]}px`}hide(){if(this._isTransitioning||!this._isShown()||Q.trigger(this._element,Yc).defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,Qi(this._element),this._element.classList.add(Ts),this._element.classList.remove(pi,no);for(const m of this._triggerArray){const S=we.getElementFromSelector(m);S&&!this._isShown(S)&&this._addAriaAndCollapsedClass([m],!1)}this._isTransitioning=!0;const l=()=>{this._isTransitioning=!1,this._element.classList.remove(Ts),this._element.classList.add(pi),Q.trigger(this._element,Uc)};this._element.style[r]="",this._queueCallback(l,this._element,!0)}_isShown(e=this._element){return e.classList.contains(no)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=hr(e.parent),e}_getDimension(){return this._element.classList.contains(Qc)?Jc:Zc}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(_o);for(const r of e){const l=we.getElementFromSelector(r);l&&this._addAriaAndCollapsedClass([r],this._isShown(l))}}_getFirstLevelChildren(e){const r=we.find(Gc,this._config.parent);return we.find(e,this._config.parent).filter(l=>!r.includes(l))}_addAriaAndCollapsedClass(e,r){if(e.length)for(const l of e)l.classList.toggle(Xc,!r),l.setAttribute("aria-expanded",r)}static jQueryInterface(e){const r={};return typeof e=="string"&&/show|hide/.test(e)&&(r.toggle=!1),this.each(function(){const l=Xi.getOrCreateInstance(this,r);if(typeof e=="string"){if(typeof l[e]>"u")throw new TypeError(`No method named "${e}"`);l[e]()}})}}Q.on(document,zc,_o,function(h){(h.target.tagName==="A"||h.delegateTarget&&h.delegateTarget.tagName==="A")&&h.preventDefault();for(const e of we.getMultipleElementsFromSelector(this))Xi.getOrCreateInstance(e,{toggle:!1}).toggle()});an(Xi);const ea="dropdown",rf="bs.dropdown",Br=`.${rf}`,Ho=".data-api",sf="Escape",ta="Tab",of="ArrowUp",na="ArrowDown",af=2,uf=`hide${Br}`,lf=`hidden${Br}`,cf=`show${Br}`,ff=`shown${Br}`,vu=`click${Br}${Ho}`,yu=`keydown${Br}${Ho}`,hf=`keyup${Br}${Ho}`,di="show",df="dropup",pf="dropend",mf="dropstart",gf="dropup-center",vf="dropdown-center",Ir='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',yf=`${Ir}.${di}`,Ns=".dropdown-menu",bf=".navbar",_f=".navbar-nav",wf=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Ef=sn()?"top-end":"top-start",Tf=sn()?"top-start":"top-end",Sf=sn()?"bottom-end":"bottom-start",Af=sn()?"bottom-start":"bottom-end",Cf=sn()?"left-start":"right-start",xf=sn()?"right-start":"left-start",Of="top",Df="bottom",Nf={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},kf={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class $n extends bn{constructor(e,r){super(e,r),this._popper=null,this._parent=this._element.parentNode,this._menu=we.next(this._element,Ns)[0]||we.prev(this._element,Ns)[0]||we.findOne(Ns,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Nf}static get DefaultType(){return kf}static get NAME(){return ea}toggle(){return this._isShown()?this.hide():this.show()}show(){if(dr(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Q.trigger(this._element,cf,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(_f))for(const l of[].concat(...document.body.children))Q.on(l,"mouseover",Ls);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(di),this._element.classList.add(di),Q.trigger(this._element,ff,e)}}hide(){if(dr(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Q.trigger(this._element,uf,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))Q.off(l,"mouseover",Ls);this._popper&&this._popper.destroy(),this._menu.classList.remove(di),this._element.classList.remove(di),this._element.setAttribute("aria-expanded","false"),zn.removeDataAttribute(this._menu,"popper"),Q.trigger(this._element,lf,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Un(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${ea.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof eu>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Un(this._config.reference)?e=hr(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const r=this._getPopperConfig();this._popper=Ro(e,this._menu,r)}_isShown(){return this._menu.classList.contains(di)}_getPlacement(){const e=this._parent;if(e.classList.contains(pf))return Cf;if(e.classList.contains(mf))return xf;if(e.classList.contains(gf))return Of;if(e.classList.contains(vf))return Df;const r=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(df)?r?Tf:Ef:r?Af:Sf}_detectNavbar(){return this._element.closest(bf)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(zn.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...jt(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:r}){const l=we.find(wf,this._menu).filter(m=>Ei(m));l.length&&Mo(l,r,e===na,!l.includes(r)).focus()}static jQueryInterface(e){return this.each(function(){const r=$n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}static clearMenus(e){if(e.button===af||e.type==="keyup"&&e.key!==ta)return;const r=we.find(yf);for(const l of r){const m=$n.getInstance(l);if(!m||m._config.autoClose===!1)continue;const S=e.composedPath(),T=S.includes(m._menu);if(S.includes(m._element)||m._config.autoClose==="inside"&&!T||m._config.autoClose==="outside"&&T||m._menu.contains(e.target)&&(e.type==="keyup"&&e.key===ta||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const k={relatedTarget:m._element};e.type==="click"&&(k.clickEvent=e),m._completeHide(k)}}static dataApiKeydownHandler(e){const r=/input|textarea/i.test(e.target.tagName),l=e.key===sf,m=[of,na].includes(e.key);if(!m&&!l||r&&!l)return;e.preventDefault();const S=this.matches(Ir)?this:we.prev(this,Ir)[0]||we.next(this,Ir)[0]||we.findOne(Ir,e.delegateTarget.parentNode),T=$n.getOrCreateInstance(S);if(m){e.stopPropagation(),T.show(),T._selectMenuItem(e);return}T._isShown()&&(e.stopPropagation(),T.hide(),S.focus())}}Q.on(document,yu,Ir,$n.dataApiKeydownHandler);Q.on(document,yu,Ns,$n.dataApiKeydownHandler);Q.on(document,vu,$n.clearMenus);Q.on(document,hf,$n.clearMenus);Q.on(document,vu,Ir,function(h){h.preventDefault(),$n.getOrCreateInstance(this).toggle()});an($n);const bu="backdrop",Lf="fade",ra="show",ia=`mousedown.bs.${bu}`,$f={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Pf={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class _u extends Ji{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return $f}static get DefaultType(){return Pf}static get NAME(){return bu}show(e){if(!this._config.isVisible){jt(e);return}this._append();const r=this._getElement();this._config.isAnimated&&Qi(r),r.classList.add(ra),this._emulateAnimation(()=>{jt(e)})}hide(e){if(!this._config.isVisible){jt(e);return}this._getElement().classList.remove(ra),this._emulateAnimation(()=>{this.dispose(),jt(e)})}dispose(){this._isAppended&&(Q.off(this._element,ia),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Lf),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=hr(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Q.on(e,ia,()=>{jt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){su(e,this._getElement(),this._config.isAnimated)}}const If="focustrap",Rf="bs.focustrap",Ps=`.${Rf}`,Mf=`focusin${Ps}`,jf=`keydown.tab${Ps}`,Hf="Tab",qf="forward",sa="backward",Bf={autofocus:!0,trapElement:null},Kf={autofocus:"boolean",trapElement:"element"};class wu extends Ji{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Bf}static get DefaultType(){return Kf}static get NAME(){return If}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Q.off(document,Ps),Q.on(document,Mf,e=>this._handleFocusin(e)),Q.on(document,jf,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Q.off(document,Ps))}_handleFocusin(e){const{trapElement:r}=this._config;if(e.target===document||e.target===r||r.contains(e.target))return;const l=we.focusableChildren(r);l.length===0?r.focus():this._lastTabNavDirection===sa?l[l.length-1].focus():l[0].focus()}_handleKeydown(e){e.key===Hf&&(this._lastTabNavDirection=e.shiftKey?sa:qf)}}const oa=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",aa=".sticky-top",Ss="padding-right",ua="margin-right";class wo{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ss,r=>r+e),this._setElementAttributes(oa,Ss,r=>r+e),this._setElementAttributes(aa,ua,r=>r-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ss),this._resetElementAttributes(oa,Ss),this._resetElementAttributes(aa,ua)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,r,l){const m=this.getWidth(),S=T=>{if(T!==this._element&&window.innerWidth>T.clientWidth+m)return;this._saveInitialAttribute(T,r);const k=window.getComputedStyle(T).getPropertyValue(r);T.style.setProperty(r,`${l(Number.parseFloat(k))}px`)};this._applyManipulationCallback(e,S)}_saveInitialAttribute(e,r){const l=e.style.getPropertyValue(r);l&&zn.setDataAttribute(e,r,l)}_resetElementAttributes(e,r){const l=m=>{const S=zn.getDataAttribute(m,r);if(S===null){m.style.removeProperty(r);return}zn.removeDataAttribute(m,r),m.style.setProperty(r,S)};this._applyManipulationCallback(e,l)}_applyManipulationCallback(e,r){if(Un(e)){r(e);return}for(const l of we.find(e,this._element))r(l)}}const Ff="modal",Wf="bs.modal",on=`.${Wf}`,Vf=".data-api",Yf="Escape",Uf=`hide${on}`,zf=`hidePrevented${on}`,Eu=`hidden${on}`,Tu=`show${on}`,Xf=`shown${on}`,Gf=`resize${on}`,Qf=`click.dismiss${on}`,Jf=`mousedown.dismiss${on}`,Zf=`keydown.dismiss${on}`,eh=`click${on}${Vf}`,la="modal-open",th="fade",ca="show",ro="modal-static",nh=".modal.show",rh=".modal-dialog",ih=".modal-body",sh='[data-bs-toggle="modal"]',oh={backdrop:!0,focus:!0,keyboard:!0},ah={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class qr extends bn{constructor(e,r){super(e,r),this._dialog=we.findOne(rh,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new wo,this._addEventListeners()}static get Default(){return oh}static get DefaultType(){return ah}static get NAME(){return Ff}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Q.trigger(this._element,Tu,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(la),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Q.trigger(this._element,Uf).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ca),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Q.off(window,on),Q.off(this._dialog,on),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new _u({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new wu({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const r=we.findOne(ih,this._dialog);r&&(r.scrollTop=0),Qi(this._element),this._element.classList.add(ca);const l=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Q.trigger(this._element,Xf,{relatedTarget:e})};this._queueCallback(l,this._dialog,this._isAnimated())}_addEventListeners(){Q.on(this._element,Zf,e=>{if(e.key===Yf){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Q.on(window,Gf,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Q.on(this._element,Jf,e=>{Q.one(this._element,Qf,r=>{if(!(this._element!==e.target||this._element!==r.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(la),this._resetAdjustments(),this._scrollBar.reset(),Q.trigger(this._element,Eu)})}_isAnimated(){return this._element.classList.contains(th)}_triggerBackdropTransition(){if(Q.trigger(this._element,zf).defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,l=this._element.style.overflowY;l==="hidden"||this._element.classList.contains(ro)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(ro),this._queueCallback(()=>{this._element.classList.remove(ro),this._queueCallback(()=>{this._element.style.overflowY=l},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,r=this._scrollBar.getWidth(),l=r>0;if(l&&!e){const m=sn()?"paddingLeft":"paddingRight";this._element.style[m]=`${r}px`}if(!l&&e){const m=sn()?"paddingRight":"paddingLeft";this._element.style[m]=`${r}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,r){return this.each(function(){const l=qr.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof l[e]>"u")throw new TypeError(`No method named "${e}"`);l[e](r)}})}}Q.on(document,eh,sh,function(h){const e=we.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&h.preventDefault(),Q.one(e,Tu,m=>{m.defaultPrevented||Q.one(e,Eu,()=>{Ei(this)&&this.focus()})});const r=we.findOne(nh);r&&qr.getInstance(r).hide(),qr.getOrCreateInstance(e).toggle(this)});Hs(qr);an(qr);const uh="offcanvas",lh="bs.offcanvas",Gn=`.${lh}`,Su=".data-api",ch=`load${Gn}${Su}`,fh="Escape",fa="show",ha="showing",da="hiding",hh="offcanvas-backdrop",Au=".offcanvas.show",dh=`show${Gn}`,ph=`shown${Gn}`,mh=`hide${Gn}`,pa=`hidePrevented${Gn}`,Cu=`hidden${Gn}`,gh=`resize${Gn}`,vh=`click${Gn}${Su}`,yh=`keydown.dismiss${Gn}`,bh='[data-bs-toggle="offcanvas"]',_h={backdrop:!0,keyboard:!0,scroll:!1},wh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class pr extends bn{constructor(e,r){super(e,r),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return _h}static get DefaultType(){return wh}static get NAME(){return uh}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Q.trigger(this._element,dh,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new wo().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ha);const l=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(fa),this._element.classList.remove(ha),Q.trigger(this._element,ph,{relatedTarget:e})};this._queueCallback(l,this._element,!0)}hide(){if(!this._isShown||Q.trigger(this._element,mh).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(da),this._backdrop.hide();const r=()=>{this._element.classList.remove(fa,da),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new wo().reset(),Q.trigger(this._element,Cu)};this._queueCallback(r,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){Q.trigger(this._element,pa);return}this.hide()},r=!!this._config.backdrop;return new _u({className:hh,isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?e:null})}_initializeFocusTrap(){return new wu({trapElement:this._element})}_addEventListeners(){Q.on(this._element,yh,e=>{if(e.key===fh){if(this._config.keyboard){this.hide();return}Q.trigger(this._element,pa)}})}static jQueryInterface(e){return this.each(function(){const r=pr.getOrCreateInstance(this,e);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}Q.on(document,vh,bh,function(h){const e=we.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&h.preventDefault(),dr(this))return;Q.one(e,Cu,()=>{Ei(this)&&this.focus()});const r=we.findOne(Au);r&&r!==e&&pr.getInstance(r).hide(),pr.getOrCreateInstance(e).toggle(this)});Q.on(window,ch,()=>{for(const h of we.find(Au))pr.getOrCreateInstance(h).show()});Q.on(window,gh,()=>{for(const h of we.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(h).position!=="fixed"&&pr.getOrCreateInstance(h).hide()});Hs(pr);an(pr);const Eh=/^aria-[\w-]*$/i,xu={"*":["class","dir","id","lang","role",Eh],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Th=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Sh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ah=(h,e)=>{const r=h.nodeName.toLowerCase();return e.includes(r)?Th.has(r)?!!Sh.test(h.nodeValue):!0:e.filter(l=>l instanceof RegExp).some(l=>l.test(r))};function Ch(h,e,r){if(!h.length)return h;if(r&&typeof r=="function")return r(h);const m=new window.DOMParser().parseFromString(h,"text/html"),S=[].concat(...m.body.querySelectorAll("*"));for(const T of S){const k=T.nodeName.toLowerCase();if(!Object.keys(e).includes(k)){T.remove();continue}const j=[].concat(...T.attributes),V=[].concat(e["*"]||[],e[k]||[]);for(const F of j)Ah(F,V)||T.removeAttribute(F.nodeName)}return m.body.innerHTML}const xh="TemplateFactory",Oh={allowList:xu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Dh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Nh={entry:"(string|element|function|null)",selector:"(string|element)"};class kh extends Ji{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Oh}static get DefaultType(){return Dh}static get NAME(){return xh}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[m,S]of Object.entries(this._config.content))this._setContent(e,S,m);const r=e.children[0],l=this._resolvePossibleFunction(this._config.extraClass);return l&&r.classList.add(...l.split(" ")),r}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[r,l]of Object.entries(e))super._typeCheckConfig({selector:r,entry:l},Nh)}_setContent(e,r,l){const m=we.findOne(l,e);if(m){if(r=this._resolvePossibleFunction(r),!r){m.remove();return}if(Un(r)){this._putElementInTemplate(hr(r),m);return}if(this._config.html){m.innerHTML=this._maybeSanitize(r);return}m.textContent=r}}_maybeSanitize(e){return this._config.sanitize?Ch(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return jt(e,[this])}_putElementInTemplate(e,r){if(this._config.html){r.innerHTML="",r.append(e);return}r.textContent=e.textContent}}const Lh="tooltip",$h=new Set(["sanitize","allowList","sanitizeFn"]),io="fade",Ph="modal",As="show",Ih=".tooltip-inner",ma=`.${Ph}`,ga="hide.bs.modal",Vi="hover",so="focus",Rh="click",Mh="manual",jh="hide",Hh="hidden",qh="show",Bh="shown",Kh="inserted",Fh="click",Wh="focusin",Vh="focusout",Yh="mouseenter",Uh="mouseleave",zh={AUTO:"auto",TOP:"top",RIGHT:sn()?"left":"right",BOTTOM:"bottom",LEFT:sn()?"right":"left"},Xh={allowList:xu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Gh={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Si extends bn{constructor(e,r){if(typeof eu>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,r),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Xh}static get DefaultType(){return Gh}static get NAME(){return Lh}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Q.off(this._element.closest(ma),ga,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=Q.trigger(this._element,this.constructor.eventName(qh)),l=(ru(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!l)return;this._disposePopper();const m=this._getTipElement();this._element.setAttribute("aria-describedby",m.getAttribute("id"));const{container:S}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(S.append(m),Q.trigger(this._element,this.constructor.eventName(Kh))),this._popper=this._createPopper(m),m.classList.add(As),"ontouchstart"in document.documentElement)for(const k of[].concat(...document.body.children))Q.on(k,"mouseover",Ls);const T=()=>{Q.trigger(this._element,this.constructor.eventName(Bh)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(T,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Q.trigger(this._element,this.constructor.eventName(jh)).defaultPrevented)return;if(this._getTipElement().classList.remove(As),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))Q.off(m,"mouseover",Ls);this._activeTrigger[Rh]=!1,this._activeTrigger[so]=!1,this._activeTrigger[Vi]=!1,this._isHovered=null;const l=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Q.trigger(this._element,this.constructor.eventName(Hh)))};this._queueCallback(l,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const r=this._getTemplateFactory(e).toHtml();if(!r)return null;r.classList.remove(io,As),r.classList.add(`bs-${this.constructor.NAME}-auto`);const l=Il(this.constructor.NAME).toString();return r.setAttribute("id",l),this._isAnimated()&&r.classList.add(io),r}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new kh({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Ih]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(io)}_isShown(){return this.tip&&this.tip.classList.contains(As)}_createPopper(e){const r=jt(this._config.placement,[this,e,this._element]),l=zh[r.toUpperCase()];return Ro(this._element,e,this._getPopperConfig(l))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_resolvePossibleFunction(e){return jt(e,[this._element])}_getPopperConfig(e){const r={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:l=>{this._getTipElement().setAttribute("data-popper-placement",l.state.placement)}}]};return{...r,...jt(this._config.popperConfig,[r])}}_setListeners(){const e=this._config.trigger.split(" ");for(const r of e)if(r==="click")Q.on(this._element,this.constructor.eventName(Fh),this._config.selector,l=>{this._initializeOnDelegatedTarget(l).toggle()});else if(r!==Mh){const l=r===Vi?this.constructor.eventName(Yh):this.constructor.eventName(Wh),m=r===Vi?this.constructor.eventName(Uh):this.constructor.eventName(Vh);Q.on(this._element,l,this._config.selector,S=>{const T=this._initializeOnDelegatedTarget(S);T._activeTrigger[S.type==="focusin"?so:Vi]=!0,T._enter()}),Q.on(this._element,m,this._config.selector,S=>{const T=this._initializeOnDelegatedTarget(S);T._activeTrigger[S.type==="focusout"?so:Vi]=T._element.contains(S.relatedTarget),T._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Q.on(this._element.closest(ma),ga,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,r){clearTimeout(this._timeout),this._timeout=setTimeout(e,r)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const r=zn.getDataAttributes(this._element);for(const l of Object.keys(r))$h.has(l)&&delete r[l];return e={...r,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:hr(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[r,l]of Object.entries(this._config))this.constructor.Default[r]!==l&&(e[r]=l);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const r=Si.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}an(Si);const Qh="popover",Jh=".popover-header",Zh=".popover-body",ed={...Si.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},td={...Si.DefaultType,content:"(null|string|element|function)"};class qo extends Si{static get Default(){return ed}static get DefaultType(){return td}static get NAME(){return Qh}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Jh]:this._getTitle(),[Zh]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const r=qo.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}an(qo);const nd="scrollspy",rd="bs.scrollspy",Bo=`.${rd}`,id=".data-api",sd=`activate${Bo}`,va=`click${Bo}`,od=`load${Bo}${id}`,ad="dropdown-item",ci="active",ud='[data-bs-spy="scroll"]',oo="[href]",ld=".nav, .list-group",ya=".nav-link",cd=".nav-item",fd=".list-group-item",hd=`${ya}, ${cd} > ${ya}, ${fd}`,dd=".dropdown",pd=".dropdown-toggle",md={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},gd={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ks extends bn{constructor(e,r){super(e,r),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return md}static get DefaultType(){return gd}static get NAME(){return nd}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=hr(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(r=>Number.parseFloat(r))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Q.off(this._config.target,va),Q.on(this._config.target,va,oo,e=>{const r=this._observableSections.get(e.target.hash);if(r){e.preventDefault();const l=this._rootElement||window,m=r.offsetTop-this._element.offsetTop;if(l.scrollTo){l.scrollTo({top:m,behavior:"smooth"});return}l.scrollTop=m}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(r=>this._observerCallback(r),e)}_observerCallback(e){const r=T=>this._targetLinks.get(`#${T.target.id}`),l=T=>{this._previousScrollData.visibleEntryTop=T.target.offsetTop,this._process(r(T))},m=(this._rootElement||document.documentElement).scrollTop,S=m>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=m;for(const T of e){if(!T.isIntersecting){this._activeTarget=null,this._clearActiveClass(r(T));continue}const k=T.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(S&&k){if(l(T),!m)return;continue}!S&&!k&&l(T)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=we.find(oo,this._config.target);for(const r of e){if(!r.hash||dr(r))continue;const l=we.findOne(decodeURI(r.hash),this._element);Ei(l)&&(this._targetLinks.set(decodeURI(r.hash),r),this._observableSections.set(r.hash,l))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(ci),this._activateParents(e),Q.trigger(this._element,sd,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(ad)){we.findOne(pd,e.closest(dd)).classList.add(ci);return}for(const r of we.parents(e,ld))for(const l of we.prev(r,hd))l.classList.add(ci)}_clearActiveClass(e){e.classList.remove(ci);const r=we.find(`${oo}.${ci}`,e);for(const l of r)l.classList.remove(ci)}static jQueryInterface(e){return this.each(function(){const r=Ks.getOrCreateInstance(this,e);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Q.on(window,od,()=>{for(const h of we.find(ud))Ks.getOrCreateInstance(h)});an(Ks);const vd="tab",yd="bs.tab",Kr=`.${yd}`,bd=`hide${Kr}`,_d=`hidden${Kr}`,wd=`show${Kr}`,Ed=`shown${Kr}`,Td=`click${Kr}`,Sd=`keydown${Kr}`,Ad=`load${Kr}`,Cd="ArrowLeft",ba="ArrowRight",xd="ArrowUp",_a="ArrowDown",ao="Home",wa="End",Rr="active",Ea="fade",uo="show",Od="dropdown",Ou=".dropdown-toggle",Dd=".dropdown-menu",lo=`:not(${Ou})`,Nd='.list-group, .nav, [role="tablist"]',kd=".nav-item, .list-group-item",Ld=`.nav-link${lo}, .list-group-item${lo}, [role="tab"]${lo}`,Du='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',co=`${Ld}, ${Du}`,$d=`.${Rr}[data-bs-toggle="tab"], .${Rr}[data-bs-toggle="pill"], .${Rr}[data-bs-toggle="list"]`;class _i extends bn{constructor(e){super(e),this._parent=this._element.closest(Nd),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Q.on(this._element,Sd,r=>this._keydown(r)))}static get NAME(){return vd}show(){const e=this._element;if(this._elemIsActive(e))return;const r=this._getActiveElem(),l=r?Q.trigger(r,bd,{relatedTarget:e}):null;Q.trigger(e,wd,{relatedTarget:r}).defaultPrevented||l&&l.defaultPrevented||(this._deactivate(r,e),this._activate(e,r))}_activate(e,r){if(!e)return;e.classList.add(Rr),this._activate(we.getElementFromSelector(e));const l=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(uo);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Q.trigger(e,Ed,{relatedTarget:r})};this._queueCallback(l,e,e.classList.contains(Ea))}_deactivate(e,r){if(!e)return;e.classList.remove(Rr),e.blur(),this._deactivate(we.getElementFromSelector(e));const l=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(uo);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Q.trigger(e,_d,{relatedTarget:r})};this._queueCallback(l,e,e.classList.contains(Ea))}_keydown(e){if(![Cd,ba,xd,_a,ao,wa].includes(e.key))return;e.stopPropagation(),e.preventDefault();const r=this._getChildren().filter(m=>!dr(m));let l;if([ao,wa].includes(e.key))l=r[e.key===ao?0:r.length-1];else{const m=[ba,_a].includes(e.key);l=Mo(r,e.target,m,!0)}l&&(l.focus({preventScroll:!0}),_i.getOrCreateInstance(l).show())}_getChildren(){return we.find(co,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,r){this._setAttributeIfNotExists(e,"role","tablist");for(const l of r)this._setInitialAttributesOnChild(l)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const r=this._elemIsActive(e),l=this._getOuterElement(e);e.setAttribute("aria-selected",r),l!==e&&this._setAttributeIfNotExists(l,"role","presentation"),r||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const r=we.getElementFromSelector(e);r&&(this._setAttributeIfNotExists(r,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(r,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,r){const l=this._getOuterElement(e);if(!l.classList.contains(Od))return;const m=(S,T)=>{const k=we.findOne(S,l);k&&k.classList.toggle(T,r)};m(Ou,Rr),m(Dd,uo),l.setAttribute("aria-expanded",r)}_setAttributeIfNotExists(e,r,l){e.hasAttribute(r)||e.setAttribute(r,l)}_elemIsActive(e){return e.classList.contains(Rr)}_getInnerElement(e){return e.matches(co)?e:we.findOne(co,e)}_getOuterElement(e){return e.closest(kd)||e}static jQueryInterface(e){return this.each(function(){const r=_i.getOrCreateInstance(this);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Q.on(document,Td,Du,function(h){["A","AREA"].includes(this.tagName)&&h.preventDefault(),!dr(this)&&_i.getOrCreateInstance(this).show()});Q.on(window,Ad,()=>{for(const h of we.find($d))_i.getOrCreateInstance(h)});an(_i);const Pd="toast",Id="bs.toast",vr=`.${Id}`,Rd=`mouseover${vr}`,Md=`mouseout${vr}`,jd=`focusin${vr}`,Hd=`focusout${vr}`,qd=`hide${vr}`,Bd=`hidden${vr}`,Kd=`show${vr}`,Fd=`shown${vr}`,Wd="fade",Ta="hide",Cs="show",xs="showing",Vd={animation:"boolean",autohide:"boolean",delay:"number"},Yd={animation:!0,autohide:!0,delay:5e3};class Fs extends bn{constructor(e,r){super(e,r),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Yd}static get DefaultType(){return Vd}static get NAME(){return Pd}show(){if(Q.trigger(this._element,Kd).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Wd);const r=()=>{this._element.classList.remove(xs),Q.trigger(this._element,Fd),this._maybeScheduleHide()};this._element.classList.remove(Ta),Qi(this._element),this._element.classList.add(Cs,xs),this._queueCallback(r,this._element,this._config.animation)}hide(){if(!this.isShown()||Q.trigger(this._element,qd).defaultPrevented)return;const r=()=>{this._element.classList.add(Ta),this._element.classList.remove(xs,Cs),Q.trigger(this._element,Bd)};this._element.classList.add(xs),this._queueCallback(r,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Cs),super.dispose()}isShown(){return this._element.classList.contains(Cs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,r){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=r;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=r;break}}if(r){this._clearTimeout();return}const l=e.relatedTarget;this._element===l||this._element.contains(l)||this._maybeScheduleHide()}_setListeners(){Q.on(this._element,Rd,e=>this._onInteraction(e,!0)),Q.on(this._element,Md,e=>this._onInteraction(e,!1)),Q.on(this._element,jd,e=>this._onInteraction(e,!0)),Q.on(this._element,Hd,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const r=Fs.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}Hs(Fs);an(Fs);class Ud{constructor(){z(this,"id","ticketModal");z(this,"modal",null);z(this,"ticketId",null);const e=document.querySelector(`#${this.id}`);e&&(this.modal=new qr(e))}handler(){const e=document.querySelector("#btnRedirectTicket");e&&e.addEventListener("click",()=>{this.modal&&(this.modal.hide(),window.location.href=`/ticket?id=${this.ticketId}`)})}show(e){if(this.modal&&e.ticket){this.ticketId=e.ticket.id;const r=document.querySelector("#modal_ticket_id");r&&(r.textContent=e.ticket.id_disp??"");const l=document.querySelector("#ticket_name");l&&(l.value=e.ticket.name??"");const m=document.querySelector("#description");if(m&&(m.innerHTML=e.ticket.description??""),e.members&&e.members.length>0){const F=document.querySelector("#members");if(F){let Y='<table class="table table-hover">';Y+="<thead>",Y+="<tr>",Y+='<th scope="col">メールアドレス</th>',Y+='<th scope="col">名前</th>',Y+="</tr>",Y+="</thead>",Y+="<tbody>";for(const ie of e.members)Y+="<tr>",Y+=`<td>${ie.email}</td>`,Y+=`<td>${ie.name}</td>`,Y+="</tr>";Y+="</tbody>",Y+="</table>",F.innerHTML=Y}}const S=document.querySelector("#start_date");if(S){let F='<label class="form-label" for="startdate">開始日</label>';F+=`<input class="form-control" id="startdate" type="date" value="${e.ticket.start_date??""}" disabled>`,S.innerHTML=F}const T=document.querySelector("#end_date");if(T){let F='<label class="form-label" for="enddate">終了日</label>';F+=`<input class="form-control" id="enddate" type="date" value="${e.ticket.end_date??""}" disabled>`,T.innerHTML=F}const k=document.querySelector("#progress");k&&(k.value=`${e.ticket.progress}`);const j=document.querySelector("#finished");j&&(j.checked=e.ticket.progress===100);const V=document.querySelector(`#priority${e.ticket.priority}`);if(V&&(V.checked=!0),e.parent){const F=document.querySelector("#parent");F&&(F.innerHTML=`${e.parent.id_disp}&nbsp;&nbsp;${e.parent.name}`)}if(e.children){const F=document.querySelector("#children");if(F){let Y="";for(const ie of e.children)Y+=`<p class="mb-0">${ie.id_disp}&nbsp;&nbsp;${ie.name}</p>`;F.innerHTML=Y}}this.modal.show()}}hide(){this.modal&&this.modal.hide()}}var Nu={exports:{}};(function(h,e){(function(r,l){h.exports=l()})(zi,function(){var r=function(n,s){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(u[y]=d[y])})(n,s)},l=function(){return(l=Object.assign||function(n){for(var s,u=1,d=arguments.length;u<d;u++)for(var y in s=arguments[u])Object.prototype.hasOwnProperty.call(s,y)&&(n[y]=s[y]);return n}).apply(this,arguments)};function m(n,s,u){for(var d,y=0,a=s.length;y<a;y++)!d&&y in s||((d=d||Array.prototype.slice.call(s,0,y))[y]=s[y]);return n.concat(d||Array.prototype.slice.call(s))}var S=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:zi,T=Object.keys,k=Array.isArray;function j(n,s){return typeof s!="object"||T(s).forEach(function(u){n[u]=s[u]}),n}typeof Promise>"u"||S.Promise||(S.Promise=Promise);var V=Object.getPrototypeOf,F={}.hasOwnProperty;function Y(n,s){return F.call(n,s)}function ie(n,s){typeof s=="function"&&(s=s(V(n))),(typeof Reflect>"u"?T:Reflect.ownKeys)(s).forEach(function(u){J(n,u,s[u])})}var ce=Object.defineProperty;function J(n,s,u,d){ce(n,s,j(u&&Y(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},d))}function Z(n){return{from:function(s){return n.prototype=Object.create(s.prototype),J(n.prototype,"constructor",n),{extend:ie.bind(null,n.prototype)}}}}var _e=Object.getOwnPropertyDescriptor,oe=[].slice;function Be(n,s,u){return oe.call(n,s,u)}function Ue(n,s){return s(n)}function Ee(n){if(!n)throw new Error("Assertion Failed")}function $e(n){S.setImmediate?setImmediate(n):setTimeout(n,0)}function Ce(n,s){if(typeof s=="string"&&Y(n,s))return n[s];if(!s)return n;if(typeof s!="string"){for(var u=[],d=0,y=s.length;d<y;++d){var a=Ce(n,s[d]);u.push(a)}return u}var p=s.indexOf(".");if(p!==-1){var b=n[s.substr(0,p)];return b==null?void 0:Ce(b,s.substr(p+1))}}function f(n,s,u){if(n&&s!==void 0&&!("isFrozen"in Object&&Object.isFrozen(n)))if(typeof s!="string"&&"length"in s){Ee(typeof u!="string"&&"length"in u);for(var d=0,y=s.length;d<y;++d)f(n,s[d],u[d])}else{var a,p,b=s.indexOf(".");b!==-1?(a=s.substr(0,b),(p=s.substr(b+1))===""?u===void 0?k(n)&&!isNaN(parseInt(a))?n.splice(a,1):delete n[a]:n[a]=u:f(b=!(b=n[a])||!Y(n,a)?n[a]={}:b,p,u)):u===void 0?k(n)&&!isNaN(parseInt(s))?n.splice(s,1):delete n[s]:n[s]=u}}function Je(n){var s,u={};for(s in n)Y(n,s)&&(u[s]=n[s]);return u}var Te=[].concat;function Oe(n){return Te.apply([],n)}var lt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Oe([8,16,32,64].map(function(n){return["Int","Uint","Float"].map(function(s){return s+n+"Array"})}))).filter(function(n){return S[n]}),Se=new Set(lt.map(function(n){return S[n]})),rt=null;function be(n){return rt=new WeakMap,n=function s(u){if(!u||typeof u!="object")return u;var d=rt.get(u);if(d)return d;if(k(u)){d=[],rt.set(u,d);for(var y=0,a=u.length;y<a;++y)d.push(s(u[y]))}else if(Se.has(u.constructor))d=u;else{var p,b=V(u);for(p in d=b===Object.prototype?{}:Object.create(b),rt.set(u,d),u)Y(u,p)&&(d[p]=s(u[p]))}return d}(n),rt=null,n}var ve={}.toString;function ue(n){return ve.call(n).slice(8,-1)}var ne=typeof Symbol<"u"?Symbol.iterator:"@@iterator",le=typeof ne=="symbol"?function(n){var s;return n!=null&&(s=n[ne])&&s.apply(n)}:function(){return null};function ae(n,s){return s=n.indexOf(s),0<=s&&n.splice(s,1),0<=s}var ge={};function ye(n){var s,u,d,y;if(arguments.length===1){if(k(n))return n.slice();if(this===ge&&typeof n=="string")return[n];if(y=le(n)){for(u=[];!(d=y.next()).done;)u.push(d.value);return u}if(n==null)return[n];if(typeof(s=n.length)!="number")return[n];for(u=new Array(s);s--;)u[s]=n[s];return u}for(s=arguments.length,u=new Array(s);s--;)u[s]=arguments[s];return u}var Me=typeof Symbol<"u"?function(n){return n[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},pe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Et=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(pe),We={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ke(n,s){this.name=n,this.message=s}function Ge(n,s){return n+". Errors: "+Object.keys(s).map(function(u){return s[u].toString()}).filter(function(u,d,y){return y.indexOf(u)===d}).join(`
`)}function Ze(n,s,u,d){this.failures=s,this.failedKeys=d,this.successCount=u,this.message=Ge(n,s)}function ut(n,s){this.name="BulkError",this.failures=Object.keys(s).map(function(u){return s[u]}),this.failuresByPos=s,this.message=Ge(n,this.failures)}Z(Ke).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Z(Ze).from(Ke),Z(ut).from(Ke);var pt=Et.reduce(function(n,s){return n[s]=s+"Error",n},{}),gt=Ke,de=Et.reduce(function(n,s){var u=s+"Error";function d(y,a){this.name=u,y?typeof y=="string"?(this.message="".concat(y).concat(a?`
 `+a:""),this.inner=a||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=We[s]||u,this.inner=null)}return Z(d).from(gt),n[s]=d,n},{});de.Syntax=SyntaxError,de.Type=TypeError,de.Range=RangeError;var Xe=pe.reduce(function(n,s){return n[s+"Error"]=de[s],n},{}),ht=Et.reduce(function(n,s){return["Syntax","Type","Range"].indexOf(s)===-1&&(n[s+"Error"]=de[s]),n},{});function De(){}function mt(n){return n}function Fr(n,s){return n==null||n===mt?s:function(u){return s(n(u))}}function un(n,s){return function(){n.apply(this,arguments),s.apply(this,arguments)}}function Qn(n,s){return n===De?s:function(){var u=n.apply(this,arguments);u!==void 0&&(arguments[0]=u);var d=this.onsuccess,y=this.onerror;this.onsuccess=null,this.onerror=null;var a=s.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?un(d,this.onsuccess):d),y&&(this.onerror=this.onerror?un(y,this.onerror):y),a!==void 0?a:u}}function In(n,s){return n===De?s:function(){n.apply(this,arguments);var u=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,s.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?un(u,this.onsuccess):u),d&&(this.onerror=this.onerror?un(d,this.onerror):d)}}function qt(n,s){return n===De?s:function(u){var d=n.apply(this,arguments);j(u,d);var y=this.onsuccess,a=this.onerror;return this.onsuccess=null,this.onerror=null,u=s.apply(this,arguments),y&&(this.onsuccess=this.onsuccess?un(y,this.onsuccess):y),a&&(this.onerror=this.onerror?un(a,this.onerror):a),d===void 0?u===void 0?void 0:u:j(d,u)}}function Ai(n,s){return n===De?s:function(){return s.apply(this,arguments)!==!1&&n.apply(this,arguments)}}function Bt(n,s){return n===De?s:function(){var u=n.apply(this,arguments);if(u&&typeof u.then=="function"){for(var d=this,y=arguments.length,a=new Array(y);y--;)a[y]=arguments[y];return u.then(function(){return s.apply(d,a)})}return s.apply(this,arguments)}}ht.ModifyError=Ze,ht.DexieError=Ke,ht.BulkError=ut;var vt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function bt(n){vt=n}var kt={},zt=100,lt=typeof Promise>"u"?[]:function(){var n=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[n,V(n),n];var s=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[s,V(s),n]}(),pe=lt[0],Et=lt[1],lt=lt[2],Et=Et&&Et.then,at=pe&&pe.constructor,Jn=!!lt,_n=function(n,s){br.push([n,s]),yr&&(queueMicrotask(wt),yr=!1)},Ci=!0,yr=!0,wn=[],En=[],Kt=mt,_t={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:De,pgp:!1,env:{},finalize:De},me=_t,br=[],Xt=0,_r=[];function fe(n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var s=this._PSD=me;if(typeof n!="function"){if(n!==kt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Mn(this,this._value))}this._state=null,this._value=null,++s.ref,function u(d,y){try{y(function(a){if(d._state===null){if(a===d)throw new TypeError("A promise cannot be resolved with itself.");var p=d._lib&&Tn();a&&typeof a.then=="function"?u(d,function(b,w){a instanceof fe?a._then(b,w):a.then(b,w)}):(d._state=!0,d._value=a,Oi(d)),p&&Zn()}},Mn.bind(null,d))}catch(a){Mn(d,a)}}(this,n)}var xi={get:function(){var n=me,s=Ur;function u(d,y){var a=this,p=!n.global&&(n!==me||s!==Ur),b=p&&!Sn(),w=new fe(function(E,x){Wr(a,new Rn(zr(d,n,p,b),zr(y,n,p,b),E,x,n))});return this._consoleTask&&(w._consoleTask=this._consoleTask),w}return u.prototype=kt,u},set:function(n){J(this,"then",n&&n.prototype===kt?xi:{get:function(){return n},set:xi.set})}};function Rn(n,s,u,d,y){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof s=="function"?s:null,this.resolve=u,this.reject=d,this.psd=y}function Mn(n,s){var u,d;En.push(s),n._state===null&&(u=n._lib&&Tn(),s=Kt(s),n._state=!1,n._value=s,d=n,wn.some(function(y){return y._value===d._value})||wn.push(d),Oi(n),u&&Zn())}function Oi(n){var s=n._listeners;n._listeners=[];for(var u=0,d=s.length;u<d;++u)Wr(n,s[u]);var y=n._PSD;--y.ref||y.finalize(),Xt===0&&(++Xt,_n(function(){--Xt==0&&Vr()},[]))}function Wr(n,s){if(n._state!==null){var u=n._state?s.onFulfilled:s.onRejected;if(u===null)return(n._state?s.resolve:s.reject)(n._value);++s.psd.ref,++Xt,_n(Lt,[u,n,s])}else n._listeners.push(s)}function Lt(n,s,u){try{var d,y=s._value;!s._state&&En.length&&(En=[]),d=vt&&s._consoleTask?s._consoleTask.run(function(){return n(y)}):n(y),s._state||En.indexOf(y)!==-1||function(a){for(var p=wn.length;p;)if(wn[--p]._value===a._value)return wn.splice(p,1)}(s),u.resolve(d)}catch(a){u.reject(a)}finally{--Xt==0&&Vr(),--u.psd.ref||u.psd.finalize()}}function wt(){cn(_t,function(){Tn()&&Zn()})}function Tn(){var n=Ci;return yr=Ci=!1,n}function Zn(){var n,s,u;do for(;0<br.length;)for(n=br,br=[],u=n.length,s=0;s<u;++s){var d=n[s];d[0].apply(null,d[1])}while(0<br.length);yr=Ci=!0}function Vr(){var n=wn;wn=[],n.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var s=_r.slice(0),u=s.length;u;)s[--u]()}function wr(n){return new fe(kt,!1,n)}function ze(n,s){var u=me;return function(){var d=Tn(),y=me;try{return At(u,!0),n.apply(this,arguments)}catch(a){s&&s(a)}finally{At(y,!1),d&&Zn()}}}ie(fe.prototype,{then:xi,_then:function(n,s){Wr(this,new Rn(null,null,n,s,me))},catch:function(n){if(arguments.length===1)return this.then(null,n);var s=n,u=arguments[1];return typeof s=="function"?this.then(null,function(d){return(d instanceof s?u:wr)(d)}):this.then(null,function(d){return(d&&d.name===s?u:wr)(d)})},finally:function(n){return this.then(function(s){return fe.resolve(n()).then(function(){return s})},function(s){return fe.resolve(n()).then(function(){return wr(s)})})},timeout:function(n,s){var u=this;return n<1/0?new fe(function(d,y){var a=setTimeout(function(){return y(new de.Timeout(s))},n);u.then(d,y).finally(clearTimeout.bind(null,a))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&J(fe.prototype,Symbol.toStringTag,"Dexie.Promise"),_t.env=Ni(),ie(fe,{all:function(){var n=ye.apply(null,arguments).map(Er);return new fe(function(s,u){n.length===0&&s([]);var d=n.length;n.forEach(function(y,a){return fe.resolve(y).then(function(p){n[a]=p,--d||s(n)},u)})})},resolve:function(n){return n instanceof fe?n:n&&typeof n.then=="function"?new fe(function(s,u){n.then(s,u)}):new fe(kt,!0,n)},reject:wr,race:function(){var n=ye.apply(null,arguments).map(Er);return new fe(function(s,u){n.map(function(d){return fe.resolve(d).then(s,u)})})},PSD:{get:function(){return me},set:function(n){return me=n}},totalEchoes:{get:function(){return Ur}},newPSD:ln,usePSD:cn,scheduler:{get:function(){return _n},set:function(n){_n=n}},rejectionMapper:{get:function(){return Kt},set:function(n){Kt=n}},follow:function(n,s){return new fe(function(u,d){return ln(function(y,a){var p=me;p.unhandleds=[],p.onunhandled=a,p.finalize=un(function(){var b,w=this;b=function(){w.unhandleds.length===0?y():a(w.unhandleds[0])},_r.push(function E(){b(),_r.splice(_r.indexOf(E),1)}),++Xt,_n(function(){--Xt==0&&Vr()},[])},p.finalize),n()},s,u,d)})}}),at&&(at.allSettled&&J(fe,"allSettled",function(){var n=ye.apply(null,arguments).map(Er);return new fe(function(s){n.length===0&&s([]);var u=n.length,d=new Array(u);n.forEach(function(y,a){return fe.resolve(y).then(function(p){return d[a]={status:"fulfilled",value:p}},function(p){return d[a]={status:"rejected",reason:p}}).then(function(){return--u||s(d)})})})}),at.any&&typeof AggregateError<"u"&&J(fe,"any",function(){var n=ye.apply(null,arguments).map(Er);return new fe(function(s,u){n.length===0&&u(new AggregateError([]));var d=n.length,y=new Array(d);n.forEach(function(a,p){return fe.resolve(a).then(function(b){return s(b)},function(b){y[p]=b,--d||u(new AggregateError(y))})})})}));var tt={awaits:0,echoes:0,id:0},Di=0,jn=[],Yr=0,Ur=0,Ws=0;function ln(n,s,u,d){var y=me,a=Object.create(y);return a.parent=y,a.ref=0,a.global=!1,a.id=++Ws,_t.env,a.env=Jn?{Promise:fe,PromiseProp:{value:fe,configurable:!0,writable:!0},all:fe.all,race:fe.race,allSettled:fe.allSettled,any:fe.any,resolve:fe.resolve,reject:fe.reject}:{},s&&j(a,s),++y.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()},d=cn(a,n,u,d),a.ref===0&&a.finalize(),d}function er(){return tt.id||(tt.id=++Di),++tt.awaits,tt.echoes+=zt,tt.id}function Sn(){return!!tt.awaits&&(--tt.awaits==0&&(tt.id=0),tt.echoes=tt.awaits*zt,!0)}function Er(n){return tt.echoes&&n&&n.constructor===at?(er(),n.then(function(s){return Sn(),s},function(s){return Sn(),it(s)})):n}function Vs(){var n=jn[jn.length-1];jn.pop(),At(n,!1)}function At(n,s){var u,d=me;(s?!tt.echoes||Yr++&&n===me:!Yr||--Yr&&n===me)||queueMicrotask(s?(function(y){++Ur,tt.echoes&&--tt.echoes!=0||(tt.echoes=tt.awaits=tt.id=0),jn.push(me),At(y,!0)}).bind(null,n):Vs),n!==me&&(me=n,d===_t&&(_t.env=Ni()),Jn&&(u=_t.env.Promise,s=n.env,(d.global||n.global)&&(Object.defineProperty(S,"Promise",s.PromiseProp),u.all=s.all,u.race=s.race,u.resolve=s.resolve,u.reject=s.reject,s.allSettled&&(u.allSettled=s.allSettled),s.any&&(u.any=s.any))))}function Ni(){var n=S.Promise;return Jn?{Promise:n,PromiseProp:Object.getOwnPropertyDescriptor(S,"Promise"),all:n.all,race:n.race,allSettled:n.allSettled,any:n.any,resolve:n.resolve,reject:n.reject}:{}}function cn(n,s,u,d,y){var a=me;try{return At(n,!0),s(u,d,y)}finally{At(a,!1)}}function zr(n,s,u,d){return typeof n!="function"?n:function(){var y=me;u&&er(),At(s,!0);try{return n.apply(this,arguments)}finally{At(y,!1),d&&queueMicrotask(Sn)}}}function tr(n){Promise===at&&tt.echoes===0?Yr===0?n():enqueueNativeMicroTask(n):setTimeout(n,0)}(""+Et).indexOf("[native code]")===-1&&(er=Sn=De);var it=fe.reject,Hn="￿",Ct="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ki="String expected.",qn=[],Tr="__dbnames",Xr="readonly",Li="readwrite";function fn(n,s){return n?s?function(){return n.apply(this,arguments)&&s.apply(this,arguments)}:n:s}var ts={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Gr(n){return typeof n!="string"||/\./.test(n)?function(s){return s}:function(s){return s[n]===void 0&&n in s&&delete(s=be(s))[n],s}}function $i(){throw de.Type()}function He(n,s){try{var u=Qr(n),d=Qr(s);if(u!==d)return u==="Array"?1:d==="Array"?-1:u==="binary"?1:d==="binary"?-1:u==="string"?1:d==="string"?-1:u==="Date"?1:d!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return s<n?1:n<s?-1:0;case"binary":return function(y,a){for(var p=y.length,b=a.length,w=p<b?p:b,E=0;E<w;++E)if(y[E]!==a[E])return y[E]<a[E]?-1:1;return p===b?0:p<b?-1:1}(Pi(n),Pi(s));case"Array":return function(y,a){for(var p=y.length,b=a.length,w=p<b?p:b,E=0;E<w;++E){var x=He(y[E],a[E]);if(x!==0)return x}return p===b?0:p<b?-1:1}(n,s)}}catch{}return NaN}function Qr(n){var s=typeof n;return s!="object"?s:ArrayBuffer.isView(n)?"binary":(n=ue(n),n==="ArrayBuffer"?"binary":n)}function Pi(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n)}var yt=(Ve.prototype._trans=function(n,s,u){var d=this._tx||me.trans,y=this.name,a=vt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(n==="readonly"?"read":"write"," ").concat(this.name));function p(E,x,A){if(!A.schema[y])throw new de.NotFound("Table "+y+" not part of transaction");return s(A.idbtrans,A)}var b=Tn();try{var w=d&&d.db._novip===this.db._novip?d===me.trans?d._promise(n,p,u):ln(function(){return d._promise(n,p,u)},{trans:d,transless:me.transless||me}):function E(x,A,D,C){if(x.idbdb&&(x._state.openComplete||me.letThrough||x._vip)){var $=x._createTransaction(A,D,x._dbSchema);try{$.create(),x._state.PR1398_maxLoop=3}catch(P){return P.name===pt.InvalidState&&x.isOpen()&&0<--x._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),x.close({disableAutoOpen:!1}),x.open().then(function(){return E(x,A,D,C)})):it(P)}return $._promise(A,function(P,N){return ln(function(){return me.trans=$,C(P,N,$)})}).then(function(P){if(A==="readwrite")try{$.idbtrans.commit()}catch{}return A==="readonly"?P:$._completion.then(function(){return P})})}if(x._state.openComplete)return it(new de.DatabaseClosed(x._state.dbOpenError));if(!x._state.isBeingOpened){if(!x._state.autoOpen)return it(new de.DatabaseClosed);x.open().catch(De)}return x._state.dbReadyPromise.then(function(){return E(x,A,D,C)})}(this.db,n,[this.name],p);return a&&(w._consoleTask=a,w=w.catch(function(E){return console.trace(E),it(E)})),w}finally{b&&Zn()}},Ve.prototype.get=function(n,s){var u=this;return n&&n.constructor===Object?this.where(n).first(s):n==null?it(new de.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return u.core.get({trans:d,key:n}).then(function(y){return u.hook.reading.fire(y)})}).then(s)},Ve.prototype.where=function(n){if(typeof n=="string")return new this.db.WhereClause(this,n);if(k(n))return new this.db.WhereClause(this,"[".concat(n.join("+"),"]"));var s=T(n);if(s.length===1)return this.where(s[0]).equals(n[s[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&s.every(function(x){return 0<=w.keyPath.indexOf(x)})){for(var E=0;E<s.length;++E)if(s.indexOf(w.keyPath[E])===-1)return!1;return!0}return!1}).sort(function(w,E){return w.keyPath.length-E.keyPath.length})[0];if(u&&this.db._maxKey!==Hn){var p=u.keyPath.slice(0,s.length);return this.where(p).equals(p.map(function(E){return n[E]}))}!u&&vt&&console.warn("The query ".concat(JSON.stringify(n)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(s.join("+"),"]"));var d=this.schema.idxByName,y=this.db._deps.indexedDB;function a(w,E){return y.cmp(w,E)===0}var b=s.reduce(function(D,E){var x=D[0],A=D[1],D=d[E],C=n[E];return[x||D,x||!D?fn(A,D&&D.multi?function($){return $=Ce($,E),k($)&&$.some(function(P){return a(C,P)})}:function($){return a(C,Ce($,E))}):A]},[null,null]),p=b[0],b=b[1];return p?this.where(p.name).equals(n[p.keyPath]).filter(b):u?this.filter(b):this.where(s).equals("")},Ve.prototype.filter=function(n){return this.toCollection().and(n)},Ve.prototype.count=function(n){return this.toCollection().count(n)},Ve.prototype.offset=function(n){return this.toCollection().offset(n)},Ve.prototype.limit=function(n){return this.toCollection().limit(n)},Ve.prototype.each=function(n){return this.toCollection().each(n)},Ve.prototype.toArray=function(n){return this.toCollection().toArray(n)},Ve.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ve.prototype.orderBy=function(n){return new this.db.Collection(new this.db.WhereClause(this,k(n)?"[".concat(n.join("+"),"]"):n))},Ve.prototype.reverse=function(){return this.toCollection().reverse()},Ve.prototype.mapToClass=function(n){var s,u=this.db,d=this.name;function y(){return s!==null&&s.apply(this,arguments)||this}(this.schema.mappedClass=n).prototype instanceof $i&&(function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function x(){this.constructor=w}r(w,E),w.prototype=E===null?Object.create(E):(x.prototype=E.prototype,new x)}(y,s=n),Object.defineProperty(y.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),y.prototype.table=function(){return d},n=y);for(var a=new Set,p=n.prototype;p;p=V(p))Object.getOwnPropertyNames(p).forEach(function(w){return a.add(w)});function b(w){if(!w)return w;var E,x=Object.create(n.prototype);for(E in w)if(!a.has(E))try{x[E]=w[E]}catch{}return x}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),n},Ve.prototype.defineClass=function(){return this.mapToClass(function(n){j(this,n)})},Ve.prototype.add=function(n,s){var u=this,d=this.schema.primKey,y=d.auto,a=d.keyPath,p=n;return a&&y&&(p=Gr(a)(n)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"add",keys:s!=null?[s]:null,values:[p]})}).then(function(b){return b.numFailures?fe.reject(b.failures[0]):b.lastResult}).then(function(b){if(a)try{f(n,a,b)}catch{}return b})},Ve.prototype.update=function(n,s){return typeof n!="object"||k(n)?this.where(":id").equals(n).modify(s):(n=Ce(n,this.schema.primKey.keyPath),n===void 0?it(new de.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(s))},Ve.prototype.put=function(n,s){var u=this,d=this.schema.primKey,y=d.auto,a=d.keyPath,p=n;return a&&y&&(p=Gr(a)(n)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"put",values:[p],keys:s!=null?[s]:null})}).then(function(b){return b.numFailures?fe.reject(b.failures[0]):b.lastResult}).then(function(b){if(a)try{f(n,a,b)}catch{}return b})},Ve.prototype.delete=function(n){var s=this;return this._trans("readwrite",function(u){return s.core.mutate({trans:u,type:"delete",keys:[n]})}).then(function(u){return u.numFailures?fe.reject(u.failures[0]):void 0})},Ve.prototype.clear=function(){var n=this;return this._trans("readwrite",function(s){return n.core.mutate({trans:s,type:"deleteRange",range:ts})}).then(function(s){return s.numFailures?fe.reject(s.failures[0]):void 0})},Ve.prototype.bulkGet=function(n){var s=this;return this._trans("readonly",function(u){return s.core.getMany({keys:n,trans:u}).then(function(d){return d.map(function(y){return s.hook.reading.fire(y)})})})},Ve.prototype.bulkAdd=function(n,s,u){var d=this,y=Array.isArray(s)?s:void 0,a=(u=u||(y?void 0:s))?u.allKeys:void 0;return this._trans("readwrite",function(p){var E=d.schema.primKey,b=E.auto,E=E.keyPath;if(E&&y)throw new de.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==n.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var w=n.length,E=E&&b?n.map(Gr(E)):n;return d.core.mutate({trans:p,type:"add",keys:y,values:E,wantResults:a}).then(function($){var A=$.numFailures,D=$.results,C=$.lastResult,$=$.failures;if(A===0)return a?D:C;throw new ut("".concat(d.name,".bulkAdd(): ").concat(A," of ").concat(w," operations failed"),$)})})},Ve.prototype.bulkPut=function(n,s,u){var d=this,y=Array.isArray(s)?s:void 0,a=(u=u||(y?void 0:s))?u.allKeys:void 0;return this._trans("readwrite",function(p){var E=d.schema.primKey,b=E.auto,E=E.keyPath;if(E&&y)throw new de.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==n.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var w=n.length,E=E&&b?n.map(Gr(E)):n;return d.core.mutate({trans:p,type:"put",keys:y,values:E,wantResults:a}).then(function($){var A=$.numFailures,D=$.results,C=$.lastResult,$=$.failures;if(A===0)return a?D:C;throw new ut("".concat(d.name,".bulkPut(): ").concat(A," of ").concat(w," operations failed"),$)})})},Ve.prototype.bulkUpdate=function(n){var s=this,u=this.core,d=n.map(function(p){return p.key}),y=n.map(function(p){return p.changes}),a=[];return this._trans("readwrite",function(p){return u.getMany({trans:p,keys:d,cache:"clone"}).then(function(b){var w=[],E=[];n.forEach(function(A,D){var C=A.key,$=A.changes,P=b[D];if(P){for(var N=0,M=Object.keys($);N<M.length;N++){var R=M[N],H=$[R];if(R===s.schema.primKey.keyPath){if(He(H,C)!==0)throw new de.Constraint("Cannot update primary key in bulkUpdate()")}else f(P,R,H)}a.push(D),w.push(C),E.push(P)}});var x=w.length;return u.mutate({trans:p,type:"put",keys:w,values:E,updates:{keys:d,changeSpecs:y}}).then(function(A){var D=A.numFailures,C=A.failures;if(D===0)return x;for(var $=0,P=Object.keys(C);$<P.length;$++){var N,M=P[$],R=a[Number(M)];R!=null&&(N=C[M],delete C[M],C[R]=N)}throw new ut("".concat(s.name,".bulkUpdate(): ").concat(D," of ").concat(x," operations failed"),C)})})})},Ve.prototype.bulkDelete=function(n){var s=this,u=n.length;return this._trans("readwrite",function(d){return s.core.mutate({trans:d,type:"delete",keys:n})}).then(function(p){var y=p.numFailures,a=p.lastResult,p=p.failures;if(y===0)return a;throw new ut("".concat(s.name,".bulkDelete(): ").concat(y," of ").concat(u," operations failed"),p)})},Ve);function Ve(){}function An(n){function s(p,b){if(b){for(var w=arguments.length,E=new Array(w-1);--w;)E[w-1]=arguments[w];return u[p].subscribe.apply(null,E),n}if(typeof p=="string")return u[p]}var u={};s.addEventType=a;for(var d=1,y=arguments.length;d<y;++d)a(arguments[d]);return s;function a(p,b,w){if(typeof p!="object"){var E;b=b||Ai;var x={subscribers:[],fire:w=w||De,subscribe:function(A){x.subscribers.indexOf(A)===-1&&(x.subscribers.push(A),x.fire=b(x.fire,A))},unsubscribe:function(A){x.subscribers=x.subscribers.filter(function(D){return D!==A}),x.fire=x.subscribers.reduce(b,w)}};return u[p]=s[p]=x}T(E=p).forEach(function(A){var D=E[A];if(k(D))a(A,E[A][0],E[A][1]);else{if(D!=="asap")throw new de.InvalidArgument("Invalid event config");var C=a(A,mt,function(){for(var $=arguments.length,P=new Array($);$--;)P[$]=arguments[$];C.subscribers.forEach(function(N){$e(function(){N.apply(null,P)})})})}})}}function Sr(n,s){return Z(s).from({prototype:n}),s}function nr(n,s){return!(n.filter||n.algorithm||n.or)&&(s?n.justLimit:!n.replayFilter)}function Ar(n,s){n.filter=fn(n.filter,s)}function Jr(n,s,u){var d=n.replayFilter;n.replayFilter=d?function(){return fn(d(),s())}:s,n.justLimit=u&&!d}function Bn(n,s){if(n.isPrimKey)return s.primaryKey;var u=s.getIndexByKeyPath(n.index);if(!u)throw new de.Schema("KeyPath "+n.index+" on object store "+s.name+" is not indexed");return u}function Ii(n,s,u){var d=Bn(n,s.schema);return s.openCursor({trans:u,values:!n.keysOnly,reverse:n.dir==="prev",unique:!!n.unique,query:{index:d,range:n.range}})}function Zr(n,s,u,d){var y=n.replayFilter?fn(n.filter,n.replayFilter()):n.filter;if(n.or){var a={},p=function(b,w,E){var x,A;y&&!y(w,E,function(D){return w.stop(D)},function(D){return w.fail(D)})||((A=""+(x=w.primaryKey))=="[object ArrayBuffer]"&&(A=""+new Uint8Array(x)),Y(a,A)||(a[A]=!0,s(b,w,E)))};return Promise.all([n.or._iterate(p,u),ns(Ii(n,d,u),n.algorithm,p,!n.keysOnly&&n.valueMapper)])}return ns(Ii(n,d,u),fn(n.algorithm,y),s,!n.keysOnly&&n.valueMapper)}function ns(n,s,u,d){var y=ze(d?function(a,p,b){return u(d(a),p,b)}:u);return n.then(function(a){if(a)return a.start(function(){var p=function(){return a.continue()};s&&!s(a,function(b){return p=b},function(b){a.stop(b),p=De},function(b){a.fail(b),p=De})||y(a.value,a,function(b){return p=b}),p()})})}var lt=Symbol(),rr=(ir.prototype.execute=function(n){if(this.add!==void 0){var s=this.add;if(k(s))return m(m([],k(n)?n:[],!0),s).sort();if(typeof s=="number")return(Number(n)||0)+s;if(typeof s=="bigint")try{return BigInt(n)+s}catch{return BigInt(0)+s}throw new TypeError("Invalid term ".concat(s))}if(this.remove!==void 0){var u=this.remove;if(k(u))return k(n)?n.filter(function(d){return!u.includes(d)}).sort():[];if(typeof u=="number")return Number(n)-u;if(typeof u=="bigint")try{return BigInt(n)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return s=(s=this.replacePrefix)===null||s===void 0?void 0:s[0],s&&typeof n=="string"&&n.startsWith(s)?this.replacePrefix[1]+n.substring(s.length):n},ir);function ir(n){Object.assign(this,n)}var Ys=(Fe.prototype._read=function(n,s){var u=this._ctx;return u.error?u.table._trans(null,it.bind(null,u.error)):u.table._trans("readonly",n).then(s)},Fe.prototype._write=function(n){var s=this._ctx;return s.error?s.table._trans(null,it.bind(null,s.error)):s.table._trans("readwrite",n,"locked")},Fe.prototype._addAlgorithm=function(n){var s=this._ctx;s.algorithm=fn(s.algorithm,n)},Fe.prototype._iterate=function(n,s){return Zr(this._ctx,n,s,this._ctx.table.core)},Fe.prototype.clone=function(n){var s=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return n&&j(u,n),s._ctx=u,s},Fe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Fe.prototype.each=function(n){var s=this._ctx;return this._read(function(u){return Zr(s,n,u,s.table.core)})},Fe.prototype.count=function(n){var s=this;return this._read(function(u){var d=s._ctx,y=d.table.core;if(nr(d,!0))return y.count({trans:u,query:{index:Bn(d,y.schema),range:d.range}}).then(function(p){return Math.min(p,d.limit)});var a=0;return Zr(d,function(){return++a,!1},u,y).then(function(){return a})}).then(n)},Fe.prototype.sortBy=function(n,s){var u=n.split(".").reverse(),d=u[0],y=u.length-1;function a(w,E){return E?a(w[u[E]],E-1):w[d]}var p=this._ctx.dir==="next"?1:-1;function b(w,E){return w=a(w,y),E=a(E,y),w<E?-p:E<w?p:0}return this.toArray(function(w){return w.sort(b)}).then(s)},Fe.prototype.toArray=function(n){var s=this;return this._read(function(u){var d=s._ctx;if(d.dir==="next"&&nr(d,!0)&&0<d.limit){var y=d.valueMapper,a=Bn(d,d.table.core.schema);return d.table.core.query({trans:u,limit:d.limit,values:!0,query:{index:a,range:d.range}}).then(function(b){return b=b.result,y?b.map(y):b})}var p=[];return Zr(d,function(b){return p.push(b)},u,d.table.core).then(function(){return p})},n)},Fe.prototype.offset=function(n){var s=this._ctx;return n<=0||(s.offset+=n,nr(s)?Jr(s,function(){var u=n;return function(d,y){return u===0||(u===1?--u:y(function(){d.advance(u),u=0}),!1)}}):Jr(s,function(){var u=n;return function(){return--u<0}})),this},Fe.prototype.limit=function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),Jr(this._ctx,function(){var s=n;return function(u,d,y){return--s<=0&&d(y),0<=s}},!0),this},Fe.prototype.until=function(n,s){return Ar(this._ctx,function(u,d,y){return!n(u.value)||(d(y),s)}),this},Fe.prototype.first=function(n){return this.limit(1).toArray(function(s){return s[0]}).then(n)},Fe.prototype.last=function(n){return this.reverse().first(n)},Fe.prototype.filter=function(n){var s;return Ar(this._ctx,function(u){return n(u.value)}),(s=this._ctx).isMatch=fn(s.isMatch,n),this},Fe.prototype.and=function(n){return this.filter(n)},Fe.prototype.or=function(n){return new this.db.WhereClause(this._ctx.table,n,this)},Fe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Fe.prototype.desc=function(){return this.reverse()},Fe.prototype.eachKey=function(n){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(u,d){n(d.key,d)})},Fe.prototype.eachUniqueKey=function(n){return this._ctx.unique="unique",this.eachKey(n)},Fe.prototype.eachPrimaryKey=function(n){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(u,d){n(d.primaryKey,d)})},Fe.prototype.keys=function(n){var s=this._ctx;s.keysOnly=!s.isMatch;var u=[];return this.each(function(d,y){u.push(y.key)}).then(function(){return u}).then(n)},Fe.prototype.primaryKeys=function(n){var s=this._ctx;if(s.dir==="next"&&nr(s,!0)&&0<s.limit)return this._read(function(d){var y=Bn(s,s.table.core.schema);return s.table.core.query({trans:d,values:!1,limit:s.limit,query:{index:y,range:s.range}})}).then(function(d){return d.result}).then(n);s.keysOnly=!s.isMatch;var u=[];return this.each(function(d,y){u.push(y.primaryKey)}).then(function(){return u}).then(n)},Fe.prototype.uniqueKeys=function(n){return this._ctx.unique="unique",this.keys(n)},Fe.prototype.firstKey=function(n){return this.limit(1).keys(function(s){return s[0]}).then(n)},Fe.prototype.lastKey=function(n){return this.reverse().firstKey(n)},Fe.prototype.distinct=function(){var n=this._ctx,n=n.index&&n.table.schema.idxByName[n.index];if(!n||!n.multi)return this;var s={};return Ar(this._ctx,function(y){var d=y.primaryKey.toString(),y=Y(s,d);return s[d]=!0,!y}),this},Fe.prototype.modify=function(n){var s=this,u=this._ctx;return this._write(function(d){var y,a,p;p=typeof n=="function"?n:(y=T(n),a=y.length,function(N){for(var M=!1,R=0;R<a;++R){var H=y[R],K=n[H],U=Ce(N,H);K instanceof rr?(f(N,H,K.execute(U)),M=!0):U!==K&&(f(N,H,K),M=!0)}return M});function b(N,H){var R=H.failures,H=H.numFailures;$+=N-H;for(var K=0,U=T(R);K<U.length;K++){var re=U[K];C.push(R[re])}}var w=u.table.core,E=w.schema.primaryKey,x=E.outbound,A=E.extractKey,D=s.db._options.modifyChunkSize||200,C=[],$=0,P=[];return s.clone().primaryKeys().then(function(N){function M(H){var K=Math.min(D,N.length-H);return w.getMany({trans:d,keys:N.slice(H,H+K),cache:"immutable"}).then(function(U){for(var re=[],X=[],se=x?[]:null,ee=[],te=0;te<K;++te){var Ne=U[te],ke={value:be(Ne),primKey:N[H+te]};p.call(ke,ke.value,ke)!==!1&&(ke.value==null?ee.push(N[H+te]):x||He(A(Ne),A(ke.value))===0?(X.push(ke.value),x&&se.push(N[H+te])):(ee.push(N[H+te]),re.push(ke.value)))}return Promise.resolve(0<re.length&&w.mutate({trans:d,type:"add",values:re}).then(function(Re){for(var Pe in Re.failures)ee.splice(parseInt(Pe),1);b(re.length,Re)})).then(function(){return(0<X.length||R&&typeof n=="object")&&w.mutate({trans:d,type:"put",keys:se,values:X,criteria:R,changeSpec:typeof n!="function"&&n,isAdditionalChunk:0<H}).then(function(Re){return b(X.length,Re)})}).then(function(){return(0<ee.length||R&&n===hn)&&w.mutate({trans:d,type:"delete",keys:ee,criteria:R,isAdditionalChunk:0<H}).then(function(Re){return b(ee.length,Re)})}).then(function(){return N.length>H+K&&M(H+D)})})}var R=nr(u)&&u.limit===1/0&&(typeof n!="function"||n===hn)&&{index:u.index,range:u.range};return M(0).then(function(){if(0<C.length)throw new Ze("Error modifying one or more objects",C,$,P);return N.length})})})},Fe.prototype.delete=function(){var n=this._ctx,s=n.range;return nr(n)&&(n.isPrimKey||s.type===3)?this._write(function(u){var d=n.table.core.schema.primaryKey,y=s;return n.table.core.count({trans:u,query:{index:d,range:y}}).then(function(a){return n.table.core.mutate({trans:u,type:"deleteRange",range:y}).then(function(p){var b=p.failures;if(p.lastResult,p.results,p=p.numFailures,p)throw new Ze("Could not delete some values",Object.keys(b).map(function(w){return b[w]}),a-p);return a-p})})}):this.modify(hn)},Fe);function Fe(){}var hn=function(n,s){return s.value=null};function Kn(n,s){return n<s?-1:n===s?0:1}function Ri(n,s){return s<n?-1:n===s?0:1}function xt(n,s,u){return n=n instanceof ji?new n.Collection(n):n,n._ctx.error=new(u||TypeError)(s),n}function Gt(n){return new n.Collection(n,function(){return Mi("")}).limit(0)}function Cr(n,s,u,d){var y,a,p,b,w,E,x,A=u.length;if(!u.every(function($){return typeof $=="string"}))return xt(n,ki);function D($){y=$==="next"?function(N){return N.toUpperCase()}:function(N){return N.toLowerCase()},a=$==="next"?function(N){return N.toLowerCase()}:function(N){return N.toUpperCase()},p=$==="next"?Kn:Ri;var P=u.map(function(N){return{lower:a(N),upper:y(N)}}).sort(function(N,M){return p(N.lower,M.lower)});b=P.map(function(N){return N.upper}),w=P.map(function(N){return N.lower}),x=(E=$)==="next"?"":d}D("next"),n=new n.Collection(n,function(){return Qt(b[0],w[A-1]+d)}),n._ondirectionchange=function($){D($)};var C=0;return n._addAlgorithm(function($,P,N){var M=$.key;if(typeof M!="string")return!1;var R=a(M);if(s(R,w,C))return!0;for(var H=null,K=C;K<A;++K){var U=function(re,X,se,ee,te,Ne){for(var ke=Math.min(re.length,ee.length),Re=-1,Pe=0;Pe<ke;++Pe){var vn=X[Pe];if(vn!==ee[Pe])return te(re[Pe],se[Pe])<0?re.substr(0,Pe)+se[Pe]+se.substr(Pe+1):te(re[Pe],ee[Pe])<0?re.substr(0,Pe)+ee[Pe]+se.substr(Pe+1):0<=Re?re.substr(0,Re)+X[Re]+se.substr(Re+1):null;te(re[Pe],vn)<0&&(Re=Pe)}return ke<ee.length&&Ne==="next"?re+se.substr(re.length):ke<re.length&&Ne==="prev"?re.substr(0,se.length):Re<0?null:re.substr(0,Re)+ee[Re]+se.substr(Re+1)}(M,R,b[K],w[K],p,E);U===null&&H===null?C=K+1:(H===null||0<p(H,U))&&(H=U)}return P(H!==null?function(){$.continue(H+x)}:N),!1}),n}function Qt(n,s,u,d){return{type:2,lower:n,upper:s,lowerOpen:u,upperOpen:d}}function Mi(n){return{type:1,lower:n,upper:n}}var ji=(Object.defineProperty(ft.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ft.prototype.between=function(n,s,u,d){u=u!==!1,d=d===!0;try{return 0<this._cmp(n,s)||this._cmp(n,s)===0&&(u||d)&&(!u||!d)?Gt(this):new this.Collection(this,function(){return Qt(n,s,!u,!d)})}catch{return xt(this,Ct)}},ft.prototype.equals=function(n){return n==null?xt(this,Ct):new this.Collection(this,function(){return Mi(n)})},ft.prototype.above=function(n){return n==null?xt(this,Ct):new this.Collection(this,function(){return Qt(n,void 0,!0)})},ft.prototype.aboveOrEqual=function(n){return n==null?xt(this,Ct):new this.Collection(this,function(){return Qt(n,void 0,!1)})},ft.prototype.below=function(n){return n==null?xt(this,Ct):new this.Collection(this,function(){return Qt(void 0,n,!1,!0)})},ft.prototype.belowOrEqual=function(n){return n==null?xt(this,Ct):new this.Collection(this,function(){return Qt(void 0,n)})},ft.prototype.startsWith=function(n){return typeof n!="string"?xt(this,ki):this.between(n,n+Hn,!0,!0)},ft.prototype.startsWithIgnoreCase=function(n){return n===""?this.startsWith(n):Cr(this,function(s,u){return s.indexOf(u[0])===0},[n],Hn)},ft.prototype.equalsIgnoreCase=function(n){return Cr(this,function(s,u){return s===u[0]},[n],"")},ft.prototype.anyOfIgnoreCase=function(){var n=ye.apply(ge,arguments);return n.length===0?Gt(this):Cr(this,function(s,u){return u.indexOf(s)!==-1},n,"")},ft.prototype.startsWithAnyOfIgnoreCase=function(){var n=ye.apply(ge,arguments);return n.length===0?Gt(this):Cr(this,function(s,u){return u.some(function(d){return s.indexOf(d)===0})},n,Hn)},ft.prototype.anyOf=function(){var n=this,s=ye.apply(ge,arguments),u=this._cmp;try{s.sort(u)}catch{return xt(this,Ct)}if(s.length===0)return Gt(this);var d=new this.Collection(this,function(){return Qt(s[0],s[s.length-1])});d._ondirectionchange=function(a){u=a==="next"?n._ascending:n._descending,s.sort(u)};var y=0;return d._addAlgorithm(function(a,p,b){for(var w=a.key;0<u(w,s[y]);)if(++y===s.length)return p(b),!1;return u(w,s[y])===0||(p(function(){a.continue(s[y])}),!1)}),d},ft.prototype.notEqual=function(n){return this.inAnyRange([[-1/0,n],[n,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ft.prototype.noneOf=function(){var n=ye.apply(ge,arguments);if(n.length===0)return new this.Collection(this);try{n.sort(this._ascending)}catch{return xt(this,Ct)}var s=n.reduce(function(u,d){return u?u.concat([[u[u.length-1][1],d]]):[[-1/0,d]]},null);return s.push([n[n.length-1],this.db._maxKey]),this.inAnyRange(s,{includeLowers:!1,includeUppers:!1})},ft.prototype.inAnyRange=function(M,s){var u=this,d=this._cmp,y=this._ascending,a=this._descending,p=this._min,b=this._max;if(M.length===0)return Gt(this);if(!M.every(function(R){return R[0]!==void 0&&R[1]!==void 0&&y(R[0],R[1])<=0}))return xt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",de.InvalidArgument);var w=!s||s.includeLowers!==!1,E=s&&s.includeUppers===!0,x,A=y;function D(R,H){return A(R[0],H[0])}try{(x=M.reduce(function(R,H){for(var K=0,U=R.length;K<U;++K){var re=R[K];if(d(H[0],re[1])<0&&0<d(H[1],re[0])){re[0]=p(re[0],H[0]),re[1]=b(re[1],H[1]);break}}return K===U&&R.push(H),R},[])).sort(D)}catch{return xt(this,Ct)}var C=0,$=E?function(R){return 0<y(R,x[C][1])}:function(R){return 0<=y(R,x[C][1])},P=w?function(R){return 0<a(R,x[C][0])}:function(R){return 0<=a(R,x[C][0])},N=$,M=new this.Collection(this,function(){return Qt(x[0][0],x[x.length-1][1],!w,!E)});return M._ondirectionchange=function(R){A=R==="next"?(N=$,y):(N=P,a),x.sort(D)},M._addAlgorithm(function(R,H,K){for(var U,re=R.key;N(re);)if(++C===x.length)return H(K),!1;return!$(U=re)&&!P(U)||(u._cmp(re,x[C][1])===0||u._cmp(re,x[C][0])===0||H(function(){A===y?R.continue(x[C][0]):R.continue(x[C][1])}),!1)}),M},ft.prototype.startsWithAnyOf=function(){var n=ye.apply(ge,arguments);return n.every(function(s){return typeof s=="string"})?n.length===0?Gt(this):this.inAnyRange(n.map(function(s){return[s,s+Hn]})):xt(this,"startsWithAnyOf() only works with strings")},ft);function ft(){}function Ft(n){return ze(function(s){return xr(s),n(s.target.error),!1})}function xr(n){n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()}var Or="storagemutated",Dr="x-storagemutated-1",Cn=An(null,Or),Us=(Jt.prototype._lock=function(){return Ee(!me.global),++this._reculock,this._reculock!==1||me.global||(me.lockOwnerFor=this),this},Jt.prototype._unlock=function(){if(Ee(!me.global),--this._reculock==0)for(me.global||(me.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var n=this._blockedFuncs.shift();try{cn(n[1],n[0])}catch{}}return this},Jt.prototype._locked=function(){return this._reculock&&me.lockOwnerFor!==this},Jt.prototype.create=function(n){var s=this;if(!this.mode)return this;var u=this.db.idbdb,d=this.db._state.dbOpenError;if(Ee(!this.idbtrans),!n&&!u)switch(d&&d.name){case"DatabaseClosedError":throw new de.DatabaseClosed(d);case"MissingAPIError":throw new de.MissingAPI(d.message,d);default:throw new de.OpenFailed(d)}if(!this.active)throw new de.TransactionInactive;return Ee(this._completion._state===null),(n=this.idbtrans=n||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ze(function(y){xr(y),s._reject(n.error)}),n.onabort=ze(function(y){xr(y),s.active&&s._reject(new de.Abort(n.error)),s.active=!1,s.on("abort").fire(y)}),n.oncomplete=ze(function(){s.active=!1,s._resolve(),"mutatedParts"in n&&Cn.storagemutated.fire(n.mutatedParts)}),this},Jt.prototype._promise=function(n,s,u){var d=this;if(n==="readwrite"&&this.mode!=="readwrite")return it(new de.ReadOnly("Transaction is readonly"));if(!this.active)return it(new de.TransactionInactive);if(this._locked())return new fe(function(a,p){d._blockedFuncs.push([function(){d._promise(n,s,u).then(a,p)},me])});if(u)return ln(function(){var a=new fe(function(p,b){d._lock();var w=s(p,b,d);w&&w.then&&w.then(p,b)});return a.finally(function(){return d._unlock()}),a._lib=!0,a});var y=new fe(function(a,p){var b=s(a,p,d);b&&b.then&&b.then(a,p)});return y._lib=!0,y},Jt.prototype._root=function(){return this.parent?this.parent._root():this},Jt.prototype.waitFor=function(n){var s,u=this._root(),d=fe.resolve(n);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return d}):(u._waitingFor=d,u._waitingQueue=[],s=u.idbtrans.objectStore(u.storeNames[0]),function a(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(s.get(-1/0).onsuccess=a)}());var y=u._waitingFor;return new fe(function(a,p){d.then(function(b){return u._waitingQueue.push(ze(a.bind(null,b)))},function(b){return u._waitingQueue.push(ze(p.bind(null,b)))}).finally(function(){u._waitingFor===y&&(u._waitingFor=null)})})},Jt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new de.Abort))},Jt.prototype.table=function(n){var s=this._memoizedTables||(this._memoizedTables={});if(Y(s,n))return s[n];var u=this.schema[n];if(!u)throw new de.NotFound("Table "+n+" not part of transaction");return u=new this.db.Table(n,u,this),u.core=this.db.core.table(n),s[n]=u},Jt);function Jt(){}function Hi(n,s,u,d,y,a,p){return{name:n,keyPath:s,unique:u,multi:d,auto:y,compound:a,src:(u&&!p?"&":"")+(d?"*":"")+(y?"++":"")+rs(s)}}function rs(n){return typeof n=="string"?n:n?"["+[].join.call(n,"+")+"]":""}function qi(n,s,u){return{name:n,primKey:s,indexes:u,mappedClass:null,idxByName:(d=function(y){return[y.name,y]},u.reduce(function(y,a,p){return p=d(a,p),p&&(y[p[0]]=p[1]),y},{}))};var d}var Nr=function(n){try{return n.only([[]]),Nr=function(){return[[]]},[[]]}catch{return Nr=function(){return Hn},Hn}};function ei(n){return n==null?function(){}:typeof n=="string"?(s=n).split(".").length===1?function(u){return u[s]}:function(u){return Ce(u,s)}:function(u){return Ce(u,n)};var s}function ti(n){return[].slice.call(n)}var is=0;function Fn(n){return n==null?":id":typeof n=="string"?n:"[".concat(n.join("+"),"]")}function ss(n,s,w){function d(N){if(N.type===3)return null;if(N.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var C=N.lower,$=N.upper,P=N.lowerOpen,N=N.upperOpen;return C===void 0?$===void 0?null:s.upperBound($,!!N):$===void 0?s.lowerBound(C,!!P):s.bound(C,$,!!P,!!N)}function y(D){var C,$=D.name;return{name:$,schema:D,mutate:function(P){var N=P.trans,M=P.type,R=P.keys,H=P.values,K=P.range;return new Promise(function(U,re){U=ze(U);var X=N.objectStore($),se=X.keyPath==null,ee=M==="put"||M==="add";if(!ee&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var te,Ne=(R||H||{length:1}).length;if(R&&H&&R.length!==H.length)throw new Error("Given keys array must have same length as given values array.");if(Ne===0)return U({numFailures:0,failures:{},results:[],lastResult:void 0});function ke(Ot){++vn,xr(Ot)}var Re=[],Pe=[],vn=0;if(M==="deleteRange"){if(K.type===4)return U({numFailures:vn,failures:Pe,results:[],lastResult:void 0});K.type===3?Re.push(te=X.clear()):Re.push(te=X.delete(d(K)))}else{var se=ee?se?[H,R]:[H,null]:[R,null],Ie=se[0],Tt=se[1];if(ee)for(var St=0;St<Ne;++St)Re.push(te=Tt&&Tt[St]!==void 0?X[M](Ie[St],Tt[St]):X[M](Ie[St])),te.onerror=ke;else for(St=0;St<Ne;++St)Re.push(te=X[M](Ie[St])),te.onerror=ke}function fs(Ot){Ot=Ot.target.result,Re.forEach(function(Pr,Xs){return Pr.error!=null&&(Pe[Xs]=Pr.error)}),U({numFailures:vn,failures:Pe,results:M==="delete"?R:Re.map(function(Pr){return Pr.result}),lastResult:Ot})}te.onerror=function(Ot){ke(Ot),fs(Ot)},te.onsuccess=fs})},getMany:function(P){var N=P.trans,M=P.keys;return new Promise(function(R,H){R=ze(R);for(var K,U=N.objectStore($),re=M.length,X=new Array(re),se=0,ee=0,te=function(Re){Re=Re.target,X[Re._pos]=Re.result,++ee===se&&R(X)},Ne=Ft(H),ke=0;ke<re;++ke)M[ke]!=null&&((K=U.get(M[ke]))._pos=ke,K.onsuccess=te,K.onerror=Ne,++se);se===0&&R(X)})},get:function(P){var N=P.trans,M=P.key;return new Promise(function(R,H){R=ze(R);var K=N.objectStore($).get(M);K.onsuccess=function(U){return R(U.target.result)},K.onerror=Ft(H)})},query:(C=E,function(P){return new Promise(function(N,M){N=ze(N);var R,H,K,se=P.trans,U=P.values,re=P.limit,te=P.query,X=re===1/0?void 0:re,ee=te.index,te=te.range,se=se.objectStore($),ee=ee.isPrimaryKey?se:se.index(ee.name),te=d(te);if(re===0)return N({result:[]});C?((X=U?ee.getAll(te,X):ee.getAllKeys(te,X)).onsuccess=function(Ne){return N({result:Ne.target.result})},X.onerror=Ft(M)):(R=0,H=!U&&"openKeyCursor"in ee?ee.openKeyCursor(te):ee.openCursor(te),K=[],H.onsuccess=function(Ne){var ke=H.result;return ke?(K.push(U?ke.value:ke.primaryKey),++R===re?N({result:K}):void ke.continue()):N({result:K})},H.onerror=Ft(M))})}),openCursor:function(P){var N=P.trans,M=P.values,R=P.query,H=P.reverse,K=P.unique;return new Promise(function(U,re){U=ze(U);var ee=R.index,X=R.range,se=N.objectStore($),se=ee.isPrimaryKey?se:se.index(ee.name),ee=H?K?"prevunique":"prev":K?"nextunique":"next",te=!M&&"openKeyCursor"in se?se.openKeyCursor(d(X),ee):se.openCursor(d(X),ee);te.onerror=Ft(re),te.onsuccess=ze(function(Ne){var ke,Re,Pe,vn,Ie=te.result;Ie?(Ie.___id=++is,Ie.done=!1,ke=Ie.continue.bind(Ie),Re=(Re=Ie.continuePrimaryKey)&&Re.bind(Ie),Pe=Ie.advance.bind(Ie),vn=function(){throw new Error("Cursor not stopped")},Ie.trans=N,Ie.stop=Ie.continue=Ie.continuePrimaryKey=Ie.advance=function(){throw new Error("Cursor not started")},Ie.fail=ze(re),Ie.next=function(){var Tt=this,St=1;return this.start(function(){return St--?Tt.continue():Tt.stop()}).then(function(){return Tt})},Ie.start=function(Tt){function St(){if(te.result)try{Tt()}catch(Ot){Ie.fail(Ot)}else Ie.done=!0,Ie.start=function(){throw new Error("Cursor behind last entry")},Ie.stop()}var fs=new Promise(function(Ot,Pr){Ot=ze(Ot),te.onerror=Ft(Pr),Ie.fail=Pr,Ie.stop=function(Xs){Ie.stop=Ie.continue=Ie.continuePrimaryKey=Ie.advance=vn,Ot(Xs)}});return te.onsuccess=ze(function(Ot){te.onsuccess=St,St()}),Ie.continue=ke,Ie.continuePrimaryKey=Re,Ie.advance=Pe,St(),fs},U(Ie)):U(null)},re)})},count:function(P){var N=P.query,M=P.trans,R=N.index,H=N.range;return new Promise(function(K,U){var re=M.objectStore($),X=R.isPrimaryKey?re:re.index(R.name),re=d(H),X=re?X.count(re):X.count();X.onsuccess=ze(function(se){return K(se.target.result)}),X.onerror=Ft(U)})}}}var a,p,b,x=(p=w,b=ti((a=n).objectStoreNames),{schema:{name:a.name,tables:b.map(function(D){return p.objectStore(D)}).map(function(D){var C=D.keyPath,N=D.autoIncrement,$=k(C),P={},N={name:D.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:C==null,compound:$,keyPath:C,autoIncrement:N,unique:!0,extractKey:ei(C)},indexes:ti(D.indexNames).map(function(M){return D.index(M)}).map(function(K){var R=K.name,H=K.unique,U=K.multiEntry,K=K.keyPath,U={name:R,compound:k(K),keyPath:K,unique:H,multiEntry:U,extractKey:ei(K)};return P[Fn(K)]=U}),getIndexByKeyPath:function(M){return P[Fn(M)]}};return P[":id"]=N.primaryKey,C!=null&&(P[Fn(C)]=N.primaryKey),N})},hasGetAll:0<b.length&&"getAll"in p.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),w=x.schema,E=x.hasGetAll,x=w.tables.map(y),A={};return x.forEach(function(D){return A[D.name]=D}),{stack:"dbcore",transaction:n.transaction.bind(n),table:function(D){if(!A[D])throw new Error("Table '".concat(D,"' not found"));return A[D]},MIN_KEY:-1/0,MAX_KEY:Nr(s),schema:w}}function os(n,s,u,d){var y=u.IDBKeyRange;return u.indexedDB,{dbcore:(d=ss(s,y,d),n.dbcore.reduce(function(a,p){return p=p.create,l(l({},a),p(a))},d))}}function sr(n,d){var u=d.db,d=os(n._middlewares,u,n._deps,d);n.core=d.dbcore,n.tables.forEach(function(y){var a=y.name;n.core.schema.tables.some(function(p){return p.name===a})&&(y.core=n.core.table(a),n[a]instanceof n.Table&&(n[a].core=y.core))})}function ni(n,s,u,d){u.forEach(function(y){var a=d[y];s.forEach(function(p){var b=function w(E,x){return _e(E,x)||(E=V(E))&&w(E,x)}(p,y);(!b||"value"in b&&b.value===void 0)&&(p===n.Transaction.prototype||p instanceof n.Transaction?J(p,y,{get:function(){return this.table(y)},set:function(w){ce(this,y,{value:w,writable:!0,configurable:!0,enumerable:!0})}}):p[y]=new n.Table(y,a))})})}function Bi(n,s){s.forEach(function(u){for(var d in u)u[d]instanceof n.Table&&delete u[d]})}function zs(n,s){return n._cfg.version-s._cfg.version}function kr(n,s,u,d){var y=n._dbSchema;u.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=qi("$meta",o("")[0],[]),n._storeNames.push("$meta"));var a=n._createTransaction("readwrite",n._storeNames,y);a.create(u),a._completion.catch(d);var p=a._reject.bind(a),b=me.transless||me;ln(function(){return me.trans=a,me.transless=b,s!==0?(sr(n,u),E=s,((w=a).storeNames.includes("$meta")?w.table("$meta").get("version").then(function(x){return x??E}):fe.resolve(E)).then(function(x){return D=x,C=a,$=u,P=[],x=(A=n)._versions,N=A._dbSchema=t(0,A.idbdb,$),(x=x.filter(function(M){return M._cfg.version>=D})).length!==0?(x.forEach(function(M){P.push(function(){var R=N,H=M._cfg.dbschema;i(A,R,$),i(A,H,$),N=A._dbSchema=H;var K=Lr(R,H);K.add.forEach(function(ee){Ki($,ee[0],ee[1].primKey,ee[1].indexes)}),K.change.forEach(function(ee){if(ee.recreate)throw new de.Upgrade("Not yet support for changing primary key");var te=$.objectStore(ee.name);ee.add.forEach(function(Ne){return ri(te,Ne)}),ee.change.forEach(function(Ne){te.deleteIndex(Ne.name),ri(te,Ne)}),ee.del.forEach(function(Ne){return te.deleteIndex(Ne)})});var U=M._cfg.contentUpgrade;if(U&&M._cfg.version>D){sr(A,$),C._memoizedTables={};var re=Je(H);K.del.forEach(function(ee){re[ee]=R[ee]}),Bi(A,[A.Transaction.prototype]),ni(A,[A.Transaction.prototype],T(re),re),C.schema=re;var X,se=Me(U);return se&&er(),K=fe.follow(function(){var ee;(X=U(C))&&se&&(ee=Sn.bind(null,null),X.then(ee,ee))}),X&&typeof X.then=="function"?fe.resolve(X):K.then(function(){return X})}}),P.push(function(R){var H,K,U=M._cfg.dbschema;H=U,K=R,[].slice.call(K.db.objectStoreNames).forEach(function(re){return H[re]==null&&K.db.deleteObjectStore(re)}),Bi(A,[A.Transaction.prototype]),ni(A,[A.Transaction.prototype],A._storeNames,A._dbSchema),C.schema=A._dbSchema}),P.push(function(R){A.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(A.idbdb.version/10)===M._cfg.version?(A.idbdb.deleteObjectStore("$meta"),delete A._dbSchema.$meta,A._storeNames=A._storeNames.filter(function(H){return H!=="$meta"})):R.objectStore("$meta").put(M._cfg.version,"version"))})}),function M(){return P.length?fe.resolve(P.shift()(C.idbtrans)).then(M):fe.resolve()}().then(function(){us(N,$)})):fe.resolve();var A,D,C,$,P,N}).catch(p)):(T(y).forEach(function(x){Ki(u,x,y[x].primKey,y[x].indexes)}),sr(n,u),void fe.follow(function(){return n.on.populate.fire(a)}).catch(p));var w,E})}function as(n,s){us(n._dbSchema,s),s.db.version%10!=0||s.objectStoreNames.contains("$meta")||s.db.createObjectStore("$meta").add(Math.ceil(s.db.version/10-1),"version");var u=t(0,n.idbdb,s);i(n,n._dbSchema,s);for(var d=0,y=Lr(u,n._dbSchema).change;d<y.length;d++){var a=function(p){if(p.change.length||p.recreate)return console.warn("Unable to patch indexes of table ".concat(p.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=s.objectStore(p.name);p.add.forEach(function(w){vt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(p.name,".").concat(w.src)),ri(b,w)})}(y[d]);if(typeof a=="object")return a.value}}function Lr(n,s){var u,d={del:[],add:[],change:[]};for(u in n)s[u]||d.del.push(u);for(u in s){var y=n[u],a=s[u];if(y){var p={name:u,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||y.primKey.auto!==a.primKey.auto)p.recreate=!0,d.change.push(p);else{var b=y.idxByName,w=a.idxByName,E=void 0;for(E in b)w[E]||p.del.push(E);for(E in w){var x=b[E],A=w[E];x?x.src!==A.src&&p.change.push(A):p.add.push(A)}(0<p.del.length||0<p.add.length||0<p.change.length)&&d.change.push(p)}}else d.add.push([u,a])}return d}function Ki(n,s,u,d){var y=n.db.createObjectStore(s,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return d.forEach(function(a){return ri(y,a)}),y}function us(n,s){T(n).forEach(function(u){s.db.objectStoreNames.contains(u)||(vt&&console.debug("Dexie: Creating missing table",u),Ki(s,u,n[u].primKey,n[u].indexes))})}function ri(n,s){n.createIndex(s.name,s.keyPath,{unique:s.unique,multiEntry:s.multi})}function t(n,s,u){var d={};return Be(s.objectStoreNames,0).forEach(function(y){for(var a=u.objectStore(y),p=Hi(rs(E=a.keyPath),E||"",!0,!1,!!a.autoIncrement,E&&typeof E!="string",!0),b=[],w=0;w<a.indexNames.length;++w){var x=a.index(a.indexNames[w]),E=x.keyPath,x=Hi(x.name,E,!!x.unique,!!x.multiEntry,!1,E&&typeof E!="string",!1);b.push(x)}d[y]=qi(y,p,b)}),d}function i(n,s,u){for(var d=u.db.objectStoreNames,y=0;y<d.length;++y){var a=d[y],p=u.objectStore(a);n._hasGetAll="getAll"in p;for(var b=0;b<p.indexNames.length;++b){var w=p.indexNames[b],E=p.index(w).keyPath,x=typeof E=="string"?E:"["+Be(E).join("+")+"]";!s[a]||(E=s[a].idxByName[x])&&(E.name=w,delete s[a].idxByName[x],s[a].idxByName[w]=E)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&S.WorkerGlobalScope&&S instanceof S.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(n._hasGetAll=!1)}function o(n){return n.split(",").map(function(s,u){var d=(s=s.trim()).replace(/([&*]|\+\+)/g,""),y=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return Hi(d,y||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),k(y),u===0)})}var c=(g.prototype._parseStoresSpec=function(n,s){T(n).forEach(function(u){if(n[u]!==null){var d=o(n[u]),y=d.shift();if(y.unique=!0,y.multi)throw new de.Schema("Primary key cannot be multi-valued");d.forEach(function(a){if(a.auto)throw new de.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new de.Schema("Index must have a name and cannot be an empty string")}),s[u]=qi(u,y,d)}})},g.prototype.stores=function(u){var s=this.db;this._cfg.storesSource=this._cfg.storesSource?j(this._cfg.storesSource,u):u;var u=s._versions,d={},y={};return u.forEach(function(a){j(d,a._cfg.storesSource),y=a._cfg.dbschema={},a._parseStoresSpec(d,y)}),s._dbSchema=y,Bi(s,[s._allTables,s,s.Transaction.prototype]),ni(s,[s._allTables,s,s.Transaction.prototype,this._cfg.tables],T(y),y),s._storeNames=T(y),this},g.prototype.upgrade=function(n){return this._cfg.contentUpgrade=Bt(this._cfg.contentUpgrade||De,n),this},g);function g(){}function v(n,s){var u=n._dbNamesDB;return u||(u=n._dbNamesDB=new gn(Tr,{addons:[],indexedDB:n,IDBKeyRange:s})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function _(n){return n&&typeof n.databases=="function"}function L(n){return ln(function(){return me.letThrough=!0,n()})}function O(n){return!("from"in n)}var I=function(n,s){if(!this){var u=new I;return n&&"d"in n&&j(u,n),u}j(this,arguments.length?{d:1,from:n,to:1<arguments.length?s:n}:{d:0})};function B(n,s,u){var d=He(s,u);if(!isNaN(d)){if(0<d)throw RangeError();if(O(n))return j(n,{from:s,to:u,d:1});var y=n.l,d=n.r;if(He(u,n.from)<0)return y?B(y,s,u):n.l={from:s,to:u,d:1,l:null,r:null},Ae(n);if(0<He(s,n.to))return d?B(d,s,u):n.r={from:s,to:u,d:1,l:null,r:null},Ae(n);He(s,n.from)<0&&(n.from=s,n.l=null,n.d=d?d.d+1:1),0<He(u,n.to)&&(n.to=u,n.r=null,n.d=n.l?n.l.d+1:1),u=!n.r,y&&!n.l&&W(n,y),d&&u&&W(n,d)}}function W(n,s){O(s)||function u(d,w){var a=w.from,p=w.to,b=w.l,w=w.r;B(d,a,p),b&&u(d,b),w&&u(d,w)}(n,s)}function q(n,s){var u=G(s),d=u.next();if(d.done)return!1;for(var y=d.value,a=G(n),p=a.next(y.from),b=p.value;!d.done&&!p.done;){if(He(b.from,y.to)<=0&&0<=He(b.to,y.from))return!0;He(y.from,b.from)<0?y=(d=u.next(b.from)).value:b=(p=a.next(y.from)).value}return!1}function G(n){var s=O(n)?null:{s:0,n};return{next:function(u){for(var d=0<arguments.length;s;)switch(s.s){case 0:if(s.s=1,d)for(;s.n.l&&He(u,s.n.from)<0;)s={up:s,n:s.n.l,s:1};else for(;s.n.l;)s={up:s,n:s.n.l,s:1};case 1:if(s.s=2,!d||He(u,s.n.to)<=0)return{value:s.n,done:!1};case 2:if(s.n.r){s.s=3,s={up:s,n:s.n.r,s:0};continue}case 3:s=s.up}return{done:!0}}}}function Ae(n){var s,u,d=(((s=n.r)===null||s===void 0?void 0:s.d)||0)-(((u=n.l)===null||u===void 0?void 0:u.d)||0),y=1<d?"r":d<-1?"l":"";y&&(s=y=="r"?"l":"r",u=l({},n),d=n[y],n.from=d.from,n.to=d.to,n[y]=d[y],u[y]=d[s],(n[s]=u).d=je(u)),n.d=je(n)}function je(u){var s=u.r,u=u.l;return(s?u?Math.max(s.d,u.d):s.d:u?u.d:0)+1}function xe(n,s){return T(s).forEach(function(u){n[u]?W(n[u],s[u]):n[u]=function d(y){var a,p,b={};for(a in y)Y(y,a)&&(p=y[a],b[a]=!p||typeof p!="object"||Se.has(p.constructor)?p:d(p));return b}(s[u])}),n}function ct(n,s){return n.all||s.all||Object.keys(n).some(function(u){return s[u]&&q(s[u],n[u])})}ie(I.prototype,((Et={add:function(n){return W(this,n),this},addKey:function(n){return B(this,n,n),this},addKeys:function(n){var s=this;return n.forEach(function(u){return B(s,u,u)}),this},hasKey:function(n){var s=G(this).next(n).value;return s&&He(s.from,n)<=0&&0<=He(s.to,n)}})[ne]=function(){return G(this)},Et));var et={},$t={},Pt=!1;function Le(n){xe($t,n),Pt||(Pt=!0,setTimeout(function(){Pt=!1,dn($t,!($t={}))},0))}function dn(n,s){s===void 0&&(s=!1);var u=new Set;if(n.all)for(var d=0,y=Object.values(et);d<y.length;d++)qe(p=y[d],n,u,s);else for(var a in n){var p,b=/^idb\:\/\/(.*)\/(.*)\//.exec(a);b&&(a=b[1],b=b[2],(p=et["idb://".concat(a,"/").concat(b)])&&qe(p,n,u,s))}u.forEach(function(w){return w()})}function qe(n,s,u,d){for(var y=[],a=0,p=Object.entries(n.queries.query);a<p.length;a++){for(var b=p[a],w=b[0],E=[],x=0,A=b[1];x<A.length;x++){var D=A[x];ct(s,D.obsSet)?D.subscribers.forEach(function(N){return u.add(N)}):d&&E.push(D)}d&&y.push([w,E])}if(d)for(var C=0,$=y;C<$.length;C++){var P=$[C],w=P[0],E=P[1];n.queries.query[w]=E}}function st(n){var s=n._state,u=n._deps.indexedDB;if(s.isBeingOpened||n.idbdb)return s.dbReadyPromise.then(function(){return s.dbOpenError?it(s.dbOpenError):n});s.isBeingOpened=!0,s.dbOpenError=null,s.openComplete=!1;var d=s.openCanceller,y=Math.round(10*n.verno),a=!1;function p(){if(s.openCanceller!==d)throw new de.DatabaseClosed("db.open() was cancelled")}function b(){return new fe(function(D,C){if(p(),!u)throw new de.MissingAPI;var $=n.name,P=s.autoSchema||!y?u.open($):u.open($,y);if(!P)throw new de.MissingAPI;P.onerror=Ft(C),P.onblocked=ze(n._fireOnBlocked),P.onupgradeneeded=ze(function(N){var M;x=P.transaction,s.autoSchema&&!n._options.allowEmptyDB?(P.onerror=xr,x.abort(),P.result.close(),(M=u.deleteDatabase($)).onsuccess=M.onerror=ze(function(){C(new de.NoSuchDatabase("Database ".concat($," doesnt exist")))})):(x.onerror=Ft(C),N=N.oldVersion>Math.pow(2,62)?0:N.oldVersion,A=N<1,n.idbdb=P.result,a&&as(n,x),kr(n,N/10,x,C))},C),P.onsuccess=ze(function(){x=null;var N,M,R,H,K,U=n.idbdb=P.result,re=Be(U.objectStoreNames);if(0<re.length)try{var X=U.transaction((H=re).length===1?H[0]:H,"readonly");if(s.autoSchema)M=U,R=X,(N=n).verno=M.version/10,R=N._dbSchema=t(0,M,R),N._storeNames=Be(M.objectStoreNames,0),ni(N,[N._allTables],T(R),R);else if(i(n,n._dbSchema,X),((K=Lr(t(0,(K=n).idbdb,X),K._dbSchema)).add.length||K.change.some(function(se){return se.add.length||se.change.length}))&&!a)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),U.close(),y=U.version+1,a=!0,D(b());sr(n,X)}catch{}qn.push(n),U.onversionchange=ze(function(se){s.vcFired=!0,n.on("versionchange").fire(se)}),U.onclose=ze(function(se){n.on("close").fire(se)}),A&&(K=n._deps,X=$,U=K.indexedDB,K=K.IDBKeyRange,_(U)||X===Tr||v(U,K).put({name:X}).catch(De)),D()},C)}).catch(function(D){switch(D==null?void 0:D.name){case"UnknownError":if(0<s.PR1398_maxLoop)return s.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<y)return y=0,b()}return fe.reject(D)})}var w,E=s.dbReadyResolve,x=null,A=!1;return fe.race([d,(typeof navigator>"u"?fe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(D){function C(){return indexedDB.databases().finally(D)}w=setInterval(C,100),C()}).finally(function(){return clearInterval(w)}):Promise.resolve()).then(b)]).then(function(){return p(),s.onReadyBeingFired=[],fe.resolve(L(function(){return n.on.ready.fire(n.vip)})).then(function D(){if(0<s.onReadyBeingFired.length){var C=s.onReadyBeingFired.reduce(Bt,De);return s.onReadyBeingFired=[],fe.resolve(L(function(){return C(n.vip)})).then(D)}})}).finally(function(){s.openCanceller===d&&(s.onReadyBeingFired=null,s.isBeingOpened=!1)}).catch(function(D){s.dbOpenError=D;try{x&&x.abort()}catch{}return d===s.openCanceller&&n._close(),it(D)}).finally(function(){s.openComplete=!0,E()}).then(function(){var D;return A&&(D={},n.tables.forEach(function(C){C.schema.indexes.forEach(function($){$.name&&(D["idb://".concat(n.name,"/").concat(C.name,"/").concat($.name)]=new I(-1/0,[[[]]]))}),D["idb://".concat(n.name,"/").concat(C.name,"/")]=D["idb://".concat(n.name,"/").concat(C.name,"/:dels")]=new I(-1/0,[[[]]])}),Cn(Or).fire(D),dn(D,!0)),n})}function Wn(n){function s(a){return n.next(a)}var u=y(s),d=y(function(a){return n.throw(a)});function y(a){return function(w){var b=a(w),w=b.value;return b.done?w:w&&typeof w.then=="function"?w.then(u,d):k(w)?Promise.all(w).then(u,d):u(w)}}return y(s)()}function or(n,s,u){for(var d=k(n)?n.slice():[n],y=0;y<u;++y)d.push(s);return d}var Zt={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(n){return l(l({},n),{table:function(s){var u=n.table(s),d=u.schema,y={},a=[];function p(A,D,C){var $=Fn(A),P=y[$]=y[$]||[],N=A==null?0:typeof A=="string"?1:A.length,M=0<D,M=l(l({},C),{name:M?"".concat($,"(virtual-from:").concat(C.name,")"):C.name,lowLevelIndex:C,isVirtual:M,keyTail:D,keyLength:N,extractKey:ei(A),unique:!M&&C.unique});return P.push(M),M.isPrimaryKey||a.push(M),1<N&&p(N===2?A[0]:A.slice(0,N-1),D+1,C),P.sort(function(R,H){return R.keyTail-H.keyTail}),M}s=p(d.primaryKey.keyPath,0,d.primaryKey),y[":id"]=[s];for(var b=0,w=d.indexes;b<w.length;b++){var E=w[b];p(E.keyPath,0,E)}function x(A){var D,C=A.query.index;return C.isVirtual?l(l({},A),{query:{index:C.lowLevelIndex,range:(D=A.query.range,C=C.keyTail,{type:D.type===1?2:D.type,lower:or(D.lower,D.lowerOpen?n.MAX_KEY:n.MIN_KEY,C),lowerOpen:!0,upper:or(D.upper,D.upperOpen?n.MIN_KEY:n.MAX_KEY,C),upperOpen:!0})}}):A}return l(l({},u),{schema:l(l({},d),{primaryKey:s,indexes:a,getIndexByKeyPath:function(A){return(A=y[Fn(A)])&&A[0]}}),count:function(A){return u.count(x(A))},query:function(A){return u.query(x(A))},openCursor:function(A){var D=A.query.index,C=D.keyTail,$=D.isVirtual,P=D.keyLength;return $?u.openCursor(x(A)).then(function(M){return M&&N(M)}):u.openCursor(A);function N(M){return Object.create(M,{continue:{value:function(R){R!=null?M.continue(or(R,A.reverse?n.MAX_KEY:n.MIN_KEY,C)):A.unique?M.continue(M.key.slice(0,P).concat(A.reverse?n.MIN_KEY:n.MAX_KEY,C)):M.continue()}},continuePrimaryKey:{value:function(R,H){M.continuePrimaryKey(or(R,n.MAX_KEY,C),H)}},primaryKey:{get:function(){return M.primaryKey}},key:{get:function(){var R=M.key;return P===1?R[0]:R.slice(0,P)}},value:{get:function(){return M.value}}})}}})}})}};function Vn(n,s,u,d){return u=u||{},d=d||"",T(n).forEach(function(y){var a,p,b;Y(s,y)?(a=n[y],p=s[y],typeof a=="object"&&typeof p=="object"&&a&&p?(b=ue(a))!==ue(p)?u[d+y]=s[y]:b==="Object"?Vn(a,p,u,d+y+"."):a!==p&&(u[d+y]=s[y]):a!==p&&(u[d+y]=s[y])):u[d+y]=void 0}),T(s).forEach(function(y){Y(n,y)||(u[d+y]=s[y])}),u}function It(n,s){return s.type==="delete"?s.keys:s.keys||s.values.map(n.extractKey)}var xn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(n){return l(l({},n),{table:function(s){var u=n.table(s),d=u.schema.primaryKey;return l(l({},u),{mutate:function(y){var a=me.trans,p=a.table(s).hook,b=p.deleting,w=p.creating,E=p.updating;switch(y.type){case"add":if(w.fire===De)break;return a._promise("readwrite",function(){return x(y)},!0);case"put":if(w.fire===De&&E.fire===De)break;return a._promise("readwrite",function(){return x(y)},!0);case"delete":if(b.fire===De)break;return a._promise("readwrite",function(){return x(y)},!0);case"deleteRange":if(b.fire===De)break;return a._promise("readwrite",function(){return function A(D,C,$){return u.query({trans:D,values:!1,query:{index:d,range:C},limit:$}).then(function(P){var N=P.result;return x({type:"delete",keys:N,trans:D}).then(function(M){return 0<M.numFailures?Promise.reject(M.failures[0]):N.length<$?{failures:[],numFailures:0,lastResult:void 0}:A(D,l(l({},C),{lower:N[N.length-1],lowerOpen:!0}),$)})})}(y.trans,y.range,1e4)},!0)}return u.mutate(y);function x(A){var D,C,$,P=me.trans,N=A.keys||It(d,A);if(!N)throw new Error("Keys missing");return(A=A.type==="add"||A.type==="put"?l(l({},A),{keys:N}):l({},A)).type!=="delete"&&(A.values=m([],A.values)),A.keys&&(A.keys=m([],A.keys)),D=u,$=N,((C=A).type==="add"?Promise.resolve([]):D.getMany({trans:C.trans,keys:$,cache:"immutable"})).then(function(M){var R=N.map(function(H,K){var U,re,X,se=M[K],ee={onerror:null,onsuccess:null};return A.type==="delete"?b.fire.call(ee,H,se,P):A.type==="add"||se===void 0?(U=w.fire.call(ee,H,A.values[K],P),H==null&&U!=null&&(A.keys[K]=H=U,d.outbound||f(A.values[K],d.keyPath,H))):(U=Vn(se,A.values[K]),(re=E.fire.call(ee,U,H,se,P))&&(X=A.values[K],Object.keys(re).forEach(function(te){Y(X,te)?X[te]=re[te]:f(X,te,re[te])}))),ee});return u.mutate(A).then(function(H){for(var K=H.failures,U=H.results,re=H.numFailures,H=H.lastResult,X=0;X<N.length;++X){var se=(U||N)[X],ee=R[X];se==null?ee.onerror&&ee.onerror(K[X]):ee.onsuccess&&ee.onsuccess(A.type==="put"&&M[X]?A.values[X]:se)}return{failures:K,results:U,numFailures:re,lastResult:H}}).catch(function(H){return R.forEach(function(K){return K.onerror&&K.onerror(H)}),Promise.reject(H)})})}}})}})}};function pn(n,s,u){try{if(!s||s.keys.length<n.length)return null;for(var d=[],y=0,a=0;y<s.keys.length&&a<n.length;++y)He(s.keys[y],n[a])===0&&(d.push(u?be(s.values[y]):s.values[y]),++a);return d.length===n.length?d:null}catch{return null}}var Rt={stack:"dbcore",level:-1,create:function(n){return{table:function(s){var u=n.table(s);return l(l({},u),{getMany:function(d){if(!d.cache)return u.getMany(d);var y=pn(d.keys,d.trans._cache,d.cache==="clone");return y?fe.resolve(y):u.getMany(d).then(function(a){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?be(a):a},a})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),u.mutate(d)}})}}}};function ii(n,s){return n.trans.mode==="readonly"&&!!n.subscr&&!n.trans.explicit&&n.trans.db._options.cache!=="disabled"&&!s.schema.primaryKey.outbound}function en(n,s){switch(n){case"query":return s.values&&!s.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var mn={stack:"dbcore",level:0,name:"Observability",create:function(n){var s=n.schema.name,u=new I(n.MIN_KEY,n.MAX_KEY);return l(l({},n),{transaction:function(d,y,a){if(me.subscr&&y!=="readonly")throw new de.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(me.querier));return n.transaction(d,y,a)},table:function(d){var y=n.table(d),a=y.schema,p=a.primaryKey,A=a.indexes,b=p.extractKey,w=p.outbound,E=p.autoIncrement&&A.filter(function(C){return C.compound&&C.keyPath.includes(p.keyPath)}),x=l(l({},y),{mutate:function(C){function $(te){return te="idb://".concat(s,"/").concat(d,"/").concat(te),H[te]||(H[te]=new I)}var P,N,M,R=C.trans,H=C.mutatedParts||(C.mutatedParts={}),K=$(""),U=$(":dels"),re=C.type,ee=C.type==="deleteRange"?[C.range]:C.type==="delete"?[C.keys]:C.values.length<50?[It(p,C).filter(function(te){return te}),C.values]:[],X=ee[0],se=ee[1],ee=C.trans._cache;return k(X)?(K.addKeys(X),(ee=re==="delete"||X.length===se.length?pn(X,ee):null)||U.addKeys(X),(ee||se)&&(P=$,N=ee,M=se,a.indexes.forEach(function(te){var Ne=P(te.name||"");function ke(Pe){return Pe!=null?te.extractKey(Pe):null}function Re(Pe){return te.multiEntry&&k(Pe)?Pe.forEach(function(vn){return Ne.addKey(vn)}):Ne.addKey(Pe)}(N||M).forEach(function(Pe,Tt){var Ie=N&&ke(N[Tt]),Tt=M&&ke(M[Tt]);He(Ie,Tt)!==0&&(Ie!=null&&Re(Ie),Tt!=null&&Re(Tt))})}))):X?(se={from:X.lower,to:X.upper},U.add(se),K.add(se)):(K.add(u),U.add(u),a.indexes.forEach(function(te){return $(te.name).add(u)})),y.mutate(C).then(function(te){return!X||C.type!=="add"&&C.type!=="put"||(K.addKeys(te.results),E&&E.forEach(function(Ne){var ke=C.values.map(function(Pe){return Ne.extractKey(Pe)}),Re=Ne.keyPath.findIndex(function(Pe){return Pe===p.keyPath});te.results.forEach(function(Pe){return ke[Re]=Pe}),$(Ne.name).addKeys(ke)})),R.mutatedParts=xe(R.mutatedParts||{},H),te})}}),A=function($){var P=$.query,$=P.index,P=P.range;return[$,new I(($=P.lower)!==null&&$!==void 0?$:n.MIN_KEY,(P=P.upper)!==null&&P!==void 0?P:n.MAX_KEY)]},D={get:function(C){return[p,new I(C.key)]},getMany:function(C){return[p,new I().addKeys(C.keys)]},count:A,query:A,openCursor:A};return T(D).forEach(function(C){x[C]=function($){var P=me.subscr,N=!!P,M=ii(me,y)&&en(C,$)?$.obsSet={}:P;if(N){var R=function(se){return se="idb://".concat(s,"/").concat(d,"/").concat(se),M[se]||(M[se]=new I)},H=R(""),K=R(":dels"),P=D[C]($),N=P[0],P=P[1];if((C==="query"&&N.isPrimaryKey&&!$.values?K:R(N.name||"")).add(P),!N.isPrimaryKey){if(C!=="count"){var U=C==="query"&&w&&$.values&&y.query(l(l({},$),{values:!1}));return y[C].apply(this,arguments).then(function(se){if(C==="query"){if(w&&$.values)return U.then(function(ke){return ke=ke.result,H.addKeys(ke),se});var ee=$.values?se.result.map(b):se.result;($.values?H:K).addKeys(ee)}else if(C==="openCursor"){var te=se,Ne=$.values;return te&&Object.create(te,{key:{get:function(){return K.addKey(te.primaryKey),te.key}},primaryKey:{get:function(){var ke=te.primaryKey;return K.addKey(ke),ke}},value:{get:function(){return Ne&&H.addKey(te.primaryKey),te.value}}})}return se})}K.add(u)}}return y[C].apply(this,arguments)}}),x}})}};function ls(n,s,u){if(u.numFailures===0)return s;if(s.type==="deleteRange")return null;var d=s.keys?s.keys.length:"values"in s&&s.values?s.values.length:1;return u.numFailures===d?null:(s=l({},s),k(s.keys)&&(s.keys=s.keys.filter(function(y,a){return!(a in u.failures)})),"values"in s&&k(s.values)&&(s.values=s.values.filter(function(y,a){return!(a in u.failures)})),s)}function Fi(n,s){return u=n,((d=s).lower===void 0||(d.lowerOpen?0<He(u,d.lower):0<=He(u,d.lower)))&&(n=n,(s=s).upper===void 0||(s.upperOpen?He(n,s.upper)<0:He(n,s.upper)<=0));var u,d}function cs(n,s,D,d,y,a){if(!D||D.length===0)return n;var p=s.query.index,b=p.multiEntry,w=s.query.range,E=d.schema.primaryKey.extractKey,x=p.extractKey,A=(p.lowLevelIndex||p).extractKey,D=D.reduce(function(C,$){var P=C,N=[];if($.type==="add"||$.type==="put")for(var M=new I,R=$.values.length-1;0<=R;--R){var H,K=$.values[R],U=E(K);M.hasKey(U)||(H=x(K),(b&&k(H)?H.some(function(ee){return Fi(ee,w)}):Fi(H,w))&&(M.addKey(U),N.push(K)))}switch($.type){case"add":P=C.concat(s.values?N:N.map(function(te){return E(te)}));break;case"put":var re=new I().addKeys($.values.map(function(te){return E(te)})),P=C.filter(function(te){return!re.hasKey(s.values?E(te):te)}).concat(s.values?N:N.map(function(te){return E(te)}));break;case"delete":var X=new I().addKeys($.keys);P=C.filter(function(te){return!X.hasKey(s.values?E(te):te)});break;case"deleteRange":var se=$.range;P=C.filter(function(te){return!Fi(E(te),se)})}return P},n);return D===n?n:(D.sort(function(C,$){return He(A(C),A($))||He(E(C),E($))}),s.limit&&s.limit<1/0&&(D.length>s.limit?D.length=s.limit:n.length===s.limit&&D.length<s.limit&&(y.dirty=!0)),a?Object.freeze(D):D)}function Ye(n,s){return He(n.lower,s.lower)===0&&He(n.upper,s.upper)===0&&!!n.lowerOpen==!!s.lowerOpen&&!!n.upperOpen==!!s.upperOpen}function si(n,s){return function(u,d,y,a){if(u===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=He(u,d))===0){if(y&&a)return 0;if(y)return 1;if(a)return-1}return d}(n.lower,s.lower,n.lowerOpen,s.lowerOpen)<=0&&0<=function(u,d,y,a){if(u===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=He(u,d))===0){if(y&&a)return 0;if(y)return-1;if(a)return 1}return d}(n.upper,s.upper,n.upperOpen,s.upperOpen)}function Wt(n,s,u,d){n.subscribers.add(u),d.addEventListener("abort",function(){var y,a;n.subscribers.delete(u),n.subscribers.size===0&&(y=n,a=s,setTimeout(function(){y.subscribers.size===0&&ae(a,y)},3e3))})}var ar={stack:"dbcore",level:0,name:"Cache",create:function(n){var s=n.schema.name;return l(l({},n),{transaction:function(u,d,y){var a,p,b=n.transaction(u,d,y);return d==="readwrite"&&(p=(a=new AbortController).signal,y=function(w){return function(){if(a.abort(),d==="readwrite"){for(var E=new Set,x=0,A=u;x<A.length;x++){var D=A[x],C=et["idb://".concat(s,"/").concat(D)];if(C){var $=n.table(D),P=C.optimisticOps.filter(function(Ne){return Ne.trans===b});if(b._explicit&&w&&b.mutatedParts)for(var N=0,M=Object.values(C.queries.query);N<M.length;N++)for(var R=0,H=(re=M[N]).slice();R<H.length;R++)ct((X=H[R]).obsSet,b.mutatedParts)&&(ae(re,X),X.subscribers.forEach(function(Ne){return E.add(Ne)}));else if(0<P.length){C.optimisticOps=C.optimisticOps.filter(function(Ne){return Ne.trans!==b});for(var K=0,U=Object.values(C.queries.query);K<U.length;K++)for(var re,X,se,ee=0,te=(re=U[K]).slice();ee<te.length;ee++)(X=te[ee]).res!=null&&b.mutatedParts&&(w&&!X.dirty?(se=Object.isFrozen(X.res),se=cs(X.res,X.req,P,$,X,se),X.dirty?(ae(re,X),X.subscribers.forEach(function(Ne){return E.add(Ne)})):se!==X.res&&(X.res=se,X.promise=fe.resolve({result:se}))):(X.dirty&&ae(re,X),X.subscribers.forEach(function(Ne){return E.add(Ne)})))}}}E.forEach(function(Ne){return Ne()})}}},b.addEventListener("abort",y(!1),{signal:p}),b.addEventListener("error",y(!1),{signal:p}),b.addEventListener("complete",y(!0),{signal:p})),b},table:function(u){var d=n.table(u),y=d.schema.primaryKey;return l(l({},d),{mutate:function(a){var p=me.trans;if(y.outbound||p.db._options.cache==="disabled"||p.explicit)return d.mutate(a);var b=et["idb://".concat(s,"/").concat(u)];return b?(p=d.mutate(a),a.type!=="add"&&a.type!=="put"||!(50<=a.values.length||It(y,a).some(function(w){return w==null}))?(b.optimisticOps.push(a),a.mutatedParts&&Le(a.mutatedParts),p.then(function(w){0<w.numFailures&&(ae(b.optimisticOps,a),(w=ls(0,a,w))&&b.optimisticOps.push(w),a.mutatedParts&&Le(a.mutatedParts))}),p.catch(function(){ae(b.optimisticOps,a),a.mutatedParts&&Le(a.mutatedParts)})):p.then(function(w){var E=ls(0,l(l({},a),{values:a.values.map(function(C,A){var D,C=(D=y.keyPath)!==null&&D!==void 0&&D.includes(".")?be(C):l({},C);return f(C,y.keyPath,w.results[A]),C})}),w);b.optimisticOps.push(E),queueMicrotask(function(){return a.mutatedParts&&Le(a.mutatedParts)})}),p):d.mutate(a)},query:function(a){if(!ii(me,d)||!en("query",a))return d.query(a);var p=((E=me.trans)===null||E===void 0?void 0:E.db._options.cache)==="immutable",A=me,b=A.requery,w=A.signal,E=function($,P,N,M){var R=et["idb://".concat($,"/").concat(P)];if(!R)return[];if(!(P=R.queries[N]))return[null,!1,R,null];var H=P[(M.query?M.query.index.name:null)||""];if(!H)return[null,!1,R,null];switch(N){case"query":var K=H.find(function(U){return U.req.limit===M.limit&&U.req.values===M.values&&Ye(U.req.query.range,M.query.range)});return K?[K,!0,R,H]:[H.find(function(U){return("limit"in U.req?U.req.limit:1/0)>=M.limit&&(!M.values||U.req.values)&&si(U.req.query.range,M.query.range)}),!1,R,H];case"count":return K=H.find(function(U){return Ye(U.req.query.range,M.query.range)}),[K,!!K,R,H]}}(s,u,"query",a),x=E[0],A=E[1],D=E[2],C=E[3];return x&&A?x.obsSet=a.obsSet:(A=d.query(a).then(function($){var P=$.result;if(x&&(x.res=P),p){for(var N=0,M=P.length;N<M;++N)Object.freeze(P[N]);Object.freeze(P)}else $.result=be(P);return $}).catch(function($){return C&&x&&ae(C,x),Promise.reject($)}),x={obsSet:a.obsSet,promise:A,subscribers:new Set,type:"query",req:a,dirty:!1},C?C.push(x):(C=[x],(D=D||(et["idb://".concat(s,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[a.query.index.name||""]=C)),Wt(x,C,b,w),x.promise.then(function($){return{result:cs($.result,a,D==null?void 0:D.optimisticOps,d,x,p)}})}})}})}};function oi(n,s){return new Proxy(n,{get:function(u,d,y){return d==="db"?s:Reflect.get(u,d,y)}})}var gn=(ot.prototype.version=function(n){if(isNaN(n)||n<.1)throw new de.Type("Given version is not a positive number");if(n=Math.round(10*n)/10,this.idbdb||this._state.isBeingOpened)throw new de.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var s=this._versions,u=s.filter(function(d){return d._cfg.version===n})[0];return u||(u=new this.Version(n),s.push(u),s.sort(zs),u.stores({}),this._state.autoSchema=!1,u)},ot.prototype._whenReady=function(n){var s=this;return this.idbdb&&(this._state.openComplete||me.letThrough||this._vip)?n():new fe(function(u,d){if(s._state.openComplete)return d(new de.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._state.autoOpen)return void d(new de.DatabaseClosed);s.open().catch(De)}s._state.dbReadyPromise.then(u,d)}).then(n)},ot.prototype.use=function(n){var s=n.stack,u=n.create,d=n.level,y=n.name;return y&&this.unuse({stack:s,name:y}),n=this._middlewares[s]||(this._middlewares[s]=[]),n.push({stack:s,create:u,level:d??10,name:y}),n.sort(function(a,p){return a.level-p.level}),this},ot.prototype.unuse=function(n){var s=n.stack,u=n.name,d=n.create;return s&&this._middlewares[s]&&(this._middlewares[s]=this._middlewares[s].filter(function(y){return d?y.create!==d:!!u&&y.name!==u})),this},ot.prototype.open=function(){var n=this;return cn(_t,function(){return st(n)})},ot.prototype._close=function(){var n=this._state,s=qn.indexOf(this);if(0<=s&&qn.splice(s,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}n.isBeingOpened||(n.dbReadyPromise=new fe(function(u){n.dbReadyResolve=u}),n.openCanceller=new fe(function(u,d){n.cancelOpen=d}))},ot.prototype.close=function(u){var s=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;s?(u.isBeingOpened&&u.cancelOpen(new de.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new de.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},ot.prototype.delete=function(n){var s=this;n===void 0&&(n={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new fe(function(y,a){function p(){s.close(n);var b=s._deps.indexedDB.deleteDatabase(s.name);b.onsuccess=ze(function(){var w,E,x;w=s._deps,E=s.name,x=w.indexedDB,w=w.IDBKeyRange,_(x)||E===Tr||v(x,w).delete(E).catch(De),y()}),b.onerror=Ft(a),b.onblocked=s._fireOnBlocked}if(u)throw new de.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(p):p()})},ot.prototype.backendDB=function(){return this.idbdb},ot.prototype.isOpen=function(){return this.idbdb!==null},ot.prototype.hasBeenClosed=function(){var n=this._state.dbOpenError;return n&&n.name==="DatabaseClosed"},ot.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ot.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ot.prototype,"tables",{get:function(){var n=this;return T(this._allTables).map(function(s){return n._allTables[s]})},enumerable:!1,configurable:!0}),ot.prototype.transaction=function(){var n=(function(s,u,d){var y=arguments.length;if(y<2)throw new de.InvalidArgument("Too few arguments");for(var a=new Array(y-1);--y;)a[y-1]=arguments[y];return d=a.pop(),[s,Oe(a),d]}).apply(this,arguments);return this._transaction.apply(this,n)},ot.prototype._transaction=function(n,s,u){var d=this,y=me.trans;y&&y.db===this&&n.indexOf("!")===-1||(y=null);var a,p,b=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");try{if(p=s.map(function(E){if(E=E instanceof d.Table?E.name:E,typeof E!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return E}),n=="r"||n===Xr)a=Xr;else{if(n!="rw"&&n!=Li)throw new de.InvalidArgument("Invalid transaction mode: "+n);a=Li}if(y){if(y.mode===Xr&&a===Li){if(!b)throw new de.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");y=null}y&&p.forEach(function(E){if(y&&y.storeNames.indexOf(E)===-1){if(!b)throw new de.SubTransaction("Table "+E+" not included in parent transaction.");y=null}}),b&&y&&!y.active&&(y=null)}}catch(E){return y?y._promise(null,function(x,A){A(E)}):it(E)}var w=(function E(x,A,D,C,$){return fe.resolve().then(function(){var P=me.transless||me,N=x._createTransaction(A,D,x._dbSchema,C);if(N.explicit=!0,P={trans:N,transless:P},C)N.idbtrans=C.idbtrans;else try{N.create(),N.idbtrans._explicit=!0,x._state.PR1398_maxLoop=3}catch(H){return H.name===pt.InvalidState&&x.isOpen()&&0<--x._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),x.close({disableAutoOpen:!1}),x.open().then(function(){return E(x,A,D,null,$)})):it(H)}var M,R=Me($);return R&&er(),P=fe.follow(function(){var H;(M=$.call(N,N))&&(R?(H=Sn.bind(null,null),M.then(H,H)):typeof M.next=="function"&&typeof M.throw=="function"&&(M=Wn(M)))},P),(M&&typeof M.then=="function"?fe.resolve(M).then(function(H){return N.active?H:it(new de.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):P.then(function(){return M})).then(function(H){return C&&N._resolve(),N._completion.then(function(){return H})}).catch(function(H){return N._reject(H),it(H)})})}).bind(null,this,a,p,y,u);return y?y._promise(a,w,"lock"):me.trans?cn(me.transless,function(){return d._whenReady(w)}):this._whenReady(w)},ot.prototype.table=function(n){if(!Y(this._allTables,n))throw new de.InvalidTable("Table ".concat(n," does not exist"));return this._allTables[n]},ot);function ot(n,s){var u=this;this._middlewares={},this.verno=0;var d=ot.dependencies;this._options=s=l({addons:ot.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},s),this._deps={indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},d=s.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var y,a,p,b,w,E={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:De,dbReadyPromise:null,cancelOpen:De,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:s.autoOpen};E.dbReadyPromise=new fe(function(A){E.dbReadyResolve=A}),E.openCanceller=new fe(function(A,D){E.cancelOpen=D}),this._state=E,this.name=n,this.on=An(this,"populate","blocked","versionchange","close",{ready:[Bt,De]}),this.on.ready.subscribe=Ue(this.on.ready.subscribe,function(A){return function(D,C){ot.vip(function(){var $,P=u._state;P.openComplete?(P.dbOpenError||fe.resolve().then(D),C&&A(D)):P.onReadyBeingFired?(P.onReadyBeingFired.push(D),C&&A(D)):(A(D),$=u,C||A(function N(){$.on.ready.unsubscribe(D),$.on.ready.unsubscribe(N)}))})}}),this.Collection=(y=this,Sr(Ys.prototype,function(M,N){this.db=y;var C=ts,$=null;if(N)try{C=N()}catch(R){$=R}var P=M._ctx,N=P.table,M=N.hook.reading.fire;this._ctx={table:N,index:P.index,isPrimKey:!P.index||N.schema.primKey.keyPath&&P.index===N.schema.primKey.name,range:C,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:$,or:P.or,valueMapper:M!==mt?M:null}})),this.Table=(a=this,Sr(yt.prototype,function(A,D,C){this.db=a,this._tx=C,this.name=A,this.schema=D,this.hook=a._allTables[A]?a._allTables[A].hook:An(null,{creating:[Qn,De],reading:[Fr,mt],updating:[qt,De],deleting:[In,De]})})),this.Transaction=(p=this,Sr(Us.prototype,function(A,D,C,$,P){var N=this;this.db=p,this.mode=A,this.storeNames=D,this.schema=C,this.chromeTransactionDurability=$,this.idbtrans=null,this.on=An(this,"complete","error","abort"),this.parent=P||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new fe(function(M,R){N._resolve=M,N._reject=R}),this._completion.then(function(){N.active=!1,N.on.complete.fire()},function(M){var R=N.active;return N.active=!1,N.on.error.fire(M),N.parent?N.parent._reject(M):R&&N.idbtrans&&N.idbtrans.abort(),it(M)})})),this.Version=(b=this,Sr(c.prototype,function(A){this.db=b,this._cfg={version:A,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,Sr(ji.prototype,function(A,D,C){if(this.db=w,this._ctx={table:A,index:D===":id"?null:D,or:C},this._cmp=this._ascending=He,this._descending=function($,P){return He(P,$)},this._max=function($,P){return 0<He($,P)?$:P},this._min=function($,P){return He($,P)<0?$:P},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new de.MissingAPI})),this.on("versionchange",function(A){0<A.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(A){!A.newVersion||A.newVersion<A.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(A.oldVersion/10))}),this._maxKey=Nr(s.IDBKeyRange),this._createTransaction=function(A,D,C,$){return new u.Transaction(A,D,C,u._options.chromeTransactionDurability,$)},this._fireOnBlocked=function(A){u.on("blocked").fire(A),qn.filter(function(D){return D.name===u.name&&D!==u&&!D._state.vcFired}).map(function(D){return D.on("versionchange").fire(A)})},this.use(Rt),this.use(ar),this.use(mn),this.use(Zt),this.use(xn);var x=new Proxy(this,{get:function(A,D,C){if(D==="_vip")return!0;if(D==="table")return function(P){return oi(u.table(P),x)};var $=Reflect.get(A,D,C);return $ instanceof yt?oi($,x):D==="tables"?$.map(function(P){return oi(P,x)}):D==="_createTransaction"?function(){return oi($.apply(this,arguments),x)}:$}});this.vip=x,d.forEach(function(A){return A(u)})}var tn,Et=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",On=(ai.prototype.subscribe=function(n,s,u){return this._subscribe(n&&typeof n!="function"?n:{next:n,error:s,complete:u})},ai.prototype[Et]=function(){return this},ai);function ai(n){this._subscribe=n}try{tn={indexedDB:S.indexedDB||S.mozIndexedDB||S.webkitIndexedDB||S.msIndexedDB,IDBKeyRange:S.IDBKeyRange||S.webkitIDBKeyRange}}catch{tn={indexedDB:null,IDBKeyRange:null}}function ur(n){var s,u=!1,d=new On(function(y){var a=Me(n),p,b=!1,w={},E={},x={get closed(){return b},unsubscribe:function(){b||(b=!0,p&&p.abort(),A&&Cn.storagemutated.unsubscribe(C))}};y.start&&y.start(x);var A=!1,D=function(){return tr($)},C=function(P){xe(w,P),ct(E,w)&&D()},$=function(){var P,N,M;!b&&tn.indexedDB&&(w={},P={},p&&p.abort(),p=new AbortController,M=function(R){var H=Tn();try{a&&er();var K=ln(n,R);return K=a?K.finally(Sn):K}finally{H&&Zn()}}(N={subscr:P,signal:p.signal,requery:D,querier:n,trans:null}),Promise.resolve(M).then(function(R){u=!0,s=R,b||N.signal.aborted||(w={},function(H){for(var K in H)if(Y(H,K))return;return 1}(E=P)||A||(Cn(Or,C),A=!0),tr(function(){return!b&&y.next&&y.next(R)}))},function(R){u=!1,["DatabaseClosedError","AbortError"].includes(R==null?void 0:R.name)||b||tr(function(){b||y.error&&y.error(R)})}))};return setTimeout(D,0),x});return d.hasValue=function(){return u},d.getValue=function(){return s},d}var nn=gn;function lr(n){var s=Nn;try{Nn=!0,Cn.storagemutated.fire(n),dn(n,!0)}finally{Nn=s}}ie(nn,l(l({},ht),{delete:function(n){return new nn(n,{addons:[]}).delete()},exists:function(n){return new nn(n,{addons:[]}).open().then(function(s){return s.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(n){try{return s=nn.dependencies,u=s.indexedDB,s=s.IDBKeyRange,(_(u)?Promise.resolve(u.databases()).then(function(d){return d.map(function(y){return y.name}).filter(function(y){return y!==Tr})}):v(u,s).toCollection().primaryKeys()).then(n)}catch{return it(new de.MissingAPI)}var s,u},defineClass:function(){return function(n){j(this,n)}},ignoreTransaction:function(n){return me.trans?cn(me.transless,n):n()},vip:L,async:function(n){return function(){try{var s=Wn(n.apply(this,arguments));return s&&typeof s.then=="function"?s:fe.resolve(s)}catch(u){return it(u)}}},spawn:function(n,s,u){try{var d=Wn(n.apply(u,s||[]));return d&&typeof d.then=="function"?d:fe.resolve(d)}catch(y){return it(y)}},currentTransaction:{get:function(){return me.trans||null}},waitFor:function(n,s){return s=fe.resolve(typeof n=="function"?nn.ignoreTransaction(n):n).timeout(s||6e4),me.trans?me.trans.waitFor(s):s},Promise:fe,debug:{get:function(){return vt},set:function(n){bt(n)}},derive:Z,extend:j,props:ie,override:Ue,Events:An,on:Cn,liveQuery:ur,extendObservabilitySet:xe,getByKeyPath:Ce,setByKeyPath:f,delByKeyPath:function(n,s){typeof s=="string"?f(n,s,void 0):"length"in s&&[].map.call(s,function(u){f(n,u,void 0)})},shallowClone:Je,deepClone:be,getObjectDiff:Vn,cmp:He,asap:$e,minKey:-1/0,addons:[],connections:qn,errnames:pt,dependencies:tn,cache:et,semVer:"4.0.8",version:"4.0.8".split(".").map(function(n){return parseInt(n)}).reduce(function(n,s,u){return n+s/Math.pow(10,2*u)})})),nn.maxKey=Nr(nn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Cn(Or,function(n){Nn||(n=new CustomEvent(Dr,{detail:n}),Nn=!0,dispatchEvent(n),Nn=!1)}),addEventListener(Dr,function(n){n=n.detail,Nn||lr(n)}));var Dn,Nn=!1,$r=function(){};return typeof BroadcastChannel<"u"&&(($r=function(){(Dn=new BroadcastChannel(Dr)).onmessage=function(n){return n.data&&lr(n.data)}})(),typeof Dn.unref=="function"&&Dn.unref(),Cn(Or,function(n){Nn||Dn.postMessage(n)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(n){if(!gn.disableBfCache&&n.persisted){vt&&console.debug("Dexie: handling persisted pagehide"),Dn!=null&&Dn.close();for(var s=0,u=qn;s<u.length;s++)u[s].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(n){!gn.disableBfCache&&n.persisted&&(vt&&console.debug("Dexie: handling persisted pageshow"),$r(),lr({all:new I(-1/0,[[]])}))})),fe.rejectionMapper=function(n,s){return!n||n instanceof Ke||n instanceof TypeError||n instanceof SyntaxError||!n.name||!Xe[n.name]?n:(s=new Xe[n.name](s||n.message,n),"stack"in n&&J(s,"stack",{get:function(){return this.inner.stack}}),s)},bt(vt),l(gn,Object.freeze({__proto__:null,Dexie:gn,liveQuery:ur,Entity:$i,cmp:He,PropModSymbol:lt,PropModification:rr,replacePrefix:function(n,s){return new rr({replacePrefix:[n,s]})},add:function(n){return new rr({add:n})},remove:function(n){return new rr({remove:n})},default:gn,RangeSet:I,mergeRanges:W,rangesOverlap:q}),{default:gn}),gn})})(Nu);var zd=Nu.exports;const Eo=Is(zd),Sa=Symbol.for("Dexie"),To=globalThis[Sa]||(globalThis[Sa]=Eo);if(Eo.semVer!==To.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Eo.semVer} and ${To.semVer}`);const Xd="yuimarldb1";class fo extends To{constructor(){super(Xd);z(this,"projects");z(this,"trees");this.version(1).stores({projects:"id",trees:"id"}),this.projects=this.table("projects"),this.trees=this.table("trees")}}class Aa{constructor(e,r,l){z(this,"id");z(this,"showDone");z(this,"delayRed");this.id=e,this.showDone=r,this.delayRed=l}}class Gd{constructor(e,r,l){z(this,"id");z(this,"open");z(this,"color");this.id=e,this.open=r,this.color=l}}class Qd{constructor(){z(this,"id","ganttframe");z(this,"width",0);z(this,"height",0);z(this,"columnHeader",new Mu(this));z(this,"columnBody",new ju(this));z(this,"columnScroll",new Hu(this));z(this,"calendarHeader",new Bu(this));z(this,"calendarBody",new Ku(this));z(this,"calendarScroll",new Fu(this));z(this,"ticketModal",new Ud);z(this,"ganttRow",new Ru);z(this,"sch",new Wu(this));z(this,"scv",new Vu(this));z(this,"colW",0);z(this,"calendarLeft",0);z(this,"calendarStart",nt());z(this,"calendarEnd",nt());z(this,"calendarTotalWidth",0);z(this,"ticketsTotalHeight",0);z(this,"ticketsFrameHeight",0);z(this,"schThreshold",0);z(this,"posX",0);z(this,"cols",[]);z(this,"holidays",[]);z(this,"tickets",[]);z(this,"lines",[]);z(this,"treeList",[]);z(this,"projectId",null);z(this,"showDone",!1);z(this,"delayRed",!1);z(this,"startY",0);z(this,"startX",0);z(this,"diffX",0);z(this,"diffY",0);z(this,"clicked",!1);z(this,"moving",!1);z(this,"movingTicket",null);z(this,"movingLine",-1);z(this,"hoverLine",-1);z(this,"dropPos","");z(this,"_idb");this._idb=new fo;const e=document.querySelector("#projectId"),r=document.querySelector("#startdate"),l=document.querySelector("#enddate");this.projectId=(e==null?void 0:e.value)??null,this.calendarStart=nt(`${(r==null?void 0:r.value)??""}`),this.calendarEnd=nt(`${(l==null?void 0:l.value)??""}`);const m=document.querySelector("#holidays");m!=null&&m.value&&(this.holidays=m.value.split(",").map(T=>nt(T)).filter(T=>T.isValid()));const S=document.querySelector("#tickets");S!=null&&S.value&&(this.tickets=JSON.parse(S.value)),this.cols=[{name:"ID",width:54},{name:"チケット名",width:320},{name:"開始日",width:67},{name:"終了日",width:67},{name:"進捗",width:36}],this.build(),this.handler()}resetLines(e=""){this.lines=[],this.setPos(this.tickets,"",0,-1,e),this.ticketsTotalHeight=this.lines.length*Qe}initDtPos(){let e=nt().diff(this.calendarStart)/kn*dt-this.calendarHeader.width/2,r=e*(this.calendarHeader.width-he-he)/this.calendarTotalWidth;this.calendarHeader.dtpos=e,this.calendarBody.dtpos=e,this.calendarScroll.barpos=r}setPos(e,r,l,m,S){let T=0,k=m;for(const j of e)j.progress===100&&this.showDone===!1||(j.pos=r.length===0?`${T}`:`${r},${T}`,T++,k++,j.level=l,j.line=k,j.y1=k*Qe,j.y2=(k+1)*Qe,this.lines.push(j),j.id===S?(this.ganttRow.y1=j.y1,this.ganttRow.y2=j.y2):!j.moving&&j.open&&j.children.length>0&&(k=this.setPos(j.children,j.pos,l+1,k,S)));return k}async readProject(){try{if(!this.projectId)return;this._idb||(this._idb=new fo);let e=await this._idb.projects.get(this.projectId);if(e){this.showDone=e.showDone,this.delayRed=e.delayRed;const r=document.querySelector("#showdone");r&&(r.checked=this.showDone);const l=document.querySelector("#delayred");l&&(l.checked=this.delayRed)}}catch(e){throw Error(`${e}`)}}async readTreeList(){try{this.treeList=[],this._idb||(this._idb=new fo),await this._idb.trees.each(e=>{this.setTreeOpen(e.id,e.open,this.tickets),this.treeList.push(e)})}catch(e){throw Error(`${e}`)}}setTreeOpen(e,r,l){for(const m of l){if(m.id===e)return m.open=r,!0;if(this.setTreeOpen(e,r,m.children))return!0}return!1}build(){const e=document.querySelector(`#${this.id}`);if(!e){console.error("Failed to get #ganttframe!");return}this.width=e.offsetWidth,this.height=e.offsetHeight,this.colW=this.columnWidth(),this.calendarLeft=this.colW+1,this.schThreshold=this.calendarLeft+Ht;const r=document.createDocumentFragment();this.columnBody.build(r),this.columnHeader.build(r),this.columnScroll.build(r),this.calendarBody.build(r),this.calendarHeader.build(r),this.calendarScroll.build(r);const l=this.calendarEnd.diff(this.calendarStart,"day");this.calendarTotalWidth=(l+1)*dt,e.append(r)}handler(){this.columnBody.handler(),this.calendarScroll.handler(),this.sch.handler(),this.scv.handler(),this.ticketModal.handler();const e=document.querySelector("#btnSave");e&&e.addEventListener("click",()=>{this.save()})}save(){hs("#loading").removeClass("d-none"),hs.ajax({type:"POST",url:"/api/ganttUpdate",data:{project_id:this.projectId??"",tickets:JSON.stringify(this.tickets)},success:function(e){hs("#loading").addClass("d-none");var r=JSON.parse(e);if(r.result){const l=document.querySelector("#projectId");l&&(window.location.href=`/project?id=${l.value}&tab=gantt`)}else window.alert(`エラーが発生しました。: ${r.message}`)},error:function(e){hs("#loading").addClass("d-none"),console.error(e),window.alert(`エラーが発生しました。: ${e}`)}})}resize(){const e=document.querySelector("#flexbox");if(!e){console.error("Failed to get #flexbox!");return}const r=document.querySelector("#ganttbase");if(!r){console.error("Failed to get #ganttbase!");return}r.style.width=`${e.offsetWidth-he}px`;const l=document.querySelector(`#${this.id}`);if(!l){console.error("Failed to get #ganttframe!");return}this.width=l.offsetWidth,this.height=l.offsetHeight,this.colW=this.columnWidth(),this.calendarLeft=this.colW+1,this.schThreshold=this.calendarLeft+Ht,this.sch.pos=0,this.calendarScroll.pos=0,this.calendarBody.resize(),this.calendarHeader.resize(),this.calendarScroll.resize(),this.scrollH(0)}draw(){this.columnBody.draw(),this.calendarHeader.draw(),this.calendarBody.draw(),this.calendarScroll.draw(),this.sch.draw(),this.scv.draw()}scrollH(e){this.posX=e*this.schThreshold/(this.width-he-he),this.columnBody.scrollH(this.posX),this.columnHeader.scrollH(this.posX),this.columnScroll.scrollH(this.posX),this.calendarHeader.scrollH(this.posX),this.calendarBody.scrollH(this.posX),this.calendarScroll.scrollH(this.posX)}scrollV(e){this.columnBody.scrollV(e),this.calendarBody.scrollV(e)}columnWidth(){let e=2;for(let r of this.cols)e+=r.width;return e}mouseDownCalScroll(e){this.calendarScroll.mouseDownCalScroll(e)}mouseMoveCalScroll(e){this.calendarScroll.mouseMoveCalScroll(e)}mouseUpCalScroll(){this.calendarScroll.mouseUpCalScroll()}mouseDownScrollH(e){this.sch.mouseDownScrollH(e)}mouseMoveScrollH(e){this.sch.mouseMoveScrollH(e)}mouseUpScrollH(){this.sch.mouseUpScrollH()}mouseDownScrollV(e){this.scv.mouseDownScrollV(e)}mouseMoveScrollV(e){this.scv.mouseMoveScrollV(e)}mouseUpScrollV(){this.scv.mouseUpScrollV()}async nodeOpenClose(e,r){var l;try{let m=new Gd(e,r,"");await((l=this._idb)==null?void 0:l.trees.put(m)),await this.readTreeList(),this.resetLines(),this.draw()}catch(m){throw Error(`${m}`)}}async setShowDone(e){var r;this.showDone=e;try{if(!this.projectId)return;this.resetLines(),this.ganttRow.y1=-1,this.ganttRow.y2=-1;let l=new Aa(this.projectId,e,this.delayRed);await((r=this._idb)==null?void 0:r.projects.put(l)),this.draw()}catch(l){throw Error(`${l}`)}}async setDelayRed(e){var r;this.delayRed=e;try{if(!this.projectId)return;let l=new Aa(this.projectId,this.showDone,e);await((r=this._idb)==null?void 0:r.projects.put(l)),this.draw()}catch(l){throw Error(`${l}`)}}}const Yn=new Qd,Jd=async()=>{await Yn.readProject(),await Yn.readTreeList(),Yn.resetLines(),Yn.initDtPos(),Yn.draw()};Jd().catch(h=>{console.error(h),window.alert(`エラーが発生しました。: ${h}`)});window.addEventListener("resize",function(){Yn.resize(),Yn.draw()});const ho=document.querySelector("#showdone");ho&&ho.addEventListener("change",function(){Yn.setShowDone(ho.checked)});const po=document.querySelector("#delayred");po&&po.addEventListener("change",function(){Yn.setDelayRed(po.checked)});
