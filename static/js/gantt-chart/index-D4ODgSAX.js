var wu=Object.defineProperty;var Eu=(h,e,r)=>e in h?wu(h,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):h[e]=r;var z=(h,e,r)=>Eu(h,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))l(m);new MutationObserver(m=>{for(const S of m)if(S.type==="childList")for(const T of S.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&l(T)}).observe(document,{childList:!0,subtree:!0});function r(m){const S={};return m.integrity&&(S.integrity=m.integrity),m.referrerPolicy&&(S.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?S.credentials="include":m.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function l(m){if(m.ep)return;m.ep=!0;const S=r(m);fetch(m.href,S)}})();var Vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ss(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var ga={exports:{}};(function(h,e){(function(r,l){h.exports=l()})(Vi,function(){var r=1e3,l=6e4,m=36e5,S="millisecond",T="second",P="minute",H="hour",V="day",F="week",W="month",ae="quarter",fe="year",J="date",Z="Invalid Date",_e=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,se=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Be={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ve){var ue=["th","st","nd","rd"],ne=ve%100;return"["+ve+(ue[(ne-20)%10]||ue[ne]||ue[0])+"]"}},Ue=function(ve,ue,ne){var le=String(ve);return!le||le.length>=ue?ve:""+Array(ue+1-le.length).join(ne)+ve},Ee={s:Ue,z:function(ve){var ue=-ve.utcOffset(),ne=Math.abs(ue),le=Math.floor(ne/60),oe=ne%60;return(ue<=0?"+":"-")+Ue(le,2,"0")+":"+Ue(oe,2,"0")},m:function ve(ue,ne){if(ue.date()<ne.date())return-ve(ne,ue);var le=12*(ne.year()-ue.year())+(ne.month()-ue.month()),oe=ue.clone().add(le,W),ge=ne-oe<0,ye=ue.clone().add(le+(ge?-1:1),W);return+(-(le+(ne-oe)/(ge?oe-ye:ye-oe))||0)},a:function(ve){return ve<0?Math.ceil(ve)||0:Math.floor(ve)},p:function(ve){return{M:W,y:fe,w:F,d:V,D:J,h:H,m:P,s:T,ms:S,Q:ae}[ve]||String(ve||"").toLowerCase().replace(/s$/,"")},u:function(ve){return ve===void 0}},$e="en",Ce={};Ce[$e]=Be;var f="$isDayjsObject",Je=function(ve){return ve instanceof nt||!(!ve||!ve[f])},Te=function ve(ue,ne,le){var oe;if(!ue)return $e;if(typeof ue=="string"){var ge=ue.toLowerCase();Ce[ge]&&(oe=ge),ne&&(Ce[ge]=ne,oe=ge);var ye=ue.split("-");if(!oe&&ye.length>1)return ve(ye[0])}else{var Me=ue.name;Ce[Me]=ue,oe=Me}return!le&&oe&&($e=oe),oe||!le&&$e},Oe=function(ve,ue){if(Je(ve))return ve.clone();var ne=typeof ue=="object"?ue:{};return ne.date=ve,ne.args=arguments,new nt(ne)},Se=Ee;Se.l=Te,Se.i=Je,Se.w=function(ve,ue){return Oe(ve,{locale:ue.$L,utc:ue.$u,x:ue.$x,$offset:ue.$offset})};var nt=function(){function ve(ne){this.$L=Te(ne.locale,null,!0),this.parse(ne),this.$x=this.$x||ne.x||{},this[f]=!0}var ue=ve.prototype;return ue.parse=function(ne){this.$d=function(le){var oe=le.date,ge=le.utc;if(oe===null)return new Date(NaN);if(Se.u(oe))return new Date;if(oe instanceof Date)return new Date(oe);if(typeof oe=="string"&&!/Z$/i.test(oe)){var ye=oe.match(_e);if(ye){var Me=ye[2]-1||0,Ye=(ye[7]||"0").substring(0,3);return ge?new Date(Date.UTC(ye[1],Me,ye[3]||1,ye[4]||0,ye[5]||0,ye[6]||0,Ye)):new Date(ye[1],Me,ye[3]||1,ye[4]||0,ye[5]||0,ye[6]||0,Ye)}}return new Date(oe)}(ne),this.init()},ue.init=function(){var ne=this.$d;this.$y=ne.getFullYear(),this.$M=ne.getMonth(),this.$D=ne.getDate(),this.$W=ne.getDay(),this.$H=ne.getHours(),this.$m=ne.getMinutes(),this.$s=ne.getSeconds(),this.$ms=ne.getMilliseconds()},ue.$utils=function(){return Se},ue.isValid=function(){return this.$d.toString()!==Z},ue.isSame=function(ne,le){var oe=Oe(ne);return this.startOf(le)<=oe&&oe<=this.endOf(le)},ue.isAfter=function(ne,le){return Oe(ne)<this.startOf(le)},ue.isBefore=function(ne,le){return this.endOf(le)<Oe(ne)},ue.$g=function(ne,le,oe){return Se.u(ne)?this[le]:this.set(oe,ne)},ue.unix=function(){return Math.floor(this.valueOf()/1e3)},ue.valueOf=function(){return this.$d.getTime()},ue.startOf=function(ne,le){var oe=this,ge=!!Se.u(le)||le,ye=Se.p(ne),Me=function(de,Xe){var ht=Se.w(oe.$u?Date.UTC(oe.$y,Xe,de):new Date(oe.$y,Xe,de),oe);return ge?ht:ht.endOf(V)},Ye=function(de,Xe){return Se.w(oe.toDate()[de].apply(oe.toDate("s"),(ge?[0,0,0,0]:[23,59,59,999]).slice(Xe)),oe)},Ke=this.$W,Qe=this.$M,Ze=this.$D,at="set"+(this.$u?"UTC":"");switch(ye){case fe:return ge?Me(1,0):Me(31,11);case W:return ge?Me(1,Qe):Me(0,Qe+1);case F:var dt=this.$locale().weekStart||0,gt=(Ke<dt?Ke+7:Ke)-dt;return Me(ge?Ze-gt:Ze+(6-gt),Qe);case V:case J:return Ye(at+"Hours",0);case H:return Ye(at+"Minutes",1);case P:return Ye(at+"Seconds",2);case T:return Ye(at+"Milliseconds",3);default:return this.clone()}},ue.endOf=function(ne){return this.startOf(ne,!1)},ue.$set=function(ne,le){var oe,ge=Se.p(ne),ye="set"+(this.$u?"UTC":""),Me=(oe={},oe[V]=ye+"Date",oe[J]=ye+"Date",oe[W]=ye+"Month",oe[fe]=ye+"FullYear",oe[H]=ye+"Hours",oe[P]=ye+"Minutes",oe[T]=ye+"Seconds",oe[S]=ye+"Milliseconds",oe)[ge],Ye=ge===V?this.$D+(le-this.$W):le;if(ge===W||ge===fe){var Ke=this.clone().set(J,1);Ke.$d[Me](Ye),Ke.init(),this.$d=Ke.set(J,Math.min(this.$D,Ke.daysInMonth())).$d}else Me&&this.$d[Me](Ye);return this.init(),this},ue.set=function(ne,le){return this.clone().$set(ne,le)},ue.get=function(ne){return this[Se.p(ne)]()},ue.add=function(ne,le){var oe,ge=this;ne=Number(ne);var ye=Se.p(le),Me=function(Qe){var Ze=Oe(ge);return Se.w(Ze.date(Ze.date()+Math.round(Qe*ne)),ge)};if(ye===W)return this.set(W,this.$M+ne);if(ye===fe)return this.set(fe,this.$y+ne);if(ye===V)return Me(1);if(ye===F)return Me(7);var Ye=(oe={},oe[P]=l,oe[H]=m,oe[T]=r,oe)[ye]||1,Ke=this.$d.getTime()+ne*Ye;return Se.w(Ke,this)},ue.subtract=function(ne,le){return this.add(-1*ne,le)},ue.format=function(ne){var le=this,oe=this.$locale();if(!this.isValid())return oe.invalidDate||Z;var ge=ne||"YYYY-MM-DDTHH:mm:ssZ",ye=Se.z(this),Me=this.$H,Ye=this.$m,Ke=this.$M,Qe=oe.weekdays,Ze=oe.months,at=oe.meridiem,dt=function(Xe,ht,De,pt){return Xe&&(Xe[ht]||Xe(le,ge))||De[ht].slice(0,pt)},gt=function(Xe){return Se.s(Me%12||12,Xe,"0")},de=at||function(Xe,ht,De){var pt=Xe<12?"AM":"PM";return De?pt.toLowerCase():pt};return ge.replace(se,function(Xe,ht){return ht||function(De){switch(De){case"YY":return String(le.$y).slice(-2);case"YYYY":return Se.s(le.$y,4,"0");case"M":return Ke+1;case"MM":return Se.s(Ke+1,2,"0");case"MMM":return dt(oe.monthsShort,Ke,Ze,3);case"MMMM":return dt(Ze,Ke);case"D":return le.$D;case"DD":return Se.s(le.$D,2,"0");case"d":return String(le.$W);case"dd":return dt(oe.weekdaysMin,le.$W,Qe,2);case"ddd":return dt(oe.weekdaysShort,le.$W,Qe,3);case"dddd":return Qe[le.$W];case"H":return String(Me);case"HH":return Se.s(Me,2,"0");case"h":return gt(1);case"hh":return gt(2);case"a":return de(Me,Ye,!0);case"A":return de(Me,Ye,!1);case"m":return String(Ye);case"mm":return Se.s(Ye,2,"0");case"s":return String(le.$s);case"ss":return Se.s(le.$s,2,"0");case"SSS":return Se.s(le.$ms,3,"0");case"Z":return ye}return null}(Xe)||ye.replace(":","")})},ue.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ue.diff=function(ne,le,oe){var ge,ye=this,Me=Se.p(le),Ye=Oe(ne),Ke=(Ye.utcOffset()-this.utcOffset())*l,Qe=this-Ye,Ze=function(){return Se.m(ye,Ye)};switch(Me){case fe:ge=Ze()/12;break;case W:ge=Ze();break;case ae:ge=Ze()/3;break;case F:ge=(Qe-Ke)/6048e5;break;case V:ge=(Qe-Ke)/864e5;break;case H:ge=Qe/m;break;case P:ge=Qe/l;break;case T:ge=Qe/r;break;default:ge=Qe}return oe?ge:Se.a(ge)},ue.daysInMonth=function(){return this.endOf(W).$D},ue.$locale=function(){return Ce[this.$L]},ue.locale=function(ne,le){if(!ne)return this.$L;var oe=this.clone(),ge=Te(ne,le,!0);return ge&&(oe.$L=ge),oe},ue.clone=function(){return Se.w(this.$d,this)},ue.toDate=function(){return new Date(this.valueOf())},ue.toJSON=function(){return this.isValid()?this.toISOString():null},ue.toISOString=function(){return this.$d.toISOString()},ue.toString=function(){return this.$d.toUTCString()},ve}(),be=nt.prototype;return Oe.prototype=be,[["$ms",S],["$s",T],["$m",P],["$H",H],["$W",V],["$M",W],["$y",fe],["$D",J]].forEach(function(ve){be[ve[1]]=function(ue){return this.$g(ue,ve[0],ve[1])}}),Oe.extend=function(ve,ue){return ve.$i||(ve(ue,nt,Oe),ve.$i=!0),Oe},Oe.locale=Te,Oe.isDayjs=Je,Oe.unix=function(ve){return Oe(1e3*ve)},Oe.en=Ce[$e],Oe.Ls=Ce,Oe.p={},Oe})})(ga);var Tu=ga.exports;const ft=Ss(Tu);var va={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(h){(function(e,r){h.exports=e.document?r(e,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return r(l)}})(typeof window<"u"?window:Vi,function(e,r){var l=[],m=Object.getPrototypeOf,S=l.slice,T=l.flat?function(t){return l.flat.call(t)}:function(t){return l.concat.apply([],t)},P=l.push,H=l.indexOf,V={},F=V.toString,W=V.hasOwnProperty,ae=W.toString,fe=ae.call(Object),J={},Z=function(i){return typeof i=="function"&&typeof i.nodeType!="number"&&typeof i.item!="function"},_e=function(i){return i!=null&&i===i.window},se=e.document,Be={type:!0,src:!0,nonce:!0,noModule:!0};function Ue(t,i,o){o=o||se;var c,g,v=o.createElement("script");if(v.text=t,i)for(c in Be)g=i[c]||i.getAttribute&&i.getAttribute(c),g&&v.setAttribute(c,g);o.head.appendChild(v).parentNode.removeChild(v)}function Ee(t){return t==null?t+"":typeof t=="object"||typeof t=="function"?V[F.call(t)]||"object":typeof t}var $e="3.7.1",Ce=/HTML$/i,f=function(t,i){return new f.fn.init(t,i)};f.fn=f.prototype={jquery:$e,constructor:f,length:0,toArray:function(){return S.call(this)},get:function(t){return t==null?S.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var i=f.merge(this.constructor(),t);return i.prevObject=this,i},each:function(t){return f.each(this,t)},map:function(t){return this.pushStack(f.map(this,function(i,o){return t.call(i,o,i)}))},slice:function(){return this.pushStack(S.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(f.grep(this,function(t,i){return(i+1)%2}))},odd:function(){return this.pushStack(f.grep(this,function(t,i){return i%2}))},eq:function(t){var i=this.length,o=+t+(t<0?i:0);return this.pushStack(o>=0&&o<i?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:P,sort:l.sort,splice:l.splice},f.extend=f.fn.extend=function(){var t,i,o,c,g,v,_=arguments[0]||{},k=1,O=arguments.length,I=!1;for(typeof _=="boolean"&&(I=_,_=arguments[k]||{},k++),typeof _!="object"&&!Z(_)&&(_={}),k===O&&(_=this,k--);k<O;k++)if((t=arguments[k])!=null)for(i in t)c=t[i],!(i==="__proto__"||_===c)&&(I&&c&&(f.isPlainObject(c)||(g=Array.isArray(c)))?(o=_[i],g&&!Array.isArray(o)?v=[]:!g&&!f.isPlainObject(o)?v={}:v=o,g=!1,_[i]=f.extend(I,v,c)):c!==void 0&&(_[i]=c));return _},f.extend({expando:"jQuery"+($e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var i,o;return!t||F.call(t)!=="[object Object]"?!1:(i=m(t),i?(o=W.call(i,"constructor")&&i.constructor,typeof o=="function"&&ae.call(o)===fe):!0)},isEmptyObject:function(t){var i;for(i in t)return!1;return!0},globalEval:function(t,i,o){Ue(t,{nonce:i&&i.nonce},o)},each:function(t,i){var o,c=0;if(Je(t))for(o=t.length;c<o&&i.call(t[c],c,t[c])!==!1;c++);else for(c in t)if(i.call(t[c],c,t[c])===!1)break;return t},text:function(t){var i,o="",c=0,g=t.nodeType;if(!g)for(;i=t[c++];)o+=f.text(i);return g===1||g===11?t.textContent:g===9?t.documentElement.textContent:g===3||g===4?t.nodeValue:o},makeArray:function(t,i){var o=i||[];return t!=null&&(Je(Object(t))?f.merge(o,typeof t=="string"?[t]:t):P.call(o,t)),o},inArray:function(t,i,o){return i==null?-1:H.call(i,t,o)},isXMLDoc:function(t){var i=t&&t.namespaceURI,o=t&&(t.ownerDocument||t).documentElement;return!Ce.test(i||o&&o.nodeName||"HTML")},merge:function(t,i){for(var o=+i.length,c=0,g=t.length;c<o;c++)t[g++]=i[c];return t.length=g,t},grep:function(t,i,o){for(var c,g=[],v=0,_=t.length,k=!o;v<_;v++)c=!i(t[v],v),c!==k&&g.push(t[v]);return g},map:function(t,i,o){var c,g,v=0,_=[];if(Je(t))for(c=t.length;v<c;v++)g=i(t[v],v,o),g!=null&&_.push(g);else for(v in t)g=i(t[v],v,o),g!=null&&_.push(g);return T(_)},guid:1,support:J}),typeof Symbol=="function"&&(f.fn[Symbol.iterator]=l[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,i){V["[object "+i+"]"]=i.toLowerCase()});function Je(t){var i=!!t&&"length"in t&&t.length,o=Ee(t);return Z(t)||_e(t)?!1:o==="array"||i===0||typeof i=="number"&&i>0&&i-1 in t}function Te(t,i){return t.nodeName&&t.nodeName.toLowerCase()===i.toLowerCase()}var Oe=l.pop,Se=l.sort,nt=l.splice,be="[\\x20\\t\\r\\n\\f]",ve=new RegExp("^"+be+"+|((?:^|[^\\\\])(?:\\\\.)*)"+be+"+$","g");f.contains=function(t,i){var o=i&&i.parentNode;return t===o||!!(o&&o.nodeType===1&&(t.contains?t.contains(o):t.compareDocumentPosition&&t.compareDocumentPosition(o)&16))};var ue=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ne(t,i){return i?t==="\0"?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}f.escapeSelector=function(t){return(t+"").replace(ue,ne)};var le=se,oe=P;(function(){var t,i,o,c,g,v=oe,_,k,O,I,B,Y=f.expando,q=0,G=0,Ae=ii(),je=ii(),xe=ii(),lt=ii(),et=function(a,p){return a===p&&(g=!0),0},$t="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Pt="(?:\\\\[\\da-fA-F]{1,6}"+be+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Le="\\["+be+"*("+Pt+")(?:"+be+"*([*^$|!~]?=)"+be+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Pt+"))|)"+be+"*\\]",dn=":("+Pt+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Le+")*)|.*)\\)|)",qe=new RegExp(be+"+","g"),it=new RegExp("^"+be+"*,"+be+"*"),Fn=new RegExp("^"+be+"*([>+~]|"+be+")"+be+"*"),sr=new RegExp(be+"|>"),Zt=new RegExp(dn),Yn=new RegExp("^"+Pt+"$"),It={ID:new RegExp("^#("+Pt+")"),CLASS:new RegExp("^\\.("+Pt+")"),TAG:new RegExp("^("+Pt+"|[*])"),ATTR:new RegExp("^"+Le),PSEUDO:new RegExp("^"+dn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+be+"*(even|odd|(([+-]|)(\\d*)n|)"+be+"*(?:([+-]|)"+be+"*(\\d+)|))"+be+"*\\)|)","i"),bool:new RegExp("^(?:"+$t+")$","i"),needsContext:new RegExp("^"+be+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+be+"*((?:-\\d)?\\d*)"+be+"*\\)|)(?=[^-]|$)","i")},xn=/^(?:input|select|textarea|button)$/i,pn=/^h\d$/i,Rt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ri=/[+~]/,en=new RegExp("\\\\[\\da-fA-F]{1,6}"+be+"?|\\\\([^\\r\\n\\f])","g"),mn=function(a,p){var b="0x"+a.slice(1)-65536;return p||(b<0?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,b&1023|56320))},as=function(){On()},Bi=ur(function(a){return a.disabled===!0&&Te(a,"fieldset")},{dir:"parentNode",next:"legend"});function us(){try{return _.activeElement}catch{}}try{v.apply(l=S.call(le.childNodes),le.childNodes),l[le.childNodes.length].nodeType}catch{v={apply:function(p,b){oe.apply(p,S.call(b))},call:function(p){oe.apply(p,S.call(arguments,1))}}}function Ve(a,p,b,w){var E,x,A,D,C,L,$,N=p&&p.ownerDocument,M=p?p.nodeType:9;if(b=b||[],typeof a!="string"||!a||M!==1&&M!==9&&M!==11)return b;if(!w&&(On(p),p=p||_,O)){if(M!==11&&(C=Rt.exec(a)))if(E=C[1]){if(M===9)if(A=p.getElementById(E)){if(A.id===E)return v.call(b,A),b}else return b;else if(N&&(A=N.getElementById(E))&&Ve.contains(p,A)&&A.id===E)return v.call(b,A),b}else{if(C[2])return v.apply(b,p.getElementsByTagName(a)),b;if((E=C[3])&&p.getElementsByClassName)return v.apply(b,p.getElementsByClassName(E)),b}if(!lt[a+" "]&&(!I||!I.test(a))){if($=a,N=p,M===1&&(sr.test(a)||Fn.test(a))){for(N=ri.test(a)&&Et(p.parentNode)||p,(N!=p||!J.scope)&&((D=p.getAttribute("id"))?D=f.escapeSelector(D):p.setAttribute("id",D=Y)),L=ar(a),x=L.length;x--;)L[x]=(D?"#"+D:":scope")+" "+nn(L[x]);$=L.join(",")}try{return v.apply(b,N.querySelectorAll($)),b}catch{lt(a,!0)}finally{D===Y&&p.removeAttribute("id")}}}return y(a.replace(ve,"$1"),p,b,w)}function ii(){var a=[];function p(b,w){return a.push(b+" ")>i.cacheLength&&delete p[a.shift()],p[b+" "]=w}return p}function Yt(a){return a[Y]=!0,a}function or(a){var p=_.createElement("fieldset");try{return!!a(p)}catch{return!1}finally{p.parentNode&&p.parentNode.removeChild(p),p=null}}function si(a){return function(p){return Te(p,"input")&&p.type===a}}function gn(a){return function(p){return(Te(p,"input")||Te(p,"button"))&&p.type===a}}function st(a){return function(p){return"form"in p?p.parentNode&&p.disabled===!1?"label"in p?"label"in p.parentNode?p.parentNode.disabled===a:p.disabled===a:p.isDisabled===a||p.isDisabled!==!a&&Bi(p)===a:p.disabled===a:"label"in p?p.disabled===a:!1}}function tn(a){return Yt(function(p){return p=+p,Yt(function(b,w){for(var E,x=a([],b.length,p),A=x.length;A--;)b[E=x[A]]&&(b[E]=!(w[E]=b[E]))})})}function Et(a){return a&&typeof a.getElementsByTagName<"u"&&a}function On(a){var p,b=a?a.ownerDocument||a:le;return b==_||b.nodeType!==9||!b.documentElement||(_=b,k=_.documentElement,O=!f.isXMLDoc(_),B=k.matches||k.webkitMatchesSelector||k.msMatchesSelector,k.msMatchesSelector&&le!=_&&(p=_.defaultView)&&p.top!==p&&p.addEventListener("unload",as),J.getById=or(function(w){return k.appendChild(w).id=f.expando,!_.getElementsByName||!_.getElementsByName(f.expando).length}),J.disconnectedMatch=or(function(w){return B.call(w,"*")}),J.scope=or(function(){return _.querySelectorAll(":scope")}),J.cssHas=or(function(){try{return _.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),J.getById?(i.filter.ID=function(w){var E=w.replace(en,mn);return function(x){return x.getAttribute("id")===E}},i.find.ID=function(w,E){if(typeof E.getElementById<"u"&&O){var x=E.getElementById(w);return x?[x]:[]}}):(i.filter.ID=function(w){var E=w.replace(en,mn);return function(x){var A=typeof x.getAttributeNode<"u"&&x.getAttributeNode("id");return A&&A.value===E}},i.find.ID=function(w,E){if(typeof E.getElementById<"u"&&O){var x,A,D,C=E.getElementById(w);if(C){if(x=C.getAttributeNode("id"),x&&x.value===w)return[C];for(D=E.getElementsByName(w),A=0;C=D[A++];)if(x=C.getAttributeNode("id"),x&&x.value===w)return[C]}return[]}}),i.find.TAG=function(w,E){return typeof E.getElementsByTagName<"u"?E.getElementsByTagName(w):E.querySelectorAll(w)},i.find.CLASS=function(w,E){if(typeof E.getElementsByClassName<"u"&&O)return E.getElementsByClassName(w)},I=[],or(function(w){var E;k.appendChild(w).innerHTML="<a id='"+Y+"' href='' disabled='disabled'></a><select id='"+Y+"-\r\\' disabled='disabled'><option selected=''></option></select>",w.querySelectorAll("[selected]").length||I.push("\\["+be+"*(?:value|"+$t+")"),w.querySelectorAll("[id~="+Y+"-]").length||I.push("~="),w.querySelectorAll("a#"+Y+"+*").length||I.push(".#.+[+~]"),w.querySelectorAll(":checked").length||I.push(":checked"),E=_.createElement("input"),E.setAttribute("type","hidden"),w.appendChild(E).setAttribute("name","D"),k.appendChild(w).disabled=!0,w.querySelectorAll(":disabled").length!==2&&I.push(":enabled",":disabled"),E=_.createElement("input"),E.setAttribute("name",""),w.appendChild(E),w.querySelectorAll("[name='']").length||I.push("\\["+be+"*name"+be+"*="+be+`*(?:''|"")`)}),J.cssHas||I.push(":has"),I=I.length&&new RegExp(I.join("|")),et=function(w,E){if(w===E)return g=!0,0;var x=!w.compareDocumentPosition-!E.compareDocumentPosition;return x||(x=(w.ownerDocument||w)==(E.ownerDocument||E)?w.compareDocumentPosition(E):1,x&1||!J.sortDetached&&E.compareDocumentPosition(w)===x?w===_||w.ownerDocument==le&&Ve.contains(le,w)?-1:E===_||E.ownerDocument==le&&Ve.contains(le,E)?1:c?H.call(c,w)-H.call(c,E):0:x&4?-1:1)}),_}Ve.matches=function(a,p){return Ve(a,null,null,p)},Ve.matchesSelector=function(a,p){if(On(a),O&&!lt[p+" "]&&(!I||!I.test(p)))try{var b=B.call(a,p);if(b||J.disconnectedMatch||a.document&&a.document.nodeType!==11)return b}catch{lt(p,!0)}return Ve(p,_,null,[a]).length>0},Ve.contains=function(a,p){return(a.ownerDocument||a)!=_&&On(a),f.contains(a,p)},Ve.attr=function(a,p){(a.ownerDocument||a)!=_&&On(a);var b=i.attrHandle[p.toLowerCase()],w=b&&W.call(i.attrHandle,p.toLowerCase())?b(a,p,!O):void 0;return w!==void 0?w:a.getAttribute(p)},Ve.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},f.uniqueSort=function(a){var p,b=[],w=0,E=0;if(g=!J.sortStable,c=!J.sortStable&&S.call(a,0),Se.call(a,et),g){for(;p=a[E++];)p===a[E]&&(w=b.push(E));for(;w--;)nt.call(a,b[w],1)}return c=null,a},f.fn.uniqueSort=function(){return this.pushStack(f.uniqueSort(S.apply(this)))},i=f.expr={cacheLength:50,createPseudo:Yt,match:It,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(en,mn),a[3]=(a[3]||a[4]||a[5]||"").replace(en,mn),a[2]==="~="&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),a[1].slice(0,3)==="nth"?(a[3]||Ve.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*(a[3]==="even"||a[3]==="odd")),a[5]=+(a[7]+a[8]||a[3]==="odd")):a[3]&&Ve.error(a[0]),a},PSEUDO:function(a){var p,b=!a[6]&&a[2];return It.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":b&&Zt.test(b)&&(p=ar(b,!0))&&(p=b.indexOf(")",b.length-p)-b.length)&&(a[0]=a[0].slice(0,p),a[2]=b.slice(0,p)),a.slice(0,3))}},filter:{TAG:function(a){var p=a.replace(en,mn).toLowerCase();return a==="*"?function(){return!0}:function(b){return Te(b,p)}},CLASS:function(a){var p=Ae[a+" "];return p||(p=new RegExp("(^|"+be+")"+a+"("+be+"|$)"))&&Ae(a,function(b){return p.test(typeof b.className=="string"&&b.className||typeof b.getAttribute<"u"&&b.getAttribute("class")||"")})},ATTR:function(a,p,b){return function(w){var E=Ve.attr(w,a);return E==null?p==="!=":p?(E+="",p==="="?E===b:p==="!="?E!==b:p==="^="?b&&E.indexOf(b)===0:p==="*="?b&&E.indexOf(b)>-1:p==="$="?b&&E.slice(-b.length)===b:p==="~="?(" "+E.replace(qe," ")+" ").indexOf(b)>-1:p==="|="?E===b||E.slice(0,b.length+1)===b+"-":!1):!0}},CHILD:function(a,p,b,w,E){var x=a.slice(0,3)!=="nth",A=a.slice(-4)!=="last",D=p==="of-type";return w===1&&E===0?function(C){return!!C.parentNode}:function(C,L,$){var N,M,R,j,K,U=x!==A?"nextSibling":"previousSibling",re=C.parentNode,X=D&&C.nodeName.toLowerCase(),ie=!$&&!D,ee=!1;if(re){if(x){for(;U;){for(R=C;R=R[U];)if(D?Te(R,X):R.nodeType===1)return!1;K=U=a==="only"&&!K&&"nextSibling"}return!0}if(K=[A?re.firstChild:re.lastChild],A&&ie){for(M=re[Y]||(re[Y]={}),N=M[a]||[],j=N[0]===q&&N[1],ee=j&&N[2],R=j&&re.childNodes[j];R=++j&&R&&R[U]||(ee=j=0)||K.pop();)if(R.nodeType===1&&++ee&&R===C){M[a]=[q,j,ee];break}}else if(ie&&(M=C[Y]||(C[Y]={}),N=M[a]||[],j=N[0]===q&&N[1],ee=j),ee===!1)for(;(R=++j&&R&&R[U]||(ee=j=0)||K.pop())&&!((D?Te(R,X):R.nodeType===1)&&++ee&&(ie&&(M=R[Y]||(R[Y]={}),M[a]=[q,ee]),R===C)););return ee-=E,ee===w||ee%w===0&&ee/w>=0}}},PSEUDO:function(a,p){var b,w=i.pseudos[a]||i.setFilters[a.toLowerCase()]||Ve.error("unsupported pseudo: "+a);return w[Y]?w(p):w.length>1?(b=[a,a,"",p],i.setFilters.hasOwnProperty(a.toLowerCase())?Yt(function(E,x){for(var A,D=w(E,p),C=D.length;C--;)A=H.call(E,D[C]),E[A]=!(x[A]=D[C])}):function(E){return w(E,0,b)}):w}},pseudos:{not:Yt(function(a){var p=[],b=[],w=d(a.replace(ve,"$1"));return w[Y]?Yt(function(E,x,A,D){for(var C,L=w(E,null,D,[]),$=E.length;$--;)(C=L[$])&&(E[$]=!(x[$]=C))}):function(E,x,A){return p[0]=E,w(p,null,A,b),p[0]=null,!b.pop()}}),has:Yt(function(a){return function(p){return Ve(a,p).length>0}}),contains:Yt(function(a){return a=a.replace(en,mn),function(p){return(p.textContent||f.text(p)).indexOf(a)>-1}}),lang:Yt(function(a){return Yn.test(a||"")||Ve.error("unsupported lang: "+a),a=a.replace(en,mn).toLowerCase(),function(p){var b;do if(b=O?p.lang:p.getAttribute("xml:lang")||p.getAttribute("lang"))return b=b.toLowerCase(),b===a||b.indexOf(a+"-")===0;while((p=p.parentNode)&&p.nodeType===1);return!1}}),target:function(a){var p=e.location&&e.location.hash;return p&&p.slice(1)===a.id},root:function(a){return a===k},focus:function(a){return a===us()&&_.hasFocus()&&!!(a.type||a.href||~a.tabIndex)},enabled:st(!1),disabled:st(!0),checked:function(a){return Te(a,"input")&&!!a.checked||Te(a,"option")&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!i.pseudos.empty(a)},header:function(a){return pn.test(a.nodeName)},input:function(a){return xn.test(a.nodeName)},button:function(a){return Te(a,"input")&&a.type==="button"||Te(a,"button")},text:function(a){var p;return Te(a,"input")&&a.type==="text"&&((p=a.getAttribute("type"))==null||p.toLowerCase()==="text")},first:tn(function(){return[0]}),last:tn(function(a,p){return[p-1]}),eq:tn(function(a,p,b){return[b<0?b+p:b]}),even:tn(function(a,p){for(var b=0;b<p;b+=2)a.push(b);return a}),odd:tn(function(a,p){for(var b=1;b<p;b+=2)a.push(b);return a}),lt:tn(function(a,p,b){var w;for(b<0?w=b+p:b>p?w=p:w=b;--w>=0;)a.push(w);return a}),gt:tn(function(a,p,b){for(var w=b<0?b+p:b;++w<p;)a.push(w);return a})}},i.pseudos.nth=i.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=si(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=gn(t);function oi(){}oi.prototype=i.filters=i.pseudos,i.setFilters=new oi;function ar(a,p){var b,w,E,x,A,D,C,L=je[a+" "];if(L)return p?0:L.slice(0);for(A=a,D=[],C=i.preFilter;A;){(!b||(w=it.exec(A)))&&(w&&(A=A.slice(w[0].length)||A),D.push(E=[])),b=!1,(w=Fn.exec(A))&&(b=w.shift(),E.push({value:b,type:w[0].replace(ve," ")}),A=A.slice(b.length));for(x in i.filter)(w=It[x].exec(A))&&(!C[x]||(w=C[x](w)))&&(b=w.shift(),E.push({value:b,type:x,matches:w}),A=A.slice(b.length));if(!b)break}return p?A.length:A?Ve.error(a):je(a,D).slice(0)}function nn(a){for(var p=0,b=a.length,w="";p<b;p++)w+=a[p].value;return w}function ur(a,p,b){var w=p.dir,E=p.next,x=E||w,A=b&&x==="parentNode",D=G++;return p.first?function(C,L,$){for(;C=C[w];)if(C.nodeType===1||A)return a(C,L,$);return!1}:function(C,L,$){var N,M,R=[q,D];if($){for(;C=C[w];)if((C.nodeType===1||A)&&a(C,L,$))return!0}else for(;C=C[w];)if(C.nodeType===1||A)if(M=C[Y]||(C[Y]={}),E&&Te(C,E))C=C[w]||C;else{if((N=M[x])&&N[0]===q&&N[1]===D)return R[2]=N[2];if(M[x]=R,R[2]=a(C,L,$))return!0}return!1}}function Dn(a){return a.length>1?function(p,b,w){for(var E=a.length;E--;)if(!a[E](p,b,w))return!1;return!0}:a[0]}function Nn(a,p,b){for(var w=0,E=p.length;w<E;w++)Ve(a,p[w],b);return b}function Lr(a,p,b,w,E){for(var x,A=[],D=0,C=a.length,L=p!=null;D<C;D++)(x=a[D])&&(!b||b(x,w,E))&&(A.push(x),L&&p.push(D));return A}function n(a,p,b,w,E,x){return w&&!w[Y]&&(w=n(w)),E&&!E[Y]&&(E=n(E,x)),Yt(function(A,D,C,L){var $,N,M,R,j=[],K=[],U=D.length,re=A||Nn(p||"*",C.nodeType?[C]:C,[]),X=a&&(A||!p)?Lr(re,j,a,C,L):re;if(b?(R=E||(A?a:U||w)?[]:D,b(X,R,C,L)):R=X,w)for($=Lr(R,K),w($,[],C,L),N=$.length;N--;)(M=$[N])&&(R[K[N]]=!(X[K[N]]=M));if(A){if(E||a){if(E){for($=[],N=R.length;N--;)(M=R[N])&&$.push(X[N]=M);E(null,R=[],$,L)}for(N=R.length;N--;)(M=R[N])&&($=E?H.call(A,M):j[N])>-1&&(A[$]=!(D[$]=M))}}else R=Lr(R===D?R.splice(U,R.length):R),E?E(null,D,R,L):v.apply(D,R)})}function s(a){for(var p,b,w,E=a.length,x=i.relative[a[0].type],A=x||i.relative[" "],D=x?1:0,C=ur(function(N){return N===p},A,!0),L=ur(function(N){return H.call(p,N)>-1},A,!0),$=[function(N,M,R){var j=!x&&(R||M!=o)||((p=M).nodeType?C(N,M,R):L(N,M,R));return p=null,j}];D<E;D++)if(b=i.relative[a[D].type])$=[ur(Dn($),b)];else{if(b=i.filter[a[D].type].apply(null,a[D].matches),b[Y]){for(w=++D;w<E&&!i.relative[a[w].type];w++);return n(D>1&&Dn($),D>1&&nn(a.slice(0,D-1).concat({value:a[D-2].type===" "?"*":""})).replace(ve,"$1"),b,D<w&&s(a.slice(D,w)),w<E&&s(a=a.slice(w)),w<E&&nn(a))}$.push(b)}return Dn($)}function u(a,p){var b=p.length>0,w=a.length>0,E=function(x,A,D,C,L){var $,N,M,R=0,j="0",K=x&&[],U=[],re=o,X=x||w&&i.find.TAG("*",L),ie=q+=re==null?1:Math.random()||.1,ee=X.length;for(L&&(o=A==_||A||L);j!==ee&&($=X[j])!=null;j++){if(w&&$){for(N=0,!A&&$.ownerDocument!=_&&(On($),D=!O);M=a[N++];)if(M($,A||_,D)){v.call(C,$);break}L&&(q=ie)}b&&(($=!M&&$)&&R--,x&&K.push($))}if(R+=j,b&&j!==R){for(N=0;M=p[N++];)M(K,U,A,D);if(x){if(R>0)for(;j--;)K[j]||U[j]||(U[j]=Oe.call(C));U=Lr(U)}v.apply(C,U),L&&!x&&U.length>0&&R+p.length>1&&f.uniqueSort(C)}return L&&(q=ie,o=re),K};return b?Yt(E):E}function d(a,p){var b,w=[],E=[],x=xe[a+" "];if(!x){for(p||(p=ar(a)),b=p.length;b--;)x=s(p[b]),x[Y]?w.push(x):E.push(x);x=xe(a,u(E,w)),x.selector=a}return x}function y(a,p,b,w){var E,x,A,D,C,L=typeof a=="function"&&a,$=!w&&ar(a=L.selector||a);if(b=b||[],$.length===1){if(x=$[0]=$[0].slice(0),x.length>2&&(A=x[0]).type==="ID"&&p.nodeType===9&&O&&i.relative[x[1].type]){if(p=(i.find.ID(A.matches[0].replace(en,mn),p)||[])[0],p)L&&(p=p.parentNode);else return b;a=a.slice(x.shift().value.length)}for(E=It.needsContext.test(a)?0:x.length;E--&&(A=x[E],!i.relative[D=A.type]);)if((C=i.find[D])&&(w=C(A.matches[0].replace(en,mn),ri.test(x[0].type)&&Et(p.parentNode)||p))){if(x.splice(E,1),a=w.length&&nn(x),!a)return v.apply(b,w),b;break}}return(L||d(a,$))(w,p,!O,b,!p||ri.test(a)&&Et(p.parentNode)||p),b}J.sortStable=Y.split("").sort(et).join("")===Y,On(),J.sortDetached=or(function(a){return a.compareDocumentPosition(_.createElement("fieldset"))&1}),f.find=Ve,f.expr[":"]=f.expr.pseudos,f.unique=f.uniqueSort,Ve.compile=d,Ve.select=y,Ve.setDocument=On,Ve.tokenize=ar,Ve.escape=f.escapeSelector,Ve.getText=f.text,Ve.isXML=f.isXMLDoc,Ve.selectors=f.expr,Ve.support=f.support,Ve.uniqueSort=f.uniqueSort})();var ge=function(t,i,o){for(var c=[],g=o!==void 0;(t=t[i])&&t.nodeType!==9;)if(t.nodeType===1){if(g&&f(t).is(o))break;c.push(t)}return c},ye=function(t,i){for(var o=[];t;t=t.nextSibling)t.nodeType===1&&t!==i&&o.push(t);return o},Me=f.expr.match.needsContext,Ye=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ke(t,i,o){return Z(i)?f.grep(t,function(c,g){return!!i.call(c,g,c)!==o}):i.nodeType?f.grep(t,function(c){return c===i!==o}):typeof i!="string"?f.grep(t,function(c){return H.call(i,c)>-1!==o}):f.filter(i,t,o)}f.filter=function(t,i,o){var c=i[0];return o&&(t=":not("+t+")"),i.length===1&&c.nodeType===1?f.find.matchesSelector(c,t)?[c]:[]:f.find.matches(t,f.grep(i,function(g){return g.nodeType===1}))},f.fn.extend({find:function(t){var i,o,c=this.length,g=this;if(typeof t!="string")return this.pushStack(f(t).filter(function(){for(i=0;i<c;i++)if(f.contains(g[i],this))return!0}));for(o=this.pushStack([]),i=0;i<c;i++)f.find(t,g[i],o);return c>1?f.uniqueSort(o):o},filter:function(t){return this.pushStack(Ke(this,t||[],!1))},not:function(t){return this.pushStack(Ke(this,t||[],!0))},is:function(t){return!!Ke(this,typeof t=="string"&&Me.test(t)?f(t):t||[],!1).length}});var Qe,Ze=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,at=f.fn.init=function(t,i,o){var c,g;if(!t)return this;if(o=o||Qe,typeof t=="string")if(t[0]==="<"&&t[t.length-1]===">"&&t.length>=3?c=[null,t,null]:c=Ze.exec(t),c&&(c[1]||!i))if(c[1]){if(i=i instanceof f?i[0]:i,f.merge(this,f.parseHTML(c[1],i&&i.nodeType?i.ownerDocument||i:se,!0)),Ye.test(c[1])&&f.isPlainObject(i))for(c in i)Z(this[c])?this[c](i[c]):this.attr(c,i[c]);return this}else return g=se.getElementById(c[2]),g&&(this[0]=g,this.length=1),this;else return!i||i.jquery?(i||o).find(t):this.constructor(i).find(t);else{if(t.nodeType)return this[0]=t,this.length=1,this;if(Z(t))return o.ready!==void 0?o.ready(t):t(f)}return f.makeArray(t,this)};at.prototype=f.fn,Qe=f(se);var dt=/^(?:parents|prev(?:Until|All))/,gt={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({has:function(t){var i=f(t,this),o=i.length;return this.filter(function(){for(var c=0;c<o;c++)if(f.contains(this,i[c]))return!0})},closest:function(t,i){var o,c=0,g=this.length,v=[],_=typeof t!="string"&&f(t);if(!Me.test(t)){for(;c<g;c++)for(o=this[c];o&&o!==i;o=o.parentNode)if(o.nodeType<11&&(_?_.index(o)>-1:o.nodeType===1&&f.find.matchesSelector(o,t))){v.push(o);break}}return this.pushStack(v.length>1?f.uniqueSort(v):v)},index:function(t){return t?typeof t=="string"?H.call(f(t),this[0]):H.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,i){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(t,i))))},addBack:function(t){return this.add(t==null?this.prevObject:this.prevObject.filter(t))}});function de(t,i){for(;(t=t[i])&&t.nodeType!==1;);return t}f.each({parent:function(t){var i=t.parentNode;return i&&i.nodeType!==11?i:null},parents:function(t){return ge(t,"parentNode")},parentsUntil:function(t,i,o){return ge(t,"parentNode",o)},next:function(t){return de(t,"nextSibling")},prev:function(t){return de(t,"previousSibling")},nextAll:function(t){return ge(t,"nextSibling")},prevAll:function(t){return ge(t,"previousSibling")},nextUntil:function(t,i,o){return ge(t,"nextSibling",o)},prevUntil:function(t,i,o){return ge(t,"previousSibling",o)},siblings:function(t){return ye((t.parentNode||{}).firstChild,t)},children:function(t){return ye(t.firstChild)},contents:function(t){return t.contentDocument!=null&&m(t.contentDocument)?t.contentDocument:(Te(t,"template")&&(t=t.content||t),f.merge([],t.childNodes))}},function(t,i){f.fn[t]=function(o,c){var g=f.map(this,i,o);return t.slice(-5)!=="Until"&&(c=o),c&&typeof c=="string"&&(g=f.filter(c,g)),this.length>1&&(gt[t]||f.uniqueSort(g),dt.test(t)&&g.reverse()),this.pushStack(g)}});var Xe=/[^\x20\t\r\n\f]+/g;function ht(t){var i={};return f.each(t.match(Xe)||[],function(o,c){i[c]=!0}),i}f.Callbacks=function(t){t=typeof t=="string"?ht(t):f.extend({},t);var i,o,c,g,v=[],_=[],k=-1,O=function(){for(g=g||t.once,c=i=!0;_.length;k=-1)for(o=_.shift();++k<v.length;)v[k].apply(o[0],o[1])===!1&&t.stopOnFalse&&(k=v.length,o=!1);t.memory||(o=!1),i=!1,g&&(o?v=[]:v="")},I={add:function(){return v&&(o&&!i&&(k=v.length-1,_.push(o)),function B(Y){f.each(Y,function(q,G){Z(G)?(!t.unique||!I.has(G))&&v.push(G):G&&G.length&&Ee(G)!=="string"&&B(G)})}(arguments),o&&!i&&O()),this},remove:function(){return f.each(arguments,function(B,Y){for(var q;(q=f.inArray(Y,v,q))>-1;)v.splice(q,1),q<=k&&k--}),this},has:function(B){return B?f.inArray(B,v)>-1:v.length>0},empty:function(){return v&&(v=[]),this},disable:function(){return g=_=[],v=o="",this},disabled:function(){return!v},lock:function(){return g=_=[],!o&&!i&&(v=o=""),this},locked:function(){return!!g},fireWith:function(B,Y){return g||(Y=Y||[],Y=[B,Y.slice?Y.slice():Y],_.push(Y),i||O()),this},fire:function(){return I.fireWith(this,arguments),this},fired:function(){return!!c}};return I};function De(t){return t}function pt(t){throw t}function Kr(t,i,o,c){var g;try{t&&Z(g=t.promise)?g.call(t).done(i).fail(o):t&&Z(g=t.then)?g.call(t,i,o):i.apply(void 0,[t].slice(c))}catch(v){o.apply(void 0,[v])}}f.extend({Deferred:function(t){var i=[["notify","progress",f.Callbacks("memory"),f.Callbacks("memory"),2],["resolve","done",f.Callbacks("once memory"),f.Callbacks("once memory"),0,"resolved"],["reject","fail",f.Callbacks("once memory"),f.Callbacks("once memory"),1,"rejected"]],o="pending",c={state:function(){return o},always:function(){return g.done(arguments).fail(arguments),this},catch:function(v){return c.then(null,v)},pipe:function(){var v=arguments;return f.Deferred(function(_){f.each(i,function(k,O){var I=Z(v[O[4]])&&v[O[4]];g[O[1]](function(){var B=I&&I.apply(this,arguments);B&&Z(B.promise)?B.promise().progress(_.notify).done(_.resolve).fail(_.reject):_[O[0]+"With"](this,I?[B]:arguments)})}),v=null}).promise()},then:function(v,_,k){var O=0;function I(B,Y,q,G){return function(){var Ae=this,je=arguments,xe=function(){var et,$t;if(!(B<O)){if(et=q.apply(Ae,je),et===Y.promise())throw new TypeError("Thenable self-resolution");$t=et&&(typeof et=="object"||typeof et=="function")&&et.then,Z($t)?G?$t.call(et,I(O,Y,De,G),I(O,Y,pt,G)):(O++,$t.call(et,I(O,Y,De,G),I(O,Y,pt,G),I(O,Y,De,Y.notifyWith))):(q!==De&&(Ae=void 0,je=[et]),(G||Y.resolveWith)(Ae,je))}},lt=G?xe:function(){try{xe()}catch(et){f.Deferred.exceptionHook&&f.Deferred.exceptionHook(et,lt.error),B+1>=O&&(q!==pt&&(Ae=void 0,je=[et]),Y.rejectWith(Ae,je))}};B?lt():(f.Deferred.getErrorHook?lt.error=f.Deferred.getErrorHook():f.Deferred.getStackHook&&(lt.error=f.Deferred.getStackHook()),e.setTimeout(lt))}}return f.Deferred(function(B){i[0][3].add(I(0,B,Z(k)?k:De,B.notifyWith)),i[1][3].add(I(0,B,Z(v)?v:De)),i[2][3].add(I(0,B,Z(_)?_:pt))}).promise()},promise:function(v){return v!=null?f.extend(v,c):c}},g={};return f.each(i,function(v,_){var k=_[2],O=_[5];c[_[1]]=k.add,O&&k.add(function(){o=O},i[3-v][2].disable,i[3-v][3].disable,i[0][2].lock,i[0][3].lock),k.add(_[3].fire),g[_[0]]=function(){return g[_[0]+"With"](this===g?void 0:this,arguments),this},g[_[0]+"With"]=k.fireWith}),c.promise(g),t&&t.call(g,g),g},when:function(t){var i=arguments.length,o=i,c=Array(o),g=S.call(arguments),v=f.Deferred(),_=function(k){return function(O){c[k]=this,g[k]=arguments.length>1?S.call(arguments):O,--i||v.resolveWith(c,g)}};if(i<=1&&(Kr(t,v.done(_(o)).resolve,v.reject,!i),v.state()==="pending"||Z(g[o]&&g[o].then)))return v.then();for(;o--;)Kr(g[o],_(o),v.reject);return v.promise()}});var un=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;f.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&un.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},f.readyException=function(t){e.setTimeout(function(){throw t})};var Gn=f.Deferred();f.fn.ready=function(t){return Gn.then(t).catch(function(i){f.readyException(i)}),this},f.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--f.readyWait:f.isReady)||(f.isReady=!0,!(t!==!0&&--f.readyWait>0)&&Gn.resolveWith(se,[f]))}}),f.ready.then=Gn.then;function Pn(){se.removeEventListener("DOMContentLoaded",Pn),e.removeEventListener("load",Pn),f.ready()}se.readyState==="complete"||se.readyState!=="loading"&&!se.documentElement.doScroll?e.setTimeout(f.ready):(se.addEventListener("DOMContentLoaded",Pn),e.addEventListener("load",Pn));var qt=function(t,i,o,c,g,v,_){var k=0,O=t.length,I=o==null;if(Ee(o)==="object"){g=!0;for(k in o)qt(t,i,k,o[k],!0,v,_)}else if(c!==void 0&&(g=!0,Z(c)||(_=!0),I&&(_?(i.call(t,c),i=null):(I=i,i=function(B,Y,q){return I.call(f(B),q)})),i))for(;k<O;k++)i(t[k],o,_?c:c.call(t[k],k,i(t[k],o)));return g?t:I?i.call(t):O?i(t[0],o):v},Ti=/^-ms-/,Bt=/-([a-z])/g;function vt(t,i){return i.toUpperCase()}function bt(t){return t.replace(Ti,"ms-").replace(Bt,vt)}var kt=function(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType};function zt(){this.expando=f.expando+zt.uid++}zt.uid=1,zt.prototype={cache:function(t){var i=t[this.expando];return i||(i={},kt(t)&&(t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,configurable:!0}))),i},set:function(t,i,o){var c,g=this.cache(t);if(typeof i=="string")g[bt(i)]=o;else for(c in i)g[bt(c)]=i[c];return g},get:function(t,i){return i===void 0?this.cache(t):t[this.expando]&&t[this.expando][bt(i)]},access:function(t,i,o){return i===void 0||i&&typeof i=="string"&&o===void 0?this.get(t,i):(this.set(t,i,o),o!==void 0?o:i)},remove:function(t,i){var o,c=t[this.expando];if(c!==void 0){if(i!==void 0)for(Array.isArray(i)?i=i.map(bt):(i=bt(i),i=i in c?[i]:i.match(Xe)||[]),o=i.length;o--;)delete c[i[o]];(i===void 0||f.isEmptyObject(c))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var i=t[this.expando];return i!==void 0&&!f.isEmptyObject(i)}};var pe=new zt,ot=new zt,Qn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_n=/[A-Z]/g;function Si(t){return t==="true"?!0:t==="false"?!1:t==="null"?null:t===+t+""?+t:Qn.test(t)?JSON.parse(t):t}function vr(t,i,o){var c;if(o===void 0&&t.nodeType===1)if(c="data-"+i.replace(_n,"-$&").toLowerCase(),o=t.getAttribute(c),typeof o=="string"){try{o=Si(o)}catch{}ot.set(t,i,o)}else o=void 0;return o}f.extend({hasData:function(t){return ot.hasData(t)||pe.hasData(t)},data:function(t,i,o){return ot.access(t,i,o)},removeData:function(t,i){ot.remove(t,i)},_data:function(t,i,o){return pe.access(t,i,o)},_removeData:function(t,i){pe.remove(t,i)}}),f.fn.extend({data:function(t,i){var o,c,g,v=this[0],_=v&&v.attributes;if(t===void 0){if(this.length&&(g=ot.get(v),v.nodeType===1&&!pe.get(v,"hasDataAttrs"))){for(o=_.length;o--;)_[o]&&(c=_[o].name,c.indexOf("data-")===0&&(c=bt(c.slice(5)),vr(v,c,g[c])));pe.set(v,"hasDataAttrs",!0)}return g}return typeof t=="object"?this.each(function(){ot.set(this,t)}):qt(this,function(k){var O;if(v&&k===void 0)return O=ot.get(v,t),O!==void 0||(O=vr(v,t),O!==void 0)?O:void 0;this.each(function(){ot.set(this,t,k)})},null,i,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ot.remove(this,t)})}}),f.extend({queue:function(t,i,o){var c;if(t)return i=(i||"fx")+"queue",c=pe.get(t,i),o&&(!c||Array.isArray(o)?c=pe.access(t,i,f.makeArray(o)):c.push(o)),c||[]},dequeue:function(t,i){i=i||"fx";var o=f.queue(t,i),c=o.length,g=o.shift(),v=f._queueHooks(t,i),_=function(){f.dequeue(t,i)};g==="inprogress"&&(g=o.shift(),c--),g&&(i==="fx"&&o.unshift("inprogress"),delete v.stop,g.call(t,_,v)),!c&&v&&v.empty.fire()},_queueHooks:function(t,i){var o=i+"queueHooks";return pe.get(t,o)||pe.access(t,o,{empty:f.Callbacks("once memory").add(function(){pe.remove(t,[i+"queue",o])})})}}),f.fn.extend({queue:function(t,i){var o=2;return typeof t!="string"&&(i=t,t="fx",o--),arguments.length<o?f.queue(this[0],t):i===void 0?this:this.each(function(){var c=f.queue(this,t,i);f._queueHooks(this,t),t==="fx"&&c[0]!=="inprogress"&&f.dequeue(this,t)})},dequeue:function(t){return this.each(function(){f.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var o,c=1,g=f.Deferred(),v=this,_=this.length,k=function(){--c||g.resolveWith(v,[v])};for(typeof t!="string"&&(i=t,t=void 0),t=t||"fx";_--;)o=pe.get(v[_],t+"queueHooks"),o&&o.empty&&(c++,o.empty.add(k));return k(),g.promise(i)}});var wn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,En=new RegExp("^(?:([+-])=|)("+wn+")([a-z%]*)$","i"),Kt=["Top","Right","Bottom","Left"],_t=se.documentElement,me=function(t){return f.contains(t.ownerDocument,t)},yr={composed:!0};_t.getRootNode&&(me=function(t){return f.contains(t.ownerDocument,t)||t.getRootNode(yr)===t.ownerDocument});var Xt=function(t,i){return t=i||t,t.style.display==="none"||t.style.display===""&&me(t)&&f.css(t,"display")==="none"};function br(t,i,o,c){var g,v,_=20,k=c?function(){return c.cur()}:function(){return f.css(t,i,"")},O=k(),I=o&&o[3]||(f.cssNumber[i]?"":"px"),B=t.nodeType&&(f.cssNumber[i]||I!=="px"&&+O)&&En.exec(f.css(t,i));if(B&&B[3]!==I){for(O=O/2,I=I||B[3],B=+O||1;_--;)f.style(t,i,B+I),(1-v)*(1-(v=k()/O||.5))<=0&&(_=0),B=B/v;B=B*2,f.style(t,i,B+I),o=o||[]}return o&&(B=+B||+O||0,g=o[1]?B+(o[1]+1)*o[2]:+o[2],c&&(c.unit=I,c.start=B,c.end=g)),g}var ce={};function Ai(t){var i,o=t.ownerDocument,c=t.nodeName,g=ce[c];return g||(i=o.body.appendChild(o.createElement(c)),g=f.css(i,"display"),i.parentNode.removeChild(i),g==="none"&&(g="block"),ce[c]=g,g)}function In(t,i){for(var o,c,g=[],v=0,_=t.length;v<_;v++)c=t[v],c.style&&(o=c.style.display,i?(o==="none"&&(g[v]=pe.get(c,"display")||null,g[v]||(c.style.display="")),c.style.display===""&&Xt(c)&&(g[v]=Ai(c))):o!=="none"&&(g[v]="none",pe.set(c,"display",o)));for(v=0;v<_;v++)g[v]!=null&&(t[v].style.display=g[v]);return t}f.fn.extend({show:function(){return In(this,!0)},hide:function(){return In(this)},toggle:function(t){return typeof t=="boolean"?t?this.show():this.hide():this.each(function(){Xt(this)?f(this).show():f(this).hide()})}});var Rn=/^(?:checkbox|radio)$/i,Ci=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Fr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var t=se.createDocumentFragment(),i=t.appendChild(se.createElement("div")),o=se.createElement("input");o.setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","t"),i.appendChild(o),J.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,i.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!i.cloneNode(!0).lastChild.defaultValue,i.innerHTML="<option></option>",J.option=!!i.lastChild})();var Lt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td,J.option||(Lt.optgroup=Lt.option=[1,"<select multiple='multiple'>","</select>"]);function wt(t,i){var o;return typeof t.getElementsByTagName<"u"?o=t.getElementsByTagName(i||"*"):typeof t.querySelectorAll<"u"?o=t.querySelectorAll(i||"*"):o=[],i===void 0||i&&Te(t,i)?f.merge([t],o):o}function Tn(t,i){for(var o=0,c=t.length;o<c;o++)pe.set(t[o],"globalEval",!i||pe.get(i[o],"globalEval"))}var Jn=/<|&#?\w+;/;function Yr(t,i,o,c,g){for(var v,_,k,O,I,B,Y=i.createDocumentFragment(),q=[],G=0,Ae=t.length;G<Ae;G++)if(v=t[G],v||v===0)if(Ee(v)==="object")f.merge(q,v.nodeType?[v]:v);else if(!Jn.test(v))q.push(i.createTextNode(v));else{for(_=_||Y.appendChild(i.createElement("div")),k=(Ci.exec(v)||["",""])[1].toLowerCase(),O=Lt[k]||Lt._default,_.innerHTML=O[1]+f.htmlPrefilter(v)+O[2],B=O[0];B--;)_=_.lastChild;f.merge(q,_.childNodes),_=Y.firstChild,_.textContent=""}for(Y.textContent="",G=0;v=q[G++];){if(c&&f.inArray(v,c)>-1){g&&g.push(v);continue}if(I=me(v),_=wt(Y.appendChild(v),"script"),I&&Tn(_),o)for(B=0;v=_[B++];)Fr.test(v.type||"")&&o.push(v)}return Y}var _r=/^([^.]*)(?:\.(.+)|)/;function ze(){return!0}function tt(){return!1}function xi(t,i,o,c,g,v){var _,k;if(typeof i=="object"){typeof o!="string"&&(c=c||o,o=void 0);for(k in i)xi(t,k,o,c,i[k],v);return t}if(c==null&&g==null?(g=o,c=o=void 0):g==null&&(typeof o=="string"?(g=c,c=void 0):(g=c,c=o,o=void 0)),g===!1)g=tt;else if(!g)return t;return v===1&&(_=g,g=function(O){return f().off(O),_.apply(this,arguments)},g.guid=_.guid||(_.guid=f.guid++)),t.each(function(){f.event.add(this,i,g,c,o)})}f.event={global:{},add:function(t,i,o,c,g){var v,_,k,O,I,B,Y,q,G,Ae,je,xe=pe.get(t);if(kt(t))for(o.handler&&(v=o,o=v.handler,g=v.selector),g&&f.find.matchesSelector(_t,g),o.guid||(o.guid=f.guid++),(O=xe.events)||(O=xe.events=Object.create(null)),(_=xe.handle)||(_=xe.handle=function(lt){return typeof f<"u"&&f.event.triggered!==lt.type?f.event.dispatch.apply(t,arguments):void 0}),i=(i||"").match(Xe)||[""],I=i.length;I--;)k=_r.exec(i[I])||[],G=je=k[1],Ae=(k[2]||"").split(".").sort(),G&&(Y=f.event.special[G]||{},G=(g?Y.delegateType:Y.bindType)||G,Y=f.event.special[G]||{},B=f.extend({type:G,origType:je,data:c,handler:o,guid:o.guid,selector:g,needsContext:g&&f.expr.match.needsContext.test(g),namespace:Ae.join(".")},v),(q=O[G])||(q=O[G]=[],q.delegateCount=0,(!Y.setup||Y.setup.call(t,c,Ae,_)===!1)&&t.addEventListener&&t.addEventListener(G,_)),Y.add&&(Y.add.call(t,B),B.handler.guid||(B.handler.guid=o.guid)),g?q.splice(q.delegateCount++,0,B):q.push(B),f.event.global[G]=!0)},remove:function(t,i,o,c,g){var v,_,k,O,I,B,Y,q,G,Ae,je,xe=pe.hasData(t)&&pe.get(t);if(!(!xe||!(O=xe.events))){for(i=(i||"").match(Xe)||[""],I=i.length;I--;){if(k=_r.exec(i[I])||[],G=je=k[1],Ae=(k[2]||"").split(".").sort(),!G){for(G in O)f.event.remove(t,G+i[I],o,c,!0);continue}for(Y=f.event.special[G]||{},G=(c?Y.delegateType:Y.bindType)||G,q=O[G]||[],k=k[2]&&new RegExp("(^|\\.)"+Ae.join("\\.(?:.*\\.|)")+"(\\.|$)"),_=v=q.length;v--;)B=q[v],(g||je===B.origType)&&(!o||o.guid===B.guid)&&(!k||k.test(B.namespace))&&(!c||c===B.selector||c==="**"&&B.selector)&&(q.splice(v,1),B.selector&&q.delegateCount--,Y.remove&&Y.remove.call(t,B));_&&!q.length&&((!Y.teardown||Y.teardown.call(t,Ae,xe.handle)===!1)&&f.removeEvent(t,G,xe.handle),delete O[G])}f.isEmptyObject(O)&&pe.remove(t,"handle events")}},dispatch:function(t){var i,o,c,g,v,_,k=new Array(arguments.length),O=f.event.fix(t),I=(pe.get(this,"events")||Object.create(null))[O.type]||[],B=f.event.special[O.type]||{};for(k[0]=O,i=1;i<arguments.length;i++)k[i]=arguments[i];if(O.delegateTarget=this,!(B.preDispatch&&B.preDispatch.call(this,O)===!1)){for(_=f.event.handlers.call(this,O,I),i=0;(g=_[i++])&&!O.isPropagationStopped();)for(O.currentTarget=g.elem,o=0;(v=g.handlers[o++])&&!O.isImmediatePropagationStopped();)(!O.rnamespace||v.namespace===!1||O.rnamespace.test(v.namespace))&&(O.handleObj=v,O.data=v.data,c=((f.event.special[v.origType]||{}).handle||v.handler).apply(g.elem,k),c!==void 0&&(O.result=c)===!1&&(O.preventDefault(),O.stopPropagation()));return B.postDispatch&&B.postDispatch.call(this,O),O.result}},handlers:function(t,i){var o,c,g,v,_,k=[],O=i.delegateCount,I=t.target;if(O&&I.nodeType&&!(t.type==="click"&&t.button>=1)){for(;I!==this;I=I.parentNode||this)if(I.nodeType===1&&!(t.type==="click"&&I.disabled===!0)){for(v=[],_={},o=0;o<O;o++)c=i[o],g=c.selector+" ",_[g]===void 0&&(_[g]=c.needsContext?f(g,this).index(I)>-1:f.find(g,this,null,[I]).length),_[g]&&v.push(c);v.length&&k.push({elem:I,handlers:v})}}return I=this,O<i.length&&k.push({elem:I,handlers:i.slice(O)}),k},addProp:function(t,i){Object.defineProperty(f.Event.prototype,t,{enumerable:!0,configurable:!0,get:Z(i)?function(){if(this.originalEvent)return i(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(o){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:o})}})},fix:function(t){return t[f.expando]?t:new f.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var i=this||t;return Rn.test(i.type)&&i.click&&Te(i,"input")&&Mn(i,"click",!0),!1},trigger:function(t){var i=this||t;return Rn.test(i.type)&&i.click&&Te(i,"input")&&Mn(i,"click"),!0},_default:function(t){var i=t.target;return Rn.test(i.type)&&i.click&&Te(i,"input")&&pe.get(i,"click")||Te(i,"a")}},beforeunload:{postDispatch:function(t){t.result!==void 0&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}};function Mn(t,i,o){if(!o){pe.get(t,i)===void 0&&f.event.add(t,i,ze);return}pe.set(t,i,!1),f.event.add(t,i,{namespace:!1,handler:function(c){var g,v=pe.get(this,i);if(c.isTrigger&1&&this[i]){if(v)(f.event.special[i]||{}).delegateType&&c.stopPropagation();else if(v=S.call(arguments),pe.set(this,i,v),this[i](),g=pe.get(this,i),pe.set(this,i,!1),v!==g)return c.stopImmediatePropagation(),c.preventDefault(),g}else v&&(pe.set(this,i,f.event.trigger(v[0],v.slice(1),this)),c.stopPropagation(),c.isImmediatePropagationStopped=ze)}})}f.removeEvent=function(t,i,o){t.removeEventListener&&t.removeEventListener(i,o)},f.Event=function(t,i){if(!(this instanceof f.Event))return new f.Event(t,i);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===void 0&&t.returnValue===!1?ze:tt,this.target=t.target&&t.target.nodeType===3?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,i&&f.extend(this,i),this.timeStamp=t&&t.timeStamp||Date.now(),this[f.expando]=!0},f.Event.prototype={constructor:f.Event,isDefaultPrevented:tt,isPropagationStopped:tt,isImmediatePropagationStopped:tt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=ze,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=ze,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=ze,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},f.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},f.event.addProp),f.each({focus:"focusin",blur:"focusout"},function(t,i){function o(c){if(se.documentMode){var g=pe.get(this,"handle"),v=f.event.fix(c);v.type=c.type==="focusin"?"focus":"blur",v.isSimulated=!0,g(c),v.target===v.currentTarget&&g(v)}else f.event.simulate(i,c.target,f.event.fix(c))}f.event.special[t]={setup:function(){var c;if(Mn(this,t,!0),se.documentMode)c=pe.get(this,i),c||this.addEventListener(i,o),pe.set(this,i,(c||0)+1);else return!1},trigger:function(){return Mn(this,t),!0},teardown:function(){var c;if(se.documentMode)c=pe.get(this,i)-1,c?pe.set(this,i,c):(this.removeEventListener(i,o),pe.remove(this,i));else return!1},_default:function(c){return pe.get(c.target,t)},delegateType:i},f.event.special[i]={setup:function(){var c=this.ownerDocument||this.document||this,g=se.documentMode?this:c,v=pe.get(g,i);v||(se.documentMode?this.addEventListener(i,o):c.addEventListener(t,o,!0)),pe.set(g,i,(v||0)+1)},teardown:function(){var c=this.ownerDocument||this.document||this,g=se.documentMode?this:c,v=pe.get(g,i)-1;v?pe.set(g,i,v):(se.documentMode?this.removeEventListener(i,o):c.removeEventListener(t,o,!0),pe.remove(g,i))}}}),f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,i){f.event.special[t]={delegateType:i,bindType:i,handle:function(o){var c,g=this,v=o.relatedTarget,_=o.handleObj;return(!v||v!==g&&!f.contains(g,v))&&(o.type=_.origType,c=_.handler.apply(this,arguments),o.type=i),c}}}),f.fn.extend({on:function(t,i,o,c){return xi(this,t,i,o,c)},one:function(t,i,o,c){return xi(this,t,i,o,c,1)},off:function(t,i,o){var c,g;if(t&&t.preventDefault&&t.handleObj)return c=t.handleObj,f(t.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if(typeof t=="object"){for(g in t)this.off(g,i,t[g]);return this}return(i===!1||typeof i=="function")&&(o=i,i=void 0),o===!1&&(o=tt),this.each(function(){f.event.remove(this,t,o,i)})}});var Wr=/<script|<style|<link/i,Vr=/checked\s*(?:[^=]|=\s*.checked.)/i,$s=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ln(t,i){return Te(t,"table")&&Te(i.nodeType!==11?i:i.firstChild,"tr")&&f(t).children("tbody")[0]||t}function Zn(t){return t.type=(t.getAttribute("type")!==null)+"/"+t.type,t}function Sn(t){return(t.type||"").slice(0,5)==="true/"?t.type=t.type.slice(5):t.removeAttribute("type"),t}function wr(t,i){var o,c,g,v,_,k,O;if(i.nodeType===1){if(pe.hasData(t)&&(v=pe.get(t),O=v.events,O)){pe.remove(i,"handle events");for(g in O)for(o=0,c=O[g].length;o<c;o++)f.event.add(i,g,O[g][o])}ot.hasData(t)&&(_=ot.access(t),k=f.extend({},_),ot.set(i,k))}}function Ps(t,i){var o=i.nodeName.toLowerCase();o==="input"&&Rn.test(t.type)?i.checked=t.checked:(o==="input"||o==="textarea")&&(i.defaultValue=t.defaultValue)}function At(t,i,o,c){i=T(i);var g,v,_,k,O,I,B=0,Y=t.length,q=Y-1,G=i[0],Ae=Z(G);if(Ae||Y>1&&typeof G=="string"&&!J.checkClone&&Vr.test(G))return t.each(function(je){var xe=t.eq(je);Ae&&(i[0]=G.call(this,je,xe.html())),At(xe,i,o,c)});if(Y&&(g=Yr(i,t[0].ownerDocument,!1,t,c),v=g.firstChild,g.childNodes.length===1&&(g=v),v||c)){for(_=f.map(wt(g,"script"),Zn),k=_.length;B<Y;B++)O=g,B!==q&&(O=f.clone(O,!0,!0),k&&f.merge(_,wt(O,"script"))),o.call(t[B],O,B);if(k)for(I=_[_.length-1].ownerDocument,f.map(_,Sn),B=0;B<k;B++)O=_[B],Fr.test(O.type||"")&&!pe.access(O,"globalEval")&&f.contains(I,O)&&(O.src&&(O.type||"").toLowerCase()!=="module"?f._evalUrl&&!O.noModule&&f._evalUrl(O.src,{nonce:O.nonce||O.getAttribute("nonce")},I):Ue(O.textContent.replace($s,""),O,I))}return t}function Oi(t,i,o){for(var c,g=i?f.filter(i,t):t,v=0;(c=g[v])!=null;v++)!o&&c.nodeType===1&&f.cleanData(wt(c)),c.parentNode&&(o&&me(c)&&Tn(wt(c,"script")),c.parentNode.removeChild(c));return t}f.extend({htmlPrefilter:function(t){return t},clone:function(t,i,o){var c,g,v,_,k=t.cloneNode(!0),O=me(t);if(!J.noCloneChecked&&(t.nodeType===1||t.nodeType===11)&&!f.isXMLDoc(t))for(_=wt(k),v=wt(t),c=0,g=v.length;c<g;c++)Ps(v[c],_[c]);if(i)if(o)for(v=v||wt(t),_=_||wt(k),c=0,g=v.length;c<g;c++)wr(v[c],_[c]);else wr(t,k);return _=wt(k,"script"),_.length>0&&Tn(_,!O&&wt(t,"script")),k},cleanData:function(t){for(var i,o,c,g=f.event.special,v=0;(o=t[v])!==void 0;v++)if(kt(o)){if(i=o[pe.expando]){if(i.events)for(c in i.events)g[c]?f.event.remove(o,c):f.removeEvent(o,c,i.handle);o[pe.expando]=void 0}o[ot.expando]&&(o[ot.expando]=void 0)}}}),f.fn.extend({detach:function(t){return Oi(this,t,!0)},remove:function(t){return Oi(this,t)},text:function(t){return qt(this,function(i){return i===void 0?f.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=i)})},null,t,arguments.length)},append:function(){return At(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var i=ln(this,t);i.appendChild(t)}})},prepend:function(){return At(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var i=ln(this,t);i.insertBefore(t,i.firstChild)}})},before:function(){return At(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return At(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,i=0;(t=this[i])!=null;i++)t.nodeType===1&&(f.cleanData(wt(t,!1)),t.textContent="");return this},clone:function(t,i){return t=t??!1,i=i??t,this.map(function(){return f.clone(this,t,i)})},html:function(t){return qt(this,function(i){var o=this[0]||{},c=0,g=this.length;if(i===void 0&&o.nodeType===1)return o.innerHTML;if(typeof i=="string"&&!Wr.test(i)&&!Lt[(Ci.exec(i)||["",""])[1].toLowerCase()]){i=f.htmlPrefilter(i);try{for(;c<g;c++)o=this[c]||{},o.nodeType===1&&(f.cleanData(wt(o,!1)),o.innerHTML=i);o=0}catch{}}o&&this.empty().append(i)},null,t,arguments.length)},replaceWith:function(){var t=[];return At(this,arguments,function(i){var o=this.parentNode;f.inArray(this,t)<0&&(f.cleanData(wt(this)),o&&o.replaceChild(i,this))},t)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,i){f.fn[t]=function(o){for(var c,g=[],v=f(o),_=v.length-1,k=0;k<=_;k++)c=k===_?this:this.clone(!0),f(v[k])[i](c),P.apply(g,c.get());return this.pushStack(g)}});var cn=new RegExp("^("+wn+")(?!px)[a-z%]+$","i"),Ur=/^--/,er=function(t){var i=t.ownerDocument.defaultView;return(!i||!i.opener)&&(i=e),i.getComputedStyle(t)},rt=function(t,i,o){var c,g,v={};for(g in i)v[g]=t.style[g],t.style[g]=i[g];c=o.call(t);for(g in i)t.style[g]=v[g];return c},jn=new RegExp(Kt.join("|"),"i");(function(){function t(){if(I){O.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",I.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_t.appendChild(O).appendChild(I);var B=e.getComputedStyle(I);o=B.top!=="1%",k=i(B.marginLeft)===12,I.style.right="60%",v=i(B.right)===36,c=i(B.width)===36,I.style.position="absolute",g=i(I.offsetWidth/3)===12,_t.removeChild(O),I=null}}function i(B){return Math.round(parseFloat(B))}var o,c,g,v,_,k,O=se.createElement("div"),I=se.createElement("div");I.style&&(I.style.backgroundClip="content-box",I.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle=I.style.backgroundClip==="content-box",f.extend(J,{boxSizingReliable:function(){return t(),c},pixelBoxStyles:function(){return t(),v},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),k},scrollboxSize:function(){return t(),g},reliableTrDimensions:function(){var B,Y,q,G;return _==null&&(B=se.createElement("table"),Y=se.createElement("tr"),q=se.createElement("div"),B.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Y.style.cssText="box-sizing:content-box;border:1px solid",Y.style.height="1px",q.style.height="9px",q.style.display="block",_t.appendChild(B).appendChild(Y).appendChild(q),G=e.getComputedStyle(Y),_=parseInt(G.height,10)+parseInt(G.borderTopWidth,10)+parseInt(G.borderBottomWidth,10)===Y.offsetHeight,_t.removeChild(B)),_}}))})();function Ct(t,i,o){var c,g,v,_,k=Ur.test(i),O=t.style;return o=o||er(t),o&&(_=o.getPropertyValue(i)||o[i],k&&_&&(_=_.replace(ve,"$1")||void 0),_===""&&!me(t)&&(_=f.style(t,i)),!J.pixelBoxStyles()&&cn.test(_)&&jn.test(i)&&(c=O.width,g=O.minWidth,v=O.maxWidth,O.minWidth=O.maxWidth=O.width=_,_=o.width,O.width=c,O.minWidth=g,O.maxWidth=v)),_!==void 0?_+"":_}function Di(t,i){return{get:function(){if(t()){delete this.get;return}return(this.get=i).apply(this,arguments)}}}var Hn=["Webkit","Moz","ms"],Er=se.createElement("div").style,zr={};function Ni(t){for(var i=t[0].toUpperCase()+t.slice(1),o=Hn.length;o--;)if(t=Hn[o]+i,t in Er)return t}function fn(t){var i=f.cssProps[t]||zr[t];return i||(t in Er?t:zr[t]=Ni(t)||t)}var Zi=/^(none|table(?!-c[ea]).+)/,Xr={position:"absolute",visibility:"hidden",display:"block"},ki={letterSpacing:"0",fontWeight:"400"};function He(t,i,o){var c=En.exec(i);return c?Math.max(0,c[2]-(o||0))+(c[3]||"px"):i}function Gr(t,i,o,c,g,v){var _=i==="width"?1:0,k=0,O=0,I=0;if(o===(c?"border":"content"))return 0;for(;_<4;_+=2)o==="margin"&&(I+=f.css(t,o+Kt[_],!0,g)),c?(o==="content"&&(O-=f.css(t,"padding"+Kt[_],!0,g)),o!=="margin"&&(O-=f.css(t,"border"+Kt[_]+"Width",!0,g))):(O+=f.css(t,"padding"+Kt[_],!0,g),o!=="padding"?O+=f.css(t,"border"+Kt[_]+"Width",!0,g):k+=f.css(t,"border"+Kt[_]+"Width",!0,g));return!c&&v>=0&&(O+=Math.max(0,Math.ceil(t["offset"+i[0].toUpperCase()+i.slice(1)]-v-O-k-.5))||0),O+I}function Li(t,i,o){var c=er(t),g=!J.boxSizingReliable()||o,v=g&&f.css(t,"boxSizing",!1,c)==="border-box",_=v,k=Ct(t,i,c),O="offset"+i[0].toUpperCase()+i.slice(1);if(cn.test(k)){if(!o)return k;k="auto"}return(!J.boxSizingReliable()&&v||!J.reliableTrDimensions()&&Te(t,"tr")||k==="auto"||!parseFloat(k)&&f.css(t,"display",!1,c)==="inline")&&t.getClientRects().length&&(v=f.css(t,"boxSizing",!1,c)==="border-box",_=O in t,_&&(k=t[O])),k=parseFloat(k)||0,k+Gr(t,i,o||(v?"border":"content"),_,c,k)+"px"}f.extend({cssHooks:{opacity:{get:function(t,i){if(i){var o=Ct(t,"opacity");return o===""?"1":o}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,i,o,c){if(!(!t||t.nodeType===3||t.nodeType===8||!t.style)){var g,v,_,k=bt(i),O=Ur.test(i),I=t.style;if(O||(i=fn(k)),_=f.cssHooks[i]||f.cssHooks[k],o!==void 0){if(v=typeof o,v==="string"&&(g=En.exec(o))&&g[1]&&(o=br(t,i,g),v="number"),o==null||o!==o)return;v==="number"&&!O&&(o+=g&&g[3]||(f.cssNumber[k]?"":"px")),!J.clearCloneStyle&&o===""&&i.indexOf("background")===0&&(I[i]="inherit"),(!_||!("set"in _)||(o=_.set(t,o,c))!==void 0)&&(O?I.setProperty(i,o):I[i]=o)}else return _&&"get"in _&&(g=_.get(t,!1,c))!==void 0?g:I[i]}},css:function(t,i,o,c){var g,v,_,k=bt(i),O=Ur.test(i);return O||(i=fn(k)),_=f.cssHooks[i]||f.cssHooks[k],_&&"get"in _&&(g=_.get(t,!0,o)),g===void 0&&(g=Ct(t,i,c)),g==="normal"&&i in ki&&(g=ki[i]),o===""||o?(v=parseFloat(g),o===!0||isFinite(v)?v||0:g):g}}),f.each(["height","width"],function(t,i){f.cssHooks[i]={get:function(o,c,g){if(c)return Zi.test(f.css(o,"display"))&&(!o.getClientRects().length||!o.getBoundingClientRect().width)?rt(o,Xr,function(){return Li(o,i,g)}):Li(o,i,g)},set:function(o,c,g){var v,_=er(o),k=!J.scrollboxSize()&&_.position==="absolute",O=k||g,I=O&&f.css(o,"boxSizing",!1,_)==="border-box",B=g?Gr(o,i,g,I,_):0;return I&&k&&(B-=Math.ceil(o["offset"+i[0].toUpperCase()+i.slice(1)]-parseFloat(_[i])-Gr(o,i,"border",!1,_)-.5)),B&&(v=En.exec(c))&&(v[3]||"px")!=="px"&&(o.style[i]=c,c=f.css(o,i)),He(o,c,B)}}}),f.cssHooks.marginLeft=Di(J.reliableMarginLeft,function(t,i){if(i)return(parseFloat(Ct(t,"marginLeft"))||t.getBoundingClientRect().left-rt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),f.each({margin:"",padding:"",border:"Width"},function(t,i){f.cssHooks[t+i]={expand:function(o){for(var c=0,g={},v=typeof o=="string"?o.split(" "):[o];c<4;c++)g[t+Kt[c]+i]=v[c]||v[c-2]||v[0];return g}},t!=="margin"&&(f.cssHooks[t+i].set=He)}),f.fn.extend({css:function(t,i){return qt(this,function(o,c,g){var v,_,k={},O=0;if(Array.isArray(c)){for(v=er(o),_=c.length;O<_;O++)k[c[O]]=f.css(o,c[O],!1,v);return k}return g!==void 0?f.style(o,c,g):f.css(o,c)},t,i,arguments.length>1)}});function yt(t,i,o,c,g){return new yt.prototype.init(t,i,o,c,g)}f.Tween=yt,yt.prototype={constructor:yt,init:function(t,i,o,c,g,v){this.elem=t,this.prop=o,this.easing=g||f.easing._default,this.options=i,this.start=this.now=this.cur(),this.end=c,this.unit=v||(f.cssNumber[o]?"":"px")},cur:function(){var t=yt.propHooks[this.prop];return t&&t.get?t.get(this):yt.propHooks._default.get(this)},run:function(t){var i,o=yt.propHooks[this.prop];return this.options.duration?this.pos=i=f.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=i=t,this.now=(this.end-this.start)*i+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):yt.propHooks._default.set(this),this}},yt.prototype.init.prototype=yt.prototype,yt.propHooks={_default:{get:function(t){var i;return t.elem.nodeType!==1||t.elem[t.prop]!=null&&t.elem.style[t.prop]==null?t.elem[t.prop]:(i=f.css(t.elem,t.prop,""),!i||i==="auto"?0:i)},set:function(t){f.fx.step[t.prop]?f.fx.step[t.prop](t):t.elem.nodeType===1&&(f.cssHooks[t.prop]||t.elem.style[fn(t.prop)]!=null)?f.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},yt.propHooks.scrollTop=yt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},f.easing={linear:function(t){return t},swing:function(t){return .5-Math.cos(t*Math.PI)/2},_default:"swing"},f.fx=yt.prototype.init,f.fx.step={};var We,An,Tr=/^(?:toggle|show|hide)$/,tr=/queueHooks$/;function Sr(){An&&(se.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Sr):e.setTimeout(Sr,f.fx.interval),f.fx.tick())}function Qr(){return e.setTimeout(function(){We=void 0}),We=Date.now()}function qn(t,i){var o,c=0,g={height:t};for(i=i?1:0;c<4;c+=2-i)o=Kt[c],g["margin"+o]=g["padding"+o]=t;return i&&(g.opacity=g.width=t),g}function $i(t,i,o){for(var c,g=(ut.tweeners[i]||[]).concat(ut.tweeners["*"]),v=0,_=g.length;v<_;v++)if(c=g[v].call(o,i,t))return c}function Jr(t,i,o){var c,g,v,_,k,O,I,B,Y="width"in i||"height"in i,q=this,G={},Ae=t.style,je=t.nodeType&&Xt(t),xe=pe.get(t,"fxshow");o.queue||(_=f._queueHooks(t,"fx"),_.unqueued==null&&(_.unqueued=0,k=_.empty.fire,_.empty.fire=function(){_.unqueued||k()}),_.unqueued++,q.always(function(){q.always(function(){_.unqueued--,f.queue(t,"fx").length||_.empty.fire()})}));for(c in i)if(g=i[c],Tr.test(g)){if(delete i[c],v=v||g==="toggle",g===(je?"hide":"show"))if(g==="show"&&xe&&xe[c]!==void 0)je=!0;else continue;G[c]=xe&&xe[c]||f.style(t,c)}if(O=!f.isEmptyObject(i),!(!O&&f.isEmptyObject(G))){Y&&t.nodeType===1&&(o.overflow=[Ae.overflow,Ae.overflowX,Ae.overflowY],I=xe&&xe.display,I==null&&(I=pe.get(t,"display")),B=f.css(t,"display"),B==="none"&&(I?B=I:(In([t],!0),I=t.style.display||I,B=f.css(t,"display"),In([t]))),(B==="inline"||B==="inline-block"&&I!=null)&&f.css(t,"float")==="none"&&(O||(q.done(function(){Ae.display=I}),I==null&&(B=Ae.display,I=B==="none"?"":B)),Ae.display="inline-block")),o.overflow&&(Ae.overflow="hidden",q.always(function(){Ae.overflow=o.overflow[0],Ae.overflowX=o.overflow[1],Ae.overflowY=o.overflow[2]})),O=!1;for(c in G)O||(xe?"hidden"in xe&&(je=xe.hidden):xe=pe.access(t,"fxshow",{display:I}),v&&(xe.hidden=!je),je&&In([t],!0),q.done(function(){je||In([t]),pe.remove(t,"fxshow");for(c in G)f.style(t,c,G[c])})),O=$i(je?xe[c]:0,c,q),c in xe||(xe[c]=O.start,je&&(O.end=O.start,O.start=0))}}function es(t,i){var o,c,g,v,_;for(o in t)if(c=bt(o),g=i[c],v=t[o],Array.isArray(v)&&(g=v[1],v=t[o]=v[0]),o!==c&&(t[c]=v,delete t[o]),_=f.cssHooks[c],_&&"expand"in _){v=_.expand(v),delete t[c];for(o in v)o in t||(t[o]=v[o],i[o]=g)}else i[c]=g}function ut(t,i,o){var c,g,v=0,_=ut.prefilters.length,k=f.Deferred().always(function(){delete O.elem}),O=function(){if(g)return!1;for(var Y=We||Qr(),q=Math.max(0,I.startTime+I.duration-Y),G=q/I.duration||0,Ae=1-G,je=0,xe=I.tweens.length;je<xe;je++)I.tweens[je].run(Ae);return k.notifyWith(t,[I,Ae,q]),Ae<1&&xe?q:(xe||k.notifyWith(t,[I,1,0]),k.resolveWith(t,[I]),!1)},I=k.promise({elem:t,props:f.extend({},i),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},o),originalProperties:i,originalOptions:o,startTime:We||Qr(),duration:o.duration,tweens:[],createTween:function(Y,q){var G=f.Tween(t,I.opts,Y,q,I.opts.specialEasing[Y]||I.opts.easing);return I.tweens.push(G),G},stop:function(Y){var q=0,G=Y?I.tweens.length:0;if(g)return this;for(g=!0;q<G;q++)I.tweens[q].run(1);return Y?(k.notifyWith(t,[I,1,0]),k.resolveWith(t,[I,Y])):k.rejectWith(t,[I,Y]),this}}),B=I.props;for(es(B,I.opts.specialEasing);v<_;v++)if(c=ut.prefilters[v].call(I,t,B,I.opts),c)return Z(c.stop)&&(f._queueHooks(I.elem,I.opts.queue).stop=c.stop.bind(c)),c;return f.map(B,$i,I),Z(I.opts.start)&&I.opts.start.call(t,I),I.progress(I.opts.progress).done(I.opts.done,I.opts.complete).fail(I.opts.fail).always(I.opts.always),f.fx.timer(f.extend(O,{elem:t,anim:I,queue:I.opts.queue})),I}f.Animation=f.extend(ut,{tweeners:{"*":[function(t,i){var o=this.createTween(t,i);return br(o.elem,t,En.exec(i),o),o}]},tweener:function(t,i){Z(t)?(i=t,t=["*"]):t=t.match(Xe);for(var o,c=0,g=t.length;c<g;c++)o=t[c],ut.tweeners[o]=ut.tweeners[o]||[],ut.tweeners[o].unshift(i)},prefilters:[Jr],prefilter:function(t,i){i?ut.prefilters.unshift(t):ut.prefilters.push(t)}}),f.speed=function(t,i,o){var c=t&&typeof t=="object"?f.extend({},t):{complete:o||!o&&i||Z(t)&&t,duration:t,easing:o&&i||i&&!Z(i)&&i};return f.fx.off?c.duration=0:typeof c.duration!="number"&&(c.duration in f.fx.speeds?c.duration=f.fx.speeds[c.duration]:c.duration=f.fx.speeds._default),(c.queue==null||c.queue===!0)&&(c.queue="fx"),c.old=c.complete,c.complete=function(){Z(c.old)&&c.old.call(this),c.queue&&f.dequeue(this,c.queue)},c},f.fn.extend({fadeTo:function(t,i,o,c){return this.filter(Xt).css("opacity",0).show().end().animate({opacity:i},t,o,c)},animate:function(t,i,o,c){var g=f.isEmptyObject(t),v=f.speed(i,o,c),_=function(){var k=ut(this,f.extend({},t),v);(g||pe.get(this,"finish"))&&k.stop(!0)};return _.finish=_,g||v.queue===!1?this.each(_):this.queue(v.queue,_)},stop:function(t,i,o){var c=function(g){var v=g.stop;delete g.stop,v(o)};return typeof t!="string"&&(o=i,i=t,t=void 0),i&&this.queue(t||"fx",[]),this.each(function(){var g=!0,v=t!=null&&t+"queueHooks",_=f.timers,k=pe.get(this);if(v)k[v]&&k[v].stop&&c(k[v]);else for(v in k)k[v]&&k[v].stop&&tr.test(v)&&c(k[v]);for(v=_.length;v--;)_[v].elem===this&&(t==null||_[v].queue===t)&&(_[v].anim.stop(o),g=!1,_.splice(v,1));(g||!o)&&f.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var i,o=pe.get(this),c=o[t+"queue"],g=o[t+"queueHooks"],v=f.timers,_=c?c.length:0;for(o.finish=!0,f.queue(this,t,[]),g&&g.stop&&g.stop.call(this,!0),i=v.length;i--;)v[i].elem===this&&v[i].queue===t&&(v[i].anim.stop(!0),v.splice(i,1));for(i=0;i<_;i++)c[i]&&c[i].finish&&c[i].finish.call(this);delete o.finish})}}),f.each(["toggle","show","hide"],function(t,i){var o=f.fn[i];f.fn[i]=function(c,g,v){return c==null||typeof c=="boolean"?o.apply(this,arguments):this.animate(qn(i,!0),c,g,v)}}),f.each({slideDown:qn("show"),slideUp:qn("hide"),slideToggle:qn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){f.fn[t]=function(o,c,g){return this.animate(i,o,c,g)}}),f.timers=[],f.fx.tick=function(){var t,i=0,o=f.timers;for(We=Date.now();i<o.length;i++)t=o[i],!t()&&o[i]===t&&o.splice(i--,1);o.length||f.fx.stop(),We=void 0},f.fx.timer=function(t){f.timers.push(t),f.fx.start()},f.fx.interval=13,f.fx.start=function(){An||(An=!0,Sr())},f.fx.stop=function(){An=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(t,i){return t=f.fx&&f.fx.speeds[t]||t,i=i||"fx",this.queue(i,function(o,c){var g=e.setTimeout(o,t);c.stop=function(){e.clearTimeout(g)}})},function(){var t=se.createElement("input"),i=se.createElement("select"),o=i.appendChild(se.createElement("option"));t.type="checkbox",J.checkOn=t.value!=="",J.optSelected=o.selected,t=se.createElement("input"),t.value="t",t.type="radio",J.radioValue=t.value==="t"}();var nr,rr=f.expr.attrHandle;f.fn.extend({attr:function(t,i){return qt(this,f.attr,t,i,arguments.length>1)},removeAttr:function(t){return this.each(function(){f.removeAttr(this,t)})}}),f.extend({attr:function(t,i,o){var c,g,v=t.nodeType;if(!(v===3||v===8||v===2)){if(typeof t.getAttribute>"u")return f.prop(t,i,o);if((v!==1||!f.isXMLDoc(t))&&(g=f.attrHooks[i.toLowerCase()]||(f.expr.match.bool.test(i)?nr:void 0)),o!==void 0){if(o===null){f.removeAttr(t,i);return}return g&&"set"in g&&(c=g.set(t,o,i))!==void 0?c:(t.setAttribute(i,o+""),o)}return g&&"get"in g&&(c=g.get(t,i))!==null?c:(c=f.find.attr(t,i),c??void 0)}},attrHooks:{type:{set:function(t,i){if(!J.radioValue&&i==="radio"&&Te(t,"input")){var o=t.value;return t.setAttribute("type",i),o&&(t.value=o),i}}}},removeAttr:function(t,i){var o,c=0,g=i&&i.match(Xe);if(g&&t.nodeType===1)for(;o=g[c++];)t.removeAttribute(o)}}),nr={set:function(t,i,o){return i===!1?f.removeAttr(t,o):t.setAttribute(o,o),o}},f.each(f.expr.match.bool.source.match(/\w+/g),function(t,i){var o=rr[i]||f.find.attr;rr[i]=function(c,g,v){var _,k,O=g.toLowerCase();return v||(k=rr[O],rr[O]=_,_=o(c,g,v)!=null?O:null,rr[O]=k),_}});var Is=/^(?:input|select|textarea|button)$/i,Fe=/^(?:a|area)$/i;f.fn.extend({prop:function(t,i){return qt(this,f.prop,t,i,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[f.propFix[t]||t]})}}),f.extend({prop:function(t,i,o){var c,g,v=t.nodeType;if(!(v===3||v===8||v===2))return(v!==1||!f.isXMLDoc(t))&&(i=f.propFix[i]||i,g=f.propHooks[i]),o!==void 0?g&&"set"in g&&(c=g.set(t,o,i))!==void 0?c:t[i]=o:g&&"get"in g&&(c=g.get(t,i))!==null?c:t[i]},propHooks:{tabIndex:{get:function(t){var i=f.find.attr(t,"tabindex");return i?parseInt(i,10):Is.test(t.nodeName)||Fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),J.optSelected||(f.propHooks.selected={get:function(t){var i=t.parentNode;return i&&i.parentNode&&i.parentNode.selectedIndex,null},set:function(t){var i=t.parentNode;i&&(i.selectedIndex,i.parentNode&&i.parentNode.selectedIndex)}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this});function hn(t){var i=t.match(Xe)||[];return i.join(" ")}function Bn(t){return t.getAttribute&&t.getAttribute("class")||""}function Pi(t){return Array.isArray(t)?t:typeof t=="string"?t.match(Xe)||[]:[]}f.fn.extend({addClass:function(t){var i,o,c,g,v,_;return Z(t)?this.each(function(k){f(this).addClass(t.call(this,k,Bn(this)))}):(i=Pi(t),i.length?this.each(function(){if(c=Bn(this),o=this.nodeType===1&&" "+hn(c)+" ",o){for(v=0;v<i.length;v++)g=i[v],o.indexOf(" "+g+" ")<0&&(o+=g+" ");_=hn(o),c!==_&&this.setAttribute("class",_)}}):this)},removeClass:function(t){var i,o,c,g,v,_;return Z(t)?this.each(function(k){f(this).removeClass(t.call(this,k,Bn(this)))}):arguments.length?(i=Pi(t),i.length?this.each(function(){if(c=Bn(this),o=this.nodeType===1&&" "+hn(c)+" ",o){for(v=0;v<i.length;v++)for(g=i[v];o.indexOf(" "+g+" ")>-1;)o=o.replace(" "+g+" "," ");_=hn(o),c!==_&&this.setAttribute("class",_)}}):this):this.attr("class","")},toggleClass:function(t,i){var o,c,g,v,_=typeof t,k=_==="string"||Array.isArray(t);return Z(t)?this.each(function(O){f(this).toggleClass(t.call(this,O,Bn(this),i),i)}):typeof i=="boolean"&&k?i?this.addClass(t):this.removeClass(t):(o=Pi(t),this.each(function(){if(k)for(v=f(this),g=0;g<o.length;g++)c=o[g],v.hasClass(c)?v.removeClass(c):v.addClass(c);else(t===void 0||_==="boolean")&&(c=Bn(this),c&&pe.set(this,"__className__",c),this.setAttribute&&this.setAttribute("class",c||t===!1?"":pe.get(this,"__className__")||""))}))},hasClass:function(t){var i,o,c=0;for(i=" "+t+" ";o=this[c++];)if(o.nodeType===1&&(" "+hn(Bn(o))+" ").indexOf(i)>-1)return!0;return!1}});var xt=/\r/g;f.fn.extend({val:function(t){var i,o,c,g=this[0];return arguments.length?(c=Z(t),this.each(function(v){var _;this.nodeType===1&&(c?_=t.call(this,v,f(this).val()):_=t,_==null?_="":typeof _=="number"?_+="":Array.isArray(_)&&(_=f.map(_,function(k){return k==null?"":k+""})),i=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],(!i||!("set"in i)||i.set(this,_,"value")===void 0)&&(this.value=_))})):g?(i=f.valHooks[g.type]||f.valHooks[g.nodeName.toLowerCase()],i&&"get"in i&&(o=i.get(g,"value"))!==void 0?o:(o=g.value,typeof o=="string"?o.replace(xt,""):o??"")):void 0}}),f.extend({valHooks:{option:{get:function(t){var i=f.find.attr(t,"value");return i??hn(f.text(t))}},select:{get:function(t){var i,o,c,g=t.options,v=t.selectedIndex,_=t.type==="select-one",k=_?null:[],O=_?v+1:g.length;for(v<0?c=O:c=_?v:0;c<O;c++)if(o=g[c],(o.selected||c===v)&&!o.disabled&&(!o.parentNode.disabled||!Te(o.parentNode,"optgroup"))){if(i=f(o).val(),_)return i;k.push(i)}return k},set:function(t,i){for(var o,c,g=t.options,v=f.makeArray(i),_=g.length;_--;)c=g[_],(c.selected=f.inArray(f.valHooks.option.get(c),v)>-1)&&(o=!0);return o||(t.selectedIndex=-1),v}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(t,i){if(Array.isArray(i))return t.checked=f.inArray(f(t).val(),i)>-1}},J.checkOn||(f.valHooks[this].get=function(t){return t.getAttribute("value")===null?"on":t.value})});var Gt=e.location,Ar={guid:Date.now()},Qt=/\?/;f.parseXML=function(t){var i,o;if(!t||typeof t!="string")return null;try{i=new e.DOMParser().parseFromString(t,"text/xml")}catch{}return o=i&&i.getElementsByTagName("parsererror")[0],(!i||o)&&f.error("Invalid XML: "+(o?f.map(o.childNodes,function(c){return c.textContent}).join(`
`):t)),i};var Ii=/^(?:focusinfocus|focusoutblur)$/,Ri=function(t){t.stopPropagation()};f.extend(f.event,{trigger:function(t,i,o,c){var g,v,_,k,O,I,B,Y,q=[o||se],G=W.call(t,"type")?t.type:t,Ae=W.call(t,"namespace")?t.namespace.split("."):[];if(v=Y=_=o=o||se,!(o.nodeType===3||o.nodeType===8)&&!Ii.test(G+f.event.triggered)&&(G.indexOf(".")>-1&&(Ae=G.split("."),G=Ae.shift(),Ae.sort()),O=G.indexOf(":")<0&&"on"+G,t=t[f.expando]?t:new f.Event(G,typeof t=="object"&&t),t.isTrigger=c?2:3,t.namespace=Ae.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+Ae.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),i=i==null?[t]:f.makeArray(i,[t]),B=f.event.special[G]||{},!(!c&&B.trigger&&B.trigger.apply(o,i)===!1))){if(!c&&!B.noBubble&&!_e(o)){for(k=B.delegateType||G,Ii.test(k+G)||(v=v.parentNode);v;v=v.parentNode)q.push(v),_=v;_===(o.ownerDocument||se)&&q.push(_.defaultView||_.parentWindow||e)}for(g=0;(v=q[g++])&&!t.isPropagationStopped();)Y=v,t.type=g>1?k:B.bindType||G,I=(pe.get(v,"events")||Object.create(null))[t.type]&&pe.get(v,"handle"),I&&I.apply(v,i),I=O&&v[O],I&&I.apply&&kt(v)&&(t.result=I.apply(v,i),t.result===!1&&t.preventDefault());return t.type=G,!c&&!t.isDefaultPrevented()&&(!B._default||B._default.apply(q.pop(),i)===!1)&&kt(o)&&O&&Z(o[G])&&!_e(o)&&(_=o[O],_&&(o[O]=null),f.event.triggered=G,t.isPropagationStopped()&&Y.addEventListener(G,Ri),o[G](),t.isPropagationStopped()&&Y.removeEventListener(G,Ri),f.event.triggered=void 0,_&&(o[O]=_)),t.result}},simulate:function(t,i,o){var c=f.extend(new f.Event,o,{type:t,isSimulated:!0});f.event.trigger(c,null,i)}}),f.fn.extend({trigger:function(t,i){return this.each(function(){f.event.trigger(t,i,this)})},triggerHandler:function(t,i){var o=this[0];if(o)return f.event.trigger(t,i,o,!0)}});var ct=/\[\]$/,Ft=/\r?\n/g,Cr=/^(?:submit|button|image|reset|file)$/i,xr=/^(?:input|select|textarea|keygen)/i;function Or(t,i,o,c){var g;if(Array.isArray(i))f.each(i,function(v,_){o||ct.test(t)?c(t,_):Or(t+"["+(typeof _=="object"&&_!=null?v:"")+"]",_,o,c)});else if(!o&&Ee(i)==="object")for(g in i)Or(t+"["+g+"]",i[g],o,c);else c(t,i)}f.param=function(t,i){var o,c=[],g=function(v,_){var k=Z(_)?_():_;c[c.length]=encodeURIComponent(v)+"="+encodeURIComponent(k??"")};if(t==null)return"";if(Array.isArray(t)||t.jquery&&!f.isPlainObject(t))f.each(t,function(){g(this.name,this.value)});else for(o in t)Or(o,t[o],i,g);return c.join("&")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=f.prop(this,"elements");return t?f.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!f(this).is(":disabled")&&xr.test(this.nodeName)&&!Cr.test(t)&&(this.checked||!Rn.test(t))}).map(function(t,i){var o=f(this).val();return o==null?null:Array.isArray(o)?f.map(o,function(c){return{name:i.name,value:c.replace(Ft,`\r
`)}}):{name:i.name,value:o.replace(Ft,`\r
`)}}).get()}});var Cn=/%20/g,Rs=/#.*$/,Jt=/([?&])_=[^&]*/,Mi=/^(.*?):[ \t]*([^\r\n]*)$/mg,ts=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ji=/^(?:GET|HEAD)$/,Dr=/^\/\//,Zr={},ei={},ns="*/".concat("*"),Kn=se.createElement("a");Kn.href=Gt.href;function rs(t){return function(i,o){typeof i!="string"&&(o=i,i="*");var c,g=0,v=i.toLowerCase().match(Xe)||[];if(Z(o))for(;c=v[g++];)c[0]==="+"?(c=c.slice(1)||"*",(t[c]=t[c]||[]).unshift(o)):(t[c]=t[c]||[]).push(o)}}function is(t,i,o,c){var g={},v=t===ei;function _(k){var O;return g[k]=!0,f.each(t[k]||[],function(I,B){var Y=B(i,o,c);if(typeof Y=="string"&&!v&&!g[Y])return i.dataTypes.unshift(Y),_(Y),!1;if(v)return!(O=Y)}),O}return _(i.dataTypes[0])||!g["*"]&&_("*")}function ir(t,i){var o,c,g=f.ajaxSettings.flatOptions||{};for(o in i)i[o]!==void 0&&((g[o]?t:c||(c={}))[o]=i[o]);return c&&f.extend(!0,t,c),t}function ti(t,i,o){for(var c,g,v,_,k=t.contents,O=t.dataTypes;O[0]==="*";)O.shift(),c===void 0&&(c=t.mimeType||i.getResponseHeader("Content-Type"));if(c){for(g in k)if(k[g]&&k[g].test(c)){O.unshift(g);break}}if(O[0]in o)v=O[0];else{for(g in o){if(!O[0]||t.converters[g+" "+O[0]]){v=g;break}_||(_=g)}v=v||_}if(v)return v!==O[0]&&O.unshift(v),o[v]}function Hi(t,i,o,c){var g,v,_,k,O,I={},B=t.dataTypes.slice();if(B[1])for(_ in t.converters)I[_.toLowerCase()]=t.converters[_];for(v=B.shift();v;)if(t.responseFields[v]&&(o[t.responseFields[v]]=i),!O&&c&&t.dataFilter&&(i=t.dataFilter(i,t.dataType)),O=v,v=B.shift(),v){if(v==="*")v=O;else if(O!=="*"&&O!==v){if(_=I[O+" "+v]||I["* "+v],!_){for(g in I)if(k=g.split(" "),k[1]===v&&(_=I[O+" "+k[0]]||I["* "+k[0]],_)){_===!0?_=I[g]:I[g]!==!0&&(v=k[0],B.unshift(k[1]));break}}if(_!==!0)if(_&&t.throws)i=_(i);else try{i=_(i)}catch(Y){return{state:"parsererror",error:_?Y:"No conversion from "+O+" to "+v}}}}return{state:"success",data:i}}f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Gt.href,type:"GET",isLocal:ts.test(Gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ns,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,i){return i?ir(ir(t,f.ajaxSettings),i):ir(f.ajaxSettings,t)},ajaxPrefilter:rs(Zr),ajaxTransport:rs(ei),ajax:function(t,i){typeof t=="object"&&(i=t,t=void 0),i=i||{};var o,c,g,v,_,k,O,I,B,Y,q=f.ajaxSetup({},i),G=q.context||q,Ae=q.context&&(G.nodeType||G.jquery)?f(G):f.event,je=f.Deferred(),xe=f.Callbacks("once memory"),lt=q.statusCode||{},et={},$t={},Pt="canceled",Le={readyState:0,getResponseHeader:function(qe){var it;if(O){if(!v)for(v={};it=Mi.exec(g);)v[it[1].toLowerCase()+" "]=(v[it[1].toLowerCase()+" "]||[]).concat(it[2]);it=v[qe.toLowerCase()+" "]}return it==null?null:it.join(", ")},getAllResponseHeaders:function(){return O?g:null},setRequestHeader:function(qe,it){return O==null&&(qe=$t[qe.toLowerCase()]=$t[qe.toLowerCase()]||qe,et[qe]=it),this},overrideMimeType:function(qe){return O==null&&(q.mimeType=qe),this},statusCode:function(qe){var it;if(qe)if(O)Le.always(qe[Le.status]);else for(it in qe)lt[it]=[lt[it],qe[it]];return this},abort:function(qe){var it=qe||Pt;return o&&o.abort(it),dn(0,it),this}};if(je.promise(Le),q.url=((t||q.url||Gt.href)+"").replace(Dr,Gt.protocol+"//"),q.type=i.method||i.type||q.method||q.type,q.dataTypes=(q.dataType||"*").toLowerCase().match(Xe)||[""],q.crossDomain==null){k=se.createElement("a");try{k.href=q.url,k.href=k.href,q.crossDomain=Kn.protocol+"//"+Kn.host!=k.protocol+"//"+k.host}catch{q.crossDomain=!0}}if(q.data&&q.processData&&typeof q.data!="string"&&(q.data=f.param(q.data,q.traditional)),is(Zr,q,i,Le),O)return Le;I=f.event&&q.global,I&&f.active++===0&&f.event.trigger("ajaxStart"),q.type=q.type.toUpperCase(),q.hasContent=!ji.test(q.type),c=q.url.replace(Rs,""),q.hasContent?q.data&&q.processData&&(q.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(q.data=q.data.replace(Cn,"+")):(Y=q.url.slice(c.length),q.data&&(q.processData||typeof q.data=="string")&&(c+=(Qt.test(c)?"&":"?")+q.data,delete q.data),q.cache===!1&&(c=c.replace(Jt,"$1"),Y=(Qt.test(c)?"&":"?")+"_="+Ar.guid+++Y),q.url=c+Y),q.ifModified&&(f.lastModified[c]&&Le.setRequestHeader("If-Modified-Since",f.lastModified[c]),f.etag[c]&&Le.setRequestHeader("If-None-Match",f.etag[c])),(q.data&&q.hasContent&&q.contentType!==!1||i.contentType)&&Le.setRequestHeader("Content-Type",q.contentType),Le.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+(q.dataTypes[0]!=="*"?", "+ns+"; q=0.01":""):q.accepts["*"]);for(B in q.headers)Le.setRequestHeader(B,q.headers[B]);if(q.beforeSend&&(q.beforeSend.call(G,Le,q)===!1||O))return Le.abort();if(Pt="abort",xe.add(q.complete),Le.done(q.success),Le.fail(q.error),o=is(ei,q,i,Le),!o)dn(-1,"No Transport");else{if(Le.readyState=1,I&&Ae.trigger("ajaxSend",[Le,q]),O)return Le;q.async&&q.timeout>0&&(_=e.setTimeout(function(){Le.abort("timeout")},q.timeout));try{O=!1,o.send(et,dn)}catch(qe){if(O)throw qe;dn(-1,qe)}}function dn(qe,it,Fn,sr){var Zt,Yn,It,xn,pn,Rt=it;O||(O=!0,_&&e.clearTimeout(_),o=void 0,g=sr||"",Le.readyState=qe>0?4:0,Zt=qe>=200&&qe<300||qe===304,Fn&&(xn=ti(q,Le,Fn)),!Zt&&f.inArray("script",q.dataTypes)>-1&&f.inArray("json",q.dataTypes)<0&&(q.converters["text script"]=function(){}),xn=Hi(q,xn,Le,Zt),Zt?(q.ifModified&&(pn=Le.getResponseHeader("Last-Modified"),pn&&(f.lastModified[c]=pn),pn=Le.getResponseHeader("etag"),pn&&(f.etag[c]=pn)),qe===204||q.type==="HEAD"?Rt="nocontent":qe===304?Rt="notmodified":(Rt=xn.state,Yn=xn.data,It=xn.error,Zt=!It)):(It=Rt,(qe||!Rt)&&(Rt="error",qe<0&&(qe=0))),Le.status=qe,Le.statusText=(it||Rt)+"",Zt?je.resolveWith(G,[Yn,Rt,Le]):je.rejectWith(G,[Le,Rt,It]),Le.statusCode(lt),lt=void 0,I&&Ae.trigger(Zt?"ajaxSuccess":"ajaxError",[Le,q,Zt?Yn:It]),xe.fireWith(G,[Le,Rt]),I&&(Ae.trigger("ajaxComplete",[Le,q]),--f.active||f.event.trigger("ajaxStop")))}return Le},getJSON:function(t,i,o){return f.get(t,i,o,"json")},getScript:function(t,i){return f.get(t,void 0,i,"script")}}),f.each(["get","post"],function(t,i){f[i]=function(o,c,g,v){return Z(c)&&(v=v||g,g=c,c=void 0),f.ajax(f.extend({url:o,type:i,dataType:v,data:c,success:g},f.isPlainObject(o)&&o))}}),f.ajaxPrefilter(function(t){var i;for(i in t.headers)i.toLowerCase()==="content-type"&&(t.contentType=t.headers[i]||"")}),f._evalUrl=function(t,i,o){return f.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(c){f.globalEval(c,i,o)}})},f.fn.extend({wrapAll:function(t){var i;return this[0]&&(Z(t)&&(t=t.call(this[0])),i=f(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&i.insertBefore(this[0]),i.map(function(){for(var o=this;o.firstElementChild;)o=o.firstElementChild;return o}).append(this)),this},wrapInner:function(t){return Z(t)?this.each(function(i){f(this).wrapInner(t.call(this,i))}):this.each(function(){var i=f(this),o=i.contents();o.length?o.wrapAll(t):i.append(t)})},wrap:function(t){var i=Z(t);return this.each(function(o){f(this).wrapAll(i?t.call(this,o):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){f(this).replaceWith(this.childNodes)}),this}}),f.expr.pseudos.hidden=function(t){return!f.expr.pseudos.visible(t)},f.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},f.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var Ms={0:200,1223:204},Nr=f.ajaxSettings.xhr();J.cors=!!Nr&&"withCredentials"in Nr,J.ajax=Nr=!!Nr,f.ajaxTransport(function(t){var i,o;if(J.cors||Nr&&!t.crossDomain)return{send:function(c,g){var v,_=t.xhr();if(_.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(v in t.xhrFields)_[v]=t.xhrFields[v];t.mimeType&&_.overrideMimeType&&_.overrideMimeType(t.mimeType),!t.crossDomain&&!c["X-Requested-With"]&&(c["X-Requested-With"]="XMLHttpRequest");for(v in c)_.setRequestHeader(v,c[v]);i=function(k){return function(){i&&(i=o=_.onload=_.onerror=_.onabort=_.ontimeout=_.onreadystatechange=null,k==="abort"?_.abort():k==="error"?typeof _.status!="number"?g(0,"error"):g(_.status,_.statusText):g(Ms[_.status]||_.status,_.statusText,(_.responseType||"text")!=="text"||typeof _.responseText!="string"?{binary:_.response}:{text:_.responseText},_.getAllResponseHeaders()))}},_.onload=i(),o=_.onerror=_.ontimeout=i("error"),_.onabort!==void 0?_.onabort=o:_.onreadystatechange=function(){_.readyState===4&&e.setTimeout(function(){i&&o()})},i=i("abort");try{_.send(t.hasContent&&t.data||null)}catch(k){if(i)throw k}},abort:function(){i&&i()}}}),f.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return f.globalEval(t),t}}}),f.ajaxPrefilter("script",function(t){t.cache===void 0&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),f.ajaxTransport("script",function(t){if(t.crossDomain||t.scriptAttrs){var i,o;return{send:function(c,g){i=f("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",o=function(v){i.remove(),o=null,v&&g(v.type==="error"?404:200,v.type)}),se.head.appendChild(i[0])},abort:function(){o&&o()}}}});var ss=[],kr=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ss.pop()||f.expando+"_"+Ar.guid++;return this[t]=!0,t}}),f.ajaxPrefilter("json jsonp",function(t,i,o){var c,g,v,_=t.jsonp!==!1&&(kr.test(t.url)?"url":typeof t.data=="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&kr.test(t.data)&&"data");if(_||t.dataTypes[0]==="jsonp")return c=t.jsonpCallback=Z(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,_?t[_]=t[_].replace(kr,"$1"+c):t.jsonp!==!1&&(t.url+=(Qt.test(t.url)?"&":"?")+t.jsonp+"="+c),t.converters["script json"]=function(){return v||f.error(c+" was not called"),v[0]},t.dataTypes[0]="json",g=e[c],e[c]=function(){v=arguments},o.always(function(){g===void 0?f(e).removeProp(c):e[c]=g,t[c]&&(t.jsonpCallback=i.jsonpCallback,ss.push(c)),v&&Z(g)&&g(v[0]),v=g=void 0}),"script"}),J.createHTMLDocument=function(){var t=se.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",t.childNodes.length===2}(),f.parseHTML=function(t,i,o){if(typeof t!="string")return[];typeof i=="boolean"&&(o=i,i=!1);var c,g,v;return i||(J.createHTMLDocument?(i=se.implementation.createHTMLDocument(""),c=i.createElement("base"),c.href=se.location.href,i.head.appendChild(c)):i=se),g=Ye.exec(t),v=!o&&[],g?[i.createElement(g[1])]:(g=Yr([t],i,v),v&&v.length&&f(v).remove(),f.merge([],g.childNodes))},f.fn.load=function(t,i,o){var c,g,v,_=this,k=t.indexOf(" ");return k>-1&&(c=hn(t.slice(k)),t=t.slice(0,k)),Z(i)?(o=i,i=void 0):i&&typeof i=="object"&&(g="POST"),_.length>0&&f.ajax({url:t,type:g||"GET",dataType:"html",data:i}).done(function(O){v=arguments,_.html(c?f("<div>").append(f.parseHTML(O)).find(c):O)}).always(o&&function(O,I){_.each(function(){o.apply(this,v||[O.responseText,I,O])})}),this},f.expr.pseudos.animated=function(t){return f.grep(f.timers,function(i){return t===i.elem}).length},f.offset={setOffset:function(t,i,o){var c,g,v,_,k,O,I,B=f.css(t,"position"),Y=f(t),q={};B==="static"&&(t.style.position="relative"),k=Y.offset(),v=f.css(t,"top"),O=f.css(t,"left"),I=(B==="absolute"||B==="fixed")&&(v+O).indexOf("auto")>-1,I?(c=Y.position(),_=c.top,g=c.left):(_=parseFloat(v)||0,g=parseFloat(O)||0),Z(i)&&(i=i.call(t,o,f.extend({},k))),i.top!=null&&(q.top=i.top-k.top+_),i.left!=null&&(q.left=i.left-k.left+g),"using"in i?i.using.call(t,q):Y.css(q)}},f.fn.extend({offset:function(t){if(arguments.length)return t===void 0?this:this.each(function(g){f.offset.setOffset(this,t,g)});var i,o,c=this[0];if(c)return c.getClientRects().length?(i=c.getBoundingClientRect(),o=c.ownerDocument.defaultView,{top:i.top+o.pageYOffset,left:i.left+o.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var t,i,o,c=this[0],g={top:0,left:0};if(f.css(c,"position")==="fixed")i=c.getBoundingClientRect();else{for(i=this.offset(),o=c.ownerDocument,t=c.offsetParent||o.documentElement;t&&(t===o.body||t===o.documentElement)&&f.css(t,"position")==="static";)t=t.parentNode;t&&t!==c&&t.nodeType===1&&(g=f(t).offset(),g.top+=f.css(t,"borderTopWidth",!0),g.left+=f.css(t,"borderLeftWidth",!0))}return{top:i.top-g.top-f.css(c,"marginTop",!0),left:i.left-g.left-f.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&f.css(t,"position")==="static";)t=t.offsetParent;return t||_t})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o=i==="pageYOffset";f.fn[t]=function(c){return qt(this,function(g,v,_){var k;if(_e(g)?k=g:g.nodeType===9&&(k=g.defaultView),_===void 0)return k?k[i]:g[v];k?k.scrollTo(o?k.pageXOffset:_,o?_:k.pageYOffset):g[v]=_},t,c,arguments.length)}}),f.each(["top","left"],function(t,i){f.cssHooks[i]=Di(J.pixelPosition,function(o,c){if(c)return c=Ct(o,i),cn.test(c)?f(o).position()[i]+"px":c})}),f.each({Height:"height",Width:"width"},function(t,i){f.each({padding:"inner"+t,content:i,"":"outer"+t},function(o,c){f.fn[c]=function(g,v){var _=arguments.length&&(o||typeof g!="boolean"),k=o||(g===!0||v===!0?"margin":"border");return qt(this,function(O,I,B){var Y;return _e(O)?c.indexOf("outer")===0?O["inner"+t]:O.document.documentElement["client"+t]:O.nodeType===9?(Y=O.documentElement,Math.max(O.body["scroll"+t],Y["scroll"+t],O.body["offset"+t],Y["offset"+t],Y["client"+t])):B===void 0?f.css(O,I,k):f.style(O,I,B,k)},i,_?g:void 0,_)}})}),f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,i){f.fn[i]=function(o){return this.on(i,o)}}),f.fn.extend({bind:function(t,i,o){return this.on(t,null,i,o)},unbind:function(t,i){return this.off(t,null,i)},delegate:function(t,i,o,c){return this.on(i,t,o,c)},undelegate:function(t,i,o){return arguments.length===1?this.off(t,"**"):this.off(i,t||"**",o)},hover:function(t,i){return this.on("mouseenter",t).on("mouseleave",i||t)}}),f.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){f.fn[i]=function(o,c){return arguments.length>0?this.on(i,null,o,c):this.trigger(i)}});var qi=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;f.proxy=function(t,i){var o,c,g;if(typeof i=="string"&&(o=t[i],i=t,t=o),!!Z(t))return c=S.call(arguments,2),g=function(){return t.apply(i||this,c.concat(S.call(arguments)))},g.guid=t.guid=t.guid||f.guid++,g},f.holdReady=function(t){t?f.readyWait++:f.ready(!0)},f.isArray=Array.isArray,f.parseJSON=JSON.parse,f.nodeName=Te,f.isFunction=Z,f.isWindow=_e,f.camelCase=bt,f.type=Ee,f.now=Date.now,f.isNumeric=function(t){var i=f.type(t);return(i==="number"||i==="string")&&!isNaN(t-parseFloat(t))},f.trim=function(t){return t==null?"":(t+"").replace(qi,"$1")};var os=e.jQuery,ni=e.$;return f.noConflict=function(t){return e.$===f&&(e.$=ni),t&&e.jQuery===f&&(e.jQuery=os),f},typeof r>"u"&&(e.jQuery=e.$=f),f})})(va);var Su=va.exports;const Hs=Ss(Su),he=16,Au=42,Mt=21,yn=63,Ge=22,mt=22,Ht=mt*10,Wn=1e3*60*60*24;class Cu{constructor(){z(this,"y1",-1);z(this,"y2",-1)}}class xu{constructor(e){z(this,"id","colhead");z(this,"pos",0);this.frame=e}build(e){const r=document.createElement("div");r.id=this.id,r.className="header",r.style.top="0px",r.style.left=`${this.pos}px`,r.style.width=`${this.frame.calendarLeft}px`,r.style.height=`${yn}px`,e.append(r);let l=document.createElement("div");l.className="line",l.style.top=`${yn}px`,l.style.left="0px",l.style.width=`${this.frame.calendarLeft}px`,l.style.height="1px",e.append(l);let m=0;for(let S of this.frame.cols){let T=document.createElement("div");T.className="label",T.style.top=`${Au}px`,T.style.left=`${m}px`,T.style.width=`${S.width}px`,T.textContent=S.name,r.append(T),m+=S.width,l=document.createElement("div"),l.className="line",l.style.top="0px",l.style.left=`${m}px`,l.style.width="1px",l.style.height=`${yn}px`,r.append(l)}m+=2,l=document.createElement("div"),l.className="line",l.style.top="0px",l.style.left=`${m}px`,l.style.width="1px",l.style.height=`${yn}px`,r.append(l)}scrollH(e){this.pos=-e;const r=document.querySelector(`#${this.id}`);r&&(r.style.left=`${this.pos}px`)}}class Ou{constructor(e){z(this,"id","colbody");z(this,"width",0);z(this,"height",0);z(this,"posX",0);z(this,"posY",0);z(this,"clickedId","");z(this,"movingLevel",0);z(this,"upper",null);z(this,"lower",null);this.frame=e}build(e){const r=document.createElement("canvas");this.height=this.frame.height-yn-he,this.frame.ticketsFrameHeight=this.height,r.id=this.id,this.width=this.frame.calendarLeft,r.className="gantt-body",r.style.top=`${yn+1}px`,r.style.left=`${this.posX}px`,r.style.width=`${this.width}px`,r.style.height=`${this.height}px`,e.append(r)}handler(){const e=document.querySelector("#ganttframe"),r=document.querySelector(`#${this.id}`),l=this.frame;e&&r&&(r.addEventListener("mousedown",function(m){m.preventDefault(),l.columnBody.mouseDown(m.layerX,m.layerY)}),r.addEventListener("touchstart",function(m){m.preventDefault(),l.columnBody.mouseDown(m.touches[0].pageX-e.offsetLeft-r.offsetLeft,m.touches[0].pageY-e.offsetTop-r.offsetTop)}),r.addEventListener("mousemove",function(m){m.preventDefault(),l.columnBody.mouseMove(m.layerX,m.layerY)}),r.addEventListener("touchmove",function(m){m.preventDefault(),l.columnBody.mouseMove(m.touches[0].pageX-e.offsetLeft-r.offsetLeft,m.touches[0].pageY-e.offsetTop-r.offsetTop)}),r.addEventListener("mouseup",function(m){m.preventDefault(),l.columnBody.mouseUp()}),r.addEventListener("mouseleave",function(m){m.preventDefault(),l.columnBody.mouseLeave()}),r.addEventListener("touchend",function(m){m.preventDefault(),l.columnBody.mouseUp()}))}draw(){const e=document.querySelector(`#${this.id}`);if(e){const r=e.offsetWidth,l=e.offsetHeight;e.width=r,e.height=l;const m=e.getContext("2d");if(m){m.save();for(let T of this.frame.lines)this.drawTicket(m,T);this.frame.moving&&this.frame.ganttRow.y1!=-1&&(m.fillStyle="#fffdef",m.fillRect(0,this.frame.ganttRow.y1+this.posY+this.frame.diffY,r,Ge),m.fill(),this.frame.movingTicket&&this.drawMovingTicket(m,this.frame.movingTicket,this.frame.ganttRow.y1+this.posY+this.frame.diffY)),m.fillStyle="#82a4c1";let S=0;for(let T of this.frame.cols)S+=T.width,m.fillRect(S,0,1,l),m.fill();S+=2,m.fillRect(S,0,1,l),m.fill(),this.frame.ganttRow.y1!=-1&&(m.fillStyle="#f6f",m.fillRect(0,this.frame.ganttRow.y1+this.posY+this.frame.diffY,r,1),m.fill(),m.fillRect(0,this.frame.ganttRow.y2+this.posY+this.frame.diffY,r,1),m.fill(),m.fillRect(0,this.frame.ganttRow.y1+this.posY+this.frame.diffY,1,Ge),m.fill()),m.restore()}}}getFrameHeight(e,r){let l=r;for(let m of e)l+=Ge,m.open&&m.children.length>0&&(l=this.getFrameHeight(m.children,l));return l}drawTicket(e,r){var W;if(this.frame.moving&&r.id===((W=this.frame.movingTicket)==null?void 0:W.id))return;e.font="9.5pt sans-serif",e.textBaseline="bottom";let l=r.y1,m=r.y2;if(this.frame.moving&&this.frame.movingTicket&&this.frame.movingLine!==-1&&this.frame.hoverLine!==-1)if(this.frame.diffY<0)if(r.line===this.frame.hoverLine){let ae=this.frame.movingLine-this.frame.hoverLine;-this.frame.diffY-(ae-1)*Ge>10&&(l+=Ge,m+=Ge)}else r.line>this.frame.hoverLine&&r.line<this.frame.movingLine&&(l+=Ge,m+=Ge);else if(r.line===this.frame.hoverLine){let ae=this.frame.hoverLine-this.frame.movingLine;this.frame.diffY-(ae-1)*Ge>10&&(l-=Ge,m-=Ge)}else r.line<this.frame.hoverLine&&r.line>this.frame.movingLine&&(l-=Ge,m-=Ge);const S=l+18;e.fillStyle="#00f",e.fillText(r.id_disp,3,S+this.posY),e.fillStyle="#808080";let T=this.frame.cols[0].width+r.level*12+6;e.fillRect(T,l+7+this.posY,1,8),e.fill(),e.fillRect(T,l+7+this.posY,8,1),e.fill(),e.fillRect(T,l+15+this.posY,8,1),e.fill(),e.fillRect(T+8,l+7+this.posY,1,9),e.fill(),e.fillStyle="#000",r.children.length>0&&(e.fillRect(T+2,l+11+this.posY,5,1),e.fill(),r.open||(e.fillRect(T+4,l+9+this.posY,1,5),e.fill()));let P=this.frame.cols[0].width+this.frame.cols[1].width-(T+14);if(e.measureText(r.name).width<=P)e.fillText(r.name,T+14,S+this.posY);else{let ae=r.name;for(;e.measureText(`${ae}â¦`).width>P;)ae=ae.slice(0,-1);e.fillText(`${ae}â¦`,T+14,S+this.posY)}T=this.frame.cols[0].width+this.frame.cols[1].width+3,r.start_date&&e.fillText(ft(r.start_date).format("YY/MM/DD"),T,S+this.posY),T+=this.frame.cols[2].width,r.end_date&&e.fillText(ft(r.end_date).format("YY/MM/DD"),T,S+this.posY),T+=this.frame.cols[3].width+this.frame.cols[4].width-6;const V=`${r.progress}`,F=e.measureText(V).width;e.fillText(V,T-F,S+this.posY),e.fillStyle="#e5ebf2",e.fillRect(0,m+this.posY,this.width,1),e.fill()}drawMovingTicket(e,r,l){e.font="9.5pt sans-serif",e.textBaseline="bottom";let m=l;const S=m+18;if(e.fillStyle="#00f",e.fillText(r.id_disp,3,S+this.posY),e.fillStyle="#808080",this.movingLevel=r.level,this.frame.movingLine!==-1&&this.frame.hoverLine!=-1&&this.frame.movingTicket){let W=this.frame.lines[this.frame.hoverLine];if(this.frame.diffY<0){this.upper=W,this.frame.lines.length>this.frame.hoverLine+1?(this.lower=this.frame.lines[this.frame.hoverLine+1],this.lower===this.frame.movingTicket&&(this.frame.lines.length>this.frame.hoverLine+2?this.lower=this.frame.lines[this.frame.hoverLine+2]:this.lower=null)):this.lower=null;let ae=this.frame.movingLine-this.frame.hoverLine;-this.frame.diffY-(ae-1)*Ge>10&&(this.frame.hoverLine===0?(this.upper=null,this.frame.lines.length>0?(this.lower=this.frame.lines[0],this.lower===this.frame.movingTicket&&(this.frame.lines.length>1?this.lower=this.frame.lines[1]:this.lower=null)):this.lower=null):(this.upper=this.frame.lines[this.frame.hoverLine-1],this.lower=this.frame.lines[this.frame.hoverLine],this.lower===this.frame.movingTicket&&(this.frame.lines.length>this.frame.hoverLine+1?this.lower=this.frame.lines[this.frame.hoverLine+1]:this.lower=null)))}else{this.frame.movingLine===0?(this.upper=null,this.frame.lines.length>0?(this.lower=this.frame.lines[0],this.lower===this.frame.movingTicket&&(this.frame.lines.length>1?this.lower=this.frame.lines[1]:this.lower=null)):this.lower=null):(this.upper=this.frame.lines[this.frame.movingLine-1],this.lower=this.frame.lines[this.frame.movingLine],this.lower===this.frame.movingTicket&&(this.frame.lines.length>this.frame.movingLine+1?this.lower=this.frame.lines[this.frame.movingLine+1]:this.lower=null));let ae=this.frame.hoverLine-this.frame.movingLine;this.frame.diffY-(ae-1)*Ge>10&&(this.upper=W,this.frame.lines.length>this.frame.hoverLine+1?(this.lower=this.frame.lines[this.frame.hoverLine+1],this.lower===this.frame.movingTicket&&(this.frame.lines.length>this.frame.hoverLine+2?this.lower=this.frame.lines[this.frame.hoverLine+2]:this.lower=null)):this.lower=null)}this.upper?this.upper.children.length>0&&this.upper.open?(this.movingLevel=this.upper.level+1,this.upper.children[this.upper.children.length-1]===this.frame.movingTicket&&this.frame.diffX<-12&&(this.movingLevel=this.frame.movingTicket.level-Math.floor(-this.frame.diffX/12),this.lower?this.movingLevel<this.lower.level&&(this.movingLevel=this.lower.level):this.movingLevel<0&&(this.movingLevel=0))):(this.movingLevel=this.upper.level,this.frame.diffX>12?this.movingLevel++:this.frame.diffX<-12&&(this.lower?(this.movingLevel=this.frame.movingTicket.level-Math.floor(-this.frame.diffX/12),this.movingLevel<this.lower.level&&(this.movingLevel=this.lower.level)):(this.movingLevel=this.frame.movingTicket.level-Math.floor(-this.frame.diffX/12),this.movingLevel<0&&(this.movingLevel=0)))):this.movingLevel=0}let T=this.frame.cols[0].width+this.movingLevel*12+6;e.fillRect(T,m+7+this.posY,1,8),e.fill(),e.fillRect(T,m+7+this.posY,8,1),e.fill(),e.fillRect(T,m+15+this.posY,8,1),e.fill(),e.fillRect(T+8,m+7+this.posY,1,9),e.fill(),e.fillStyle="#000",r.children.length>0&&(e.fillRect(T+2,m+11+this.posY,5,1),e.fill(),e.fillRect(T+4,m+9+this.posY,1,5),e.fill());let P=this.frame.cols[0].width+this.frame.cols[1].width-(T+14);if(e.measureText(r.name).width<=P)e.fillText(r.name,T+14,S+this.posY);else{let W=r.name;for(;e.measureText(`${W}â¦`).width>P;)W=W.slice(0,-1);e.fillText(`${W}â¦`,T+14,S+this.posY)}T=this.frame.cols[0].width+this.frame.cols[1].width+3,r.start_date&&e.fillText(ft(r.start_date).format("YY/MM/DD"),T,S+this.posY),T+=this.frame.cols[2].width,r.end_date&&e.fillText(ft(r.end_date).format("YY/MM/DD"),T,S+this.posY),T+=this.frame.cols[3].width+this.frame.cols[4].width-6;const V=`${r.progress}`,F=e.measureText(V).width;e.fillText(V,T-F,S+this.posY),e.fillStyle="#e5ebf2",e.fillRect(0,m+Ge+this.posY,this.width,1),e.fill()}scrollH(e){this.posX=-e;const r=document.querySelector(`#${this.id}`);r&&(r.style.left=`${this.posX}px`)}scrollV(e){this.posY=-e,this.draw()}mouseDown(e,r){try{this.frame.clicked=!0,this.frame.startX=e,this.frame.startY=r,this.frame.movingLine=-1,this.clickedId="";for(let l=0;l<this.frame.lines.length;l++){let m=this.frame.lines[l];if(m.y1<=r&&r<=m.y2){this.frame.movingLine=l,this.clickTicket(m,e);break}}this.clickedId?fetch(`/api/ticket/${this.clickedId}`,{method:"GET"}).then(l=>l.json()).then(l=>{l.result?this.frame.ticketModal.show(l):window.alert(`ã¨ã©ã¼ãçºçãã¾ããã: ${l.message}`)}).catch(l=>window.alert(`ã¨ã©ã¼ãçºçãã¾ããã: ${l.message}`)):this.frame.draw()}catch(l){window.alert(`ã¨ã©ã¼ãçºçãã¾ããã: ${l}`)}}mouseMove(e,r){var l;if(this.frame.clicked)try{this.frame.moving||(this.frame.resetLines(((l=this.frame.movingTicket)==null?void 0:l.id)??""),this.frame.moving=!0),this.frame.diffX=e-this.frame.startX,this.frame.diffY=r-this.frame.startY,this.frame.hoverLine=-1;for(let m=0;m<this.frame.lines.length;m++){let S=this.frame.lines[m];if(S!=this.frame.movingTicket&&S.y1<this.frame.ganttRow.y2+this.posY+this.frame.diffY&&S.y2>this.frame.ganttRow.y1+this.posY+this.frame.diffY){this.frame.hoverLine=m;break}}this.frame.dropPos="",this.frame.draw()}catch(m){window.alert(`ã¨ã©ã¼ãçºçãã¾ããã: ${m}`)}}mouseUp(){var e,r;if(!this.frame.moving){this.frame.clicked=!1;return}try{const l=`${(e=this.frame.movingTicket)==null?void 0:e.pos}`.split(",");let m=null,S=null,T=null,P=0,H=null,V=-1,F=this.frame.tickets;for(let W=0;W<l.length;W++){let ae=l[W],fe=Number(ae);if(this.frame.showDone)m=F[fe];else{let J=fe,Z=0;for(let _e=0;_e<F.length;_e++){let se=F[_e];if(se.progress<100&&Z++,Z>J){m=se,fe=_e;break}}}if(!m)break;F=m.children,W==l.length-2&&(T=m),W==l.length-1&&(P=fe)}if(this.upper){const W=`${this.upper.pos}`.split(",");F=this.frame.tickets;for(let ae=0;ae<W.length;ae++){let fe=W[ae],J=Number(fe);if(this.frame.showDone)S=F[J];else{let Z=J,_e=0;for(let se=0;se<F.length;se++){let Be=F[se];if(Be.progress<100&&_e++,_e>Z){S=Be,J=se;break}}}if(!S)break;if(F=S.children,ae===0&&(V=J),ae<this.movingLevel&&(H=S,V=-1,ae+1<W.length))if(J=Number(W[ae+1]),this.frame.showDone)V=J;else{let Z=J,_e=0;for(let se=0;se<F.length;se++)if(F[se].progress<100&&_e++,_e>Z){V=se;break}}}}this.frame.movingTicket&&(T?H?T===H?P>V?(T.children.splice(P,1),H.children.splice(V+1,0,this.frame.movingTicket)):P<V&&(H.children.splice(V+1,0,this.frame.movingTicket),T.children.splice(P,1)):(T.children.splice(P,1),H.children.splice(V+1,0,this.frame.movingTicket)):(T.children.splice(P,1),this.frame.tickets.splice(V+1,0,this.frame.movingTicket)):H?(this.frame.tickets.splice(P,1),H.children.splice(V+1,0,this.frame.movingTicket)):P>V?(this.frame.tickets.splice(P,1),this.frame.tickets.splice(V+1,0,this.frame.movingTicket)):P<V&&(this.frame.tickets.splice(V+1,0,this.frame.movingTicket),this.frame.tickets.splice(P,1)),this.frame.movingTicket.open=!1),this.frame.clicked=!1,this.frame.moving=!1,this.frame.diffY=0,this.frame.resetLines(((r=this.frame.movingTicket)==null?void 0:r.id)??""),this.frame.draw(),this.frame.movingTicket=null}catch(l){window.alert(`ã¨ã©ã¼ãçºçãã¾ããã: ${l}`)}}mouseLeave(){try{this.frame.clicked=!1,this.frame.moving=!1,this.frame.diffY=0,this.frame.movingTicket=null,this.frame.draw()}catch(e){window.alert(`ã¨ã©ã¼ãçºçãã¾ããã: ${e}`)}}clickTicket(e,r){if(this.frame.ganttRow.y1=e.y1,this.frame.ganttRow.y2=e.y2,this.frame.movingTicket=e,this.frame.dropPos="",r<this.frame.cols[0].width){this.clickedId=e.id;return}if(r<this.frame.cols[0].width+this.frame.cols[1].width){const l=this.frame.cols[0].width+e.level*12+2;r>l&&r<l+16&&(e.open=!e.open,this.frame.nodeOpenClose(e.id,e.open),this.frame.draw(),this.frame.ticketsTotalHeight<this.frame.ticketsFrameHeight&&this.posY!=0&&(this.posY=0,this.frame.calendarBody.posY=0,this.frame.scv.pos=0,this.frame.draw()))}}}class Du{constructor(e){z(this,"id","colscr");z(this,"pos",0);this.frame=e}build(e){const r=document.createElement("div");r.id=this.id,r.className="scroll-corner",r.style.top=`${this.frame.height-he}px`,r.style.left=`${this.pos}px`,r.style.width=`${this.frame.calendarLeft}px`,r.style.height=`${he}px`,e.append(r)}scrollH(e){this.pos=-e;const r=document.querySelector(`#${this.id}`);r&&(r.style.left=`${this.pos}px`)}}var ya={exports:{}};(function(h,e){(function(r,l){h.exports=l()})(Vi,function(){return function(r,l){l.prototype.isSameOrAfter=function(m,S){return this.isSame(m,S)||this.isAfter(m,S)}}})})(ya);var Nu=ya.exports;const ba=Ss(Nu);ft.extend(ba);class ku{constructor(e){z(this,"id","calhead");z(this,"width",0);z(this,"pos",0);z(this,"dtpos",0);this.frame=e}build(e){const r=document.createElement("canvas");this.width=this.frame.width-this.frame.calendarLeft,this.width<Ht&&(this.width=Ht),r.id=this.id,r.className="header",r.style.top="0px",r.style.left=`${this.pos+this.frame.calendarLeft}px`,r.style.width=`${this.width}px`,r.style.height=`${yn+1}px`,e.append(r)}resize(){this.width=this.frame.width-this.frame.calendarLeft,this.width<Ht&&(this.width=Ht);const e=document.querySelector(`#${this.id}`);e&&(e.style.width=`${this.width}px`),this.dtpos=0}draw(){const e=document.querySelector(`#${this.id}`);if(e){const r=e.offsetHeight;e.width=this.width,e.height=r;const l=Mt+Mt,m=e.getContext("2d"),S="9.5pt sans-serif";if(m){m.save(),m.fillStyle="#82a4c1",m.fillRect(0,Mt,this.width,1),m.fill(),m.fillRect(0,Mt+Mt,this.width,1),m.fill(),m.fillRect(0,yn,this.width,1),m.fill();let T=this.frame.calendarStart.clone(),P=0,H=!0;m.font=S,m.textBaseline="bottom",m.textAlign="left";let V=1,F=-1;for(;this.frame.calendarEnd.isSameOrAfter(T);){if(F++,F>13&&(F=0,V++),P<this.dtpos-mt){P+=mt,T=T.add(1,"day"),H=!1;continue}if(P>this.width+this.dtpos)break;if(F===0&&(m.fillStyle="#000",m.fillText(`${V}`,P+3-this.dtpos,Mt-3),H||(m.fillStyle="#bdcede",m.fillRect(P-this.dtpos,0,1,Mt),m.fill())),H?(H=!1,(T.date()==1||T.date()<25)&&(m.fillStyle="#000",m.fillText(`${T.format("YYYY/M")}`,P+3-this.dtpos,Mt+Mt-3))):T.date()===1&&(m.fillStyle="#000",m.fillText(`${T.format("YYYY/M")}`,P+3-this.dtpos,Mt+Mt-3),m.fillStyle="#bdcede",m.fillRect(P-this.dtpos,Mt,1,Mt),m.fill()),this.frame.holidays.filter(ae=>ae.isSame(T)).length>0)m.fillStyle="#f00";else switch(T.day()){case 0:m.fillStyle="#f00";break;case 6:m.fillStyle="#00f";break;default:m.fillStyle="#000";break}m.fillText(`${T.date()}`,P+3-this.dtpos,yn-3),P+=mt,T=T.add(1,"day"),m.fillStyle="#bdcede",m.fillRect(P-this.dtpos,l,1,Mt),m.fill()}m.restore()}}}scrollH(e){this.pos=-e;const r=document.querySelector(`#${this.id}`);r&&(r.style.left=`${this.pos+this.frame.calendarLeft}px`)}scroll(e){this.dtpos=e*this.frame.calendarTotalWidth/(this.width-he-he),this.draw(),this.frame.calendarBody.dtpos=this.dtpos,this.frame.calendarBody.draw()}}ft.extend(ba);class Lu{constructor(e){z(this,"id","calbody");z(this,"width",0);z(this,"posX",0);z(this,"posY",0);z(this,"dtpos",0);this.frame=e}build(e){const r=document.createElement("canvas");this.width=this.frame.width-this.frame.calendarLeft,this.width<Ht&&(this.width=Ht);const l=this.frame.height-yn-he;r.id=this.id,r.className="gantt-body",r.style.top=`${yn+1}px`,r.style.left=`${this.posX+this.frame.calendarLeft}px`,r.style.width=`${this.width}px`,r.style.height=`${l}px`,e.append(r)}resize(){this.width=this.frame.width-this.frame.calendarLeft,this.width<Ht&&(this.width=Ht);const e=document.querySelector(`#${this.id}`);e&&(e.style.width=`${this.width}px`),this.dtpos=0}draw(){const e=document.querySelector(`#${this.id}`);if(e){const r=e.offsetWidth,l=e.offsetHeight;e.width=r,e.height=l;const m=e.getContext("2d");if(m){m.save();let S=this.frame.calendarStart.clone(),T=0;for(;this.frame.calendarEnd.isSameOrAfter(S);){if(T<this.dtpos-mt){T+=mt,S=S.add(1,"day");continue}if(T>this.width+this.dtpos)break;let P=!1;if(this.frame.holidays.filter(V=>V.isSame(S)).length>0)P=!0;else switch(S.day()){case 0:case 6:P=!0;break}if(P&&(m.fillStyle="#f2fef2",m.fillRect(T+1-this.dtpos,0,mt-1,l),m.fill()),S=S.add(1,"day"),T+=mt,T>r+this.dtpos)break;m.fillStyle="#bdcede",m.fillRect(T-this.dtpos,0,1,l),m.fill()}for(let P of this.frame.lines)this.drawTicket(m,P);T=ft().diff(this.frame.calendarStart)/Wn*mt,m.fillStyle="#0a0";for(let P=0;P<l;P+=7)m.fillRect(T-this.dtpos,P,1,4),m.fill();this.frame.ganttRow.y1!=-1&&(this.frame.moving&&(m.fillStyle="#fffdef",m.fillRect(0,this.frame.ganttRow.y1+this.posY+this.frame.diffY,r,Ge),m.fill(),this.frame.movingTicket&&this.drawMovingTicket(m,this.frame.movingTicket,this.frame.ganttRow.y1+this.posY+this.frame.diffY)),m.fillStyle="#f6f",m.fillRect(0,this.frame.ganttRow.y1+this.posY+this.frame.diffY,r,1),m.fill(),m.fillRect(0,this.frame.ganttRow.y2+this.posY+this.frame.diffY,r,1),m.fill()),m.restore()}}}drawTicket(e,r){var S;if(this.frame.moving&&r.id===((S=this.frame.movingTicket)==null?void 0:S.id))return;let l=r.y1,m=r.y2;if(this.frame.moving&&this.frame.movingTicket&&this.frame.movingLine!==-1&&this.frame.hoverLine!==-1)if(this.frame.diffY<0)if(r.line===this.frame.hoverLine){let T=this.frame.movingLine-this.frame.hoverLine;-this.frame.diffY-(T-1)*Ge>10&&(l+=Ge,m+=Ge)}else r.line>this.frame.hoverLine&&r.line<this.frame.movingLine&&(l+=Ge,m+=Ge);else if(r.line===this.frame.hoverLine){let T=this.frame.hoverLine-this.frame.movingLine;this.frame.diffY-(T-1)*Ge>10&&(l-=Ge,m-=Ge)}else r.line<this.frame.hoverLine&&r.line>this.frame.movingLine&&(l-=Ge,m-=Ge);if(r.start_date)if(r.end_date){let T=ft(r.start_date).diff(this.frame.calendarStart)/Wn;T=T*mt-this.dtpos;let P=ft(r.end_date).diff(this.frame.calendarStart)/Wn;if(P=(P+1)*mt-this.dtpos,r.progress===0)e.fillStyle="#9bf",e.fillRect(T,l+8+this.posY,P-T,6),e.fill();else if(r.progress===100)e.fillStyle="#57f",e.fillRect(T,l+8+this.posY,P-T,6),e.fill();else{e.fillStyle="#9bf",e.fillRect(T,l+8+this.posY,P-T,6),e.fill();const H=(P-T)*r.progress/100;e.fillStyle="#57f",e.fillRect(T,l+8+this.posY,H,6),e.fill()}}else{e.fillStyle="#57f";let T=ft(r.start_date).diff(this.frame.calendarStart)/Wn;T=T*mt-this.dtpos,e.fillRect(T,l+8+this.posY,12,6),e.fill(),e.fillStyle="#68f",T+=12,e.fillRect(T,l+8+this.posY,7,6),e.fill(),e.fillStyle="#8af",T+=7,e.fillRect(T,l+8+this.posY,6,6),e.fill(),e.fillStyle="#bdf",T+=6,e.fillRect(T,l+8+this.posY,5,6),e.fill()}else if(r.end_date){e.fillStyle="#57f";let T=ft(r.end_date).diff(this.frame.calendarStart)/Wn;T=(T+1)*mt-this.dtpos,T-=12,e.fillRect(T,l+8+this.posY,12,6),e.fill(),e.fillStyle="#68f",T-=7,e.fillRect(T,l+8+this.posY,7,6),e.fill(),e.fillStyle="#8af",T-=6,e.fillRect(T,l+8+this.posY,6,6),e.fill(),e.fillStyle="#bdf",T-=5,e.fillRect(T,l+8+this.posY,5,6),e.fill()}e.fillStyle="#e5ebf2",e.fillRect(0,m+this.posY,this.width,1),e.fill()}drawMovingTicket(e,r,l){let m=l;if(r.start_date)if(r.end_date){let S=ft(r.start_date).diff(this.frame.calendarStart)/Wn;S=S*mt-this.dtpos;let T=ft(r.end_date).diff(this.frame.calendarStart)/Wn;if(T=(T+1)*mt-this.dtpos,r.progress===0)e.fillStyle="#9bf",e.fillRect(S,m+8+this.posY,T-S,6),e.fill();else if(r.progress===100)e.fillStyle="#57f",e.fillRect(S,m+8+this.posY,T-S,6),e.fill();else{e.fillStyle="#9bf",e.fillRect(S,m+8+this.posY,T-S,6),e.fill();const P=(T-S)*r.progress/100;e.fillStyle="#57f",e.fillRect(S,m+8+this.posY,P,6),e.fill()}}else{e.fillStyle="#57f";let S=ft(r.start_date).diff(this.frame.calendarStart)/Wn;S=S*mt-this.dtpos,e.fillRect(S,m+8+this.posY,12,6),e.fill(),e.fillStyle="#68f",S+=12,e.fillRect(S,m+8+this.posY,7,6),e.fill(),e.fillStyle="#8af",S+=7,e.fillRect(S,m+8+this.posY,6,6),e.fill(),e.fillStyle="#bdf",S+=6,e.fillRect(S,m+8+this.posY,5,6),e.fill()}else if(r.end_date){e.fillStyle="#57f";let S=ft(r.end_date).diff(this.frame.calendarStart)/Wn;S=(S+1)*mt-this.dtpos,S-=12,e.fillRect(S,m+8+this.posY,12,6),e.fill(),e.fillStyle="#68f",S-=7,e.fillRect(S,m+8+this.posY,7,6),e.fill(),e.fillStyle="#8af",S-=6,e.fillRect(S,m+8+this.posY,6,6),e.fill(),e.fillStyle="#bdf",S-=5,e.fillRect(S,m+8+this.posY,5,6),e.fill()}e.fillStyle="#e5ebf2",e.fillRect(0,m+Ge+this.posY,this.width,1),e.fill()}scrollH(e){this.posX=-e;const r=document.querySelector(`#${this.id}`);r&&(r.style.left=`${this.posX+this.frame.calendarLeft}px`)}scrollV(e){this.posY=-e,this.draw()}}class $u{constructor(e){z(this,"id","calscroll");z(this,"width",0);z(this,"pos",0);z(this,"barWidth",0);z(this,"height",he);z(this,"moving",!1);z(this,"startX",0);z(this,"barpos",0);z(this,"startPos",0);this.frame=e}build(e){this.width=this.frame.width-this.frame.calendarLeft,this.width<Ht&&(this.width=Ht);const r=document.createElement("canvas");r.id=this.id,r.className="scroll-bar",r.style.top=`${this.frame.height-he}px`,r.style.left=`${this.pos+this.frame.calendarLeft}px`,r.style.width=`${this.width}px`,r.style.height=`${this.height}px`,e.append(r)}resize(){this.width=this.frame.width-this.frame.calendarLeft,this.width<Ht&&(this.width=Ht);const e=document.querySelector(`#${this.id}`);e&&(e.style.width=`${this.width}px`),this.scrollH(0),this.barpos=0}handler(){const e=document.querySelector("#ganttframe"),r=document.querySelector(`#${this.id}`),l=this.frame;e&&r&&(r.addEventListener("mousedown",function(m){m.preventDefault(),l.mouseDownCalScroll(m.layerX)}),r.addEventListener("touchstart",function(m){m.preventDefault(),l.mouseDownCalScroll(m.touches[0].pageX-e.offsetLeft-r.offsetLeft)}),r.addEventListener("mousemove",function(m){m.preventDefault(),l.mouseMoveCalScroll(m.layerX)}),r.addEventListener("touchmove",function(m){m.preventDefault(),l.mouseMoveCalScroll(m.touches[0].pageX-e.offsetLeft-r.offsetLeft)}),r.addEventListener("mouseup",function(m){m.preventDefault(),l.mouseUpCalScroll()}),r.addEventListener("mouseleave",function(m){m.preventDefault(),l.mouseUpCalScroll()}),r.addEventListener("touchend",function(m){m.preventDefault(),l.mouseUpCalScroll()}))}draw(){const e=document.querySelector(`#${this.id}`);if(e){e.width=this.width,e.height=this.height;const r=e.getContext("2d");r&&(r.save(),r.lineJoin="miter",r.fillStyle="#505050",r.beginPath(),r.moveTo(5,8),r.lineTo(9,12),r.lineTo(9,4),r.closePath(),r.fill(),r.beginPath(),r.moveTo(this.width-10,4),r.lineTo(this.width-10,12),r.lineTo(this.width-6,8),r.closePath(),r.fill(),r.fillStyle="#c1c1c1",this.barWidth=(this.width-he-he)*this.width/this.frame.calendarTotalWidth,r.fillRect(he+this.barpos,2,this.barWidth<4?4:this.barWidth,13),r.restore())}}scrollH(e){this.pos=-e;const r=document.querySelector(`#${this.id}`);r&&(r.style.left=`${this.pos+this.frame.calendarLeft}px`)}mouseDownCalScroll(e){if(he+this.barpos<e&&e<he+this.barpos+this.barWidth){this.moving=!0,this.startX=e-he,this.startPos=this.barpos;return}e<he?this.barpos-=he:e<he+this.barpos?this.barpos-=this.barWidth:this.width-he<e?this.barpos+=he:this.barpos+=this.barWidth,this.barpos<0&&(this.barpos=0),this.width-he-he-this.barWidth<this.barpos&&(this.barpos=this.width-he-he-this.barWidth),this.frame.calendarHeader.scroll(this.barpos),this.draw(),this.moving=!1}mouseMoveCalScroll(e){if(!this.moving)return;this.barpos=e-he-this.startX+this.startPos,this.barpos<0&&(this.barpos=0);const r=this.width-this.barWidth-he-he;this.barpos>r&&(this.barpos=r),this.frame.calendarHeader.scroll(this.barpos),this.draw()}mouseUpCalScroll(){this.moving=!1}}class Pu{constructor(e){z(this,"id","scrollh");z(this,"width",0);z(this,"barWidth",0);z(this,"height",he);z(this,"moving",!1);z(this,"startX",0);z(this,"pos",0);z(this,"startPos",0);this.frame=e}handler(){const e=document.querySelector(`#${this.id}`),r=this.frame;e&&(e.addEventListener("mousedown",function(l){l.preventDefault(),r.mouseDownScrollH(l.pageX-e.offsetLeft)}),e.addEventListener("touchstart",function(l){l.preventDefault(),r.mouseDownScrollH(l.touches[0].pageX-e.offsetLeft)}),e.addEventListener("mousemove",function(l){l.preventDefault(),r.mouseMoveScrollH(l.pageX-e.offsetLeft)}),e.addEventListener("touchmove",function(l){l.preventDefault(),r.mouseMoveScrollH(l.touches[0].pageX-e.offsetLeft)}),e.addEventListener("mouseup",function(l){l.preventDefault(),r.mouseUpScrollH()}),e.addEventListener("mouseleave",function(l){l.preventDefault(),r.mouseUpScrollH()}),e.addEventListener("touchend",function(l){l.preventDefault(),r.mouseUpScrollH()}))}draw(){const e=document.querySelector(`#${this.id}`);if(e){if(this.width=e.offsetWidth,e.width=this.width,e.height=this.height,this.width>this.frame.schThreshold)return;const r=e.getContext("2d");r&&(r.save(),r.lineJoin="miter",r.fillStyle="#505050",r.beginPath(),r.moveTo(5,8),r.lineTo(9,12),r.lineTo(9,4),r.closePath(),r.fill(),r.beginPath(),r.moveTo(this.width-10,4),r.lineTo(this.width-10,12),r.lineTo(this.width-6,8),r.closePath(),r.fill(),r.fillStyle="#c1c1c1",this.barWidth=(this.width-he-he)*this.width/this.frame.schThreshold,r.fillRect(he+this.pos,2,this.barWidth<4?4:this.barWidth,13),r.restore())}}mouseDownScrollH(e){if(he+this.pos<e&&e<he+this.pos+this.barWidth){this.moving=!0,this.startX=e-he,this.startPos=this.pos;return}e<he?this.pos-=he:e<he+this.pos?this.pos-=this.barWidth:this.width-he<e?this.pos+=he:this.pos+=this.barWidth,this.pos<0&&(this.pos=0),this.width-he-he-this.barWidth<this.pos&&(this.pos=this.width-he-he-this.barWidth),this.frame.scrollH(this.pos),this.draw(),this.moving=!1}mouseMoveScrollH(e){if(!this.moving)return;this.pos=e-he-this.startX+this.startPos,this.pos<0&&(this.pos=0);const r=this.width-this.barWidth-he-he;this.pos>r&&(this.pos=r),this.frame.scrollH(this.pos),this.draw()}mouseUpScrollH(){this.moving=!1}}class Iu{constructor(e){z(this,"id","scrollv");z(this,"width",he);z(this,"height",0);z(this,"barHeight",0);z(this,"moving",!1);z(this,"visible",!1);z(this,"startY",0);z(this,"pos",0);z(this,"startPos",0);this.frame=e}handler(){const e=document.querySelector(`#${this.id}`),r=this.frame;e&&(e.addEventListener("mousedown",function(l){l.preventDefault(),r.mouseDownScrollV(l.pageY-e.offsetTop)}),e.addEventListener("touchstart",function(l){l.preventDefault(),r.mouseDownScrollV(l.touches[0].pageY-e.offsetTop)}),e.addEventListener("mousemove",function(l){l.preventDefault(),r.mouseMoveScrollV(l.pageY-e.offsetTop)}),e.addEventListener("touchmove",function(l){l.preventDefault(),r.mouseMoveScrollV(l.touches[0].pageY-e.offsetTop)}),e.addEventListener("mouseup",function(l){l.preventDefault(),r.mouseUpScrollV()}),e.addEventListener("mouseleave",function(l){l.preventDefault(),r.mouseUpScrollV()}),e.addEventListener("touchend",function(l){l.preventDefault(),r.mouseUpScrollV()}))}draw(){this.visible=!1;const e=document.querySelector(`#${this.id}`);if(e){this.height=e.offsetHeight,e.width=this.width,e.height=this.height;const r=e.getContext("2d");r&&this.frame.ticketsFrameHeight<this.frame.ticketsTotalHeight&&(this.visible=!0,r.save(),r.lineJoin="miter",r.fillStyle="#505050",r.beginPath(),r.moveTo(8,5),r.lineTo(4,9),r.lineTo(12,9),r.closePath(),r.fill(),r.beginPath(),r.moveTo(4,this.height-10),r.lineTo(8,this.height-6),r.lineTo(12,this.height-10),r.closePath(),r.fill(),r.fillStyle="#c1c1c1",this.barHeight=(this.height-he-he)*this.frame.ticketsFrameHeight/this.frame.ticketsTotalHeight,r.fillRect(2,he+this.pos,13,this.barHeight<4?4:this.barHeight),r.restore())}}mouseDownScrollV(e){if(!this.visible)return;if(he+this.pos<e&&e<he+this.pos+this.barHeight){this.moving=!0,this.startY=e-he,this.startPos=this.pos;return}e<he?this.pos-=he:e<he+this.pos?this.pos-=this.barHeight:this.height-he<e?this.pos+=he:this.pos+=this.barHeight,this.pos<0&&(this.pos=0);let r=this.pos/(this.height-he-he-this.barHeight);r>1&&(r=1,this.pos=this.height-he-he-this.barHeight),this.frame.scrollV((this.frame.ticketsTotalHeight-this.frame.ticketsFrameHeight)*r),this.draw(),this.moving=!1}mouseMoveScrollV(e){if(!this.visible||!this.moving)return;this.pos=e-he-this.startY+this.startPos,this.pos<0&&(this.pos=0);let r=this.pos/(this.height-he-he-this.barHeight);r>1&&(r=1,this.pos=this.height-he-he-this.barHeight),this.frame.scrollV((this.frame.ticketsTotalHeight-this.frame.ticketsFrameHeight)*r),this.draw()}mouseUpScrollV(){this.moving=!1}}var Dt="top",Wt="bottom",Vt="right",Nt="left",As="auto",bi=[Dt,Wt,Vt,Nt],Mr="start",di="end",_a="clippingParents",po="viewport",li="popper",wa="reference",io=bi.reduce(function(h,e){return h.concat([e+"-"+Mr,e+"-"+di])},[]),mo=[].concat(bi,[As]).reduce(function(h,e){return h.concat([e,e+"-"+Mr,e+"-"+di])},[]),Ea="beforeRead",Ta="read",Sa="afterRead",Aa="beforeMain",Ca="main",xa="afterMain",Oa="beforeWrite",Da="write",Na="afterWrite",ka=[Ea,Ta,Sa,Aa,Ca,xa,Oa,Da,Na];function $n(h){return h?(h.nodeName||"").toLowerCase():null}function Ut(h){if(h==null)return window;if(h.toString()!=="[object Window]"){var e=h.ownerDocument;return e&&e.defaultView||window}return h}function jr(h){var e=Ut(h).Element;return h instanceof e||h instanceof Element}function rn(h){var e=Ut(h).HTMLElement;return h instanceof e||h instanceof HTMLElement}function go(h){if(typeof ShadowRoot>"u")return!1;var e=Ut(h).ShadowRoot;return h instanceof e||h instanceof ShadowRoot}function Ru(h){var e=h.state;Object.keys(e.elements).forEach(function(r){var l=e.styles[r]||{},m=e.attributes[r]||{},S=e.elements[r];!rn(S)||!$n(S)||(Object.assign(S.style,l),Object.keys(m).forEach(function(T){var P=m[T];P===!1?S.removeAttribute(T):S.setAttribute(T,P===!0?"":P)}))})}function Mu(h){var e=h.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(l){var m=e.elements[l],S=e.attributes[l]||{},T=Object.keys(e.styles.hasOwnProperty(l)?e.styles[l]:r[l]),P=T.reduce(function(H,V){return H[V]="",H},{});!rn(m)||!$n(m)||(Object.assign(m.style,P),Object.keys(S).forEach(function(H){m.removeAttribute(H)}))})}}const vo={name:"applyStyles",enabled:!0,phase:"write",fn:Ru,effect:Mu,requires:["computeStyles"]};function kn(h){return h.split("-")[0]}var Rr=Math.max,_s=Math.min,pi=Math.round;function so(){var h=navigator.userAgentData;return h!=null&&h.brands&&Array.isArray(h.brands)?h.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function La(){return!/^((?!chrome|android).)*safari/i.test(so())}function mi(h,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var l=h.getBoundingClientRect(),m=1,S=1;e&&rn(h)&&(m=h.offsetWidth>0&&pi(l.width)/h.offsetWidth||1,S=h.offsetHeight>0&&pi(l.height)/h.offsetHeight||1);var T=jr(h)?Ut(h):window,P=T.visualViewport,H=!La()&&r,V=(l.left+(H&&P?P.offsetLeft:0))/m,F=(l.top+(H&&P?P.offsetTop:0))/S,W=l.width/m,ae=l.height/S;return{width:W,height:ae,top:F,right:V+W,bottom:F+ae,left:V,x:V,y:F}}function yo(h){var e=mi(h),r=h.offsetWidth,l=h.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-l)<=1&&(l=e.height),{x:h.offsetLeft,y:h.offsetTop,width:r,height:l}}function $a(h,e){var r=e.getRootNode&&e.getRootNode();if(h.contains(e))return!0;if(r&&go(r)){var l=e;do{if(l&&h.isSameNode(l))return!0;l=l.parentNode||l.host}while(l)}return!1}function zn(h){return Ut(h).getComputedStyle(h)}function ju(h){return["table","td","th"].indexOf($n(h))>=0}function pr(h){return((jr(h)?h.ownerDocument:h.document)||window.document).documentElement}function Cs(h){return $n(h)==="html"?h:h.assignedSlot||h.parentNode||(go(h)?h.host:null)||pr(h)}function Lo(h){return!rn(h)||zn(h).position==="fixed"?null:h.offsetParent}function Hu(h){var e=/firefox/i.test(so()),r=/Trident/i.test(so());if(r&&rn(h)){var l=zn(h);if(l.position==="fixed")return null}var m=Cs(h);for(go(m)&&(m=m.host);rn(m)&&["html","body"].indexOf($n(m))<0;){var S=zn(m);if(S.transform!=="none"||S.perspective!=="none"||S.contain==="paint"||["transform","perspective"].indexOf(S.willChange)!==-1||e&&S.willChange==="filter"||e&&S.filter&&S.filter!=="none")return m;m=m.parentNode}return null}function zi(h){for(var e=Ut(h),r=Lo(h);r&&ju(r)&&zn(r).position==="static";)r=Lo(r);return r&&($n(r)==="html"||$n(r)==="body"&&zn(r).position==="static")?e:r||Hu(h)||e}function bo(h){return["top","bottom"].indexOf(h)>=0?"x":"y"}function Yi(h,e,r){return Rr(h,_s(e,r))}function qu(h,e,r){var l=Yi(h,e,r);return l>r?r:l}function Pa(){return{top:0,right:0,bottom:0,left:0}}function Ia(h){return Object.assign({},Pa(),h)}function Ra(h,e){return e.reduce(function(r,l){return r[l]=h,r},{})}var Bu=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,Ia(typeof e!="number"?e:Ra(e,bi))};function Ku(h){var e,r=h.state,l=h.name,m=h.options,S=r.elements.arrow,T=r.modifiersData.popperOffsets,P=kn(r.placement),H=bo(P),V=[Nt,Vt].indexOf(P)>=0,F=V?"height":"width";if(!(!S||!T)){var W=Bu(m.padding,r),ae=yo(S),fe=H==="y"?Dt:Nt,J=H==="y"?Wt:Vt,Z=r.rects.reference[F]+r.rects.reference[H]-T[H]-r.rects.popper[F],_e=T[H]-r.rects.reference[H],se=zi(S),Be=se?H==="y"?se.clientHeight||0:se.clientWidth||0:0,Ue=Z/2-_e/2,Ee=W[fe],$e=Be-ae[F]-W[J],Ce=Be/2-ae[F]/2+Ue,f=Yi(Ee,Ce,$e),Je=H;r.modifiersData[l]=(e={},e[Je]=f,e.centerOffset=f-Ce,e)}}function Fu(h){var e=h.state,r=h.options,l=r.element,m=l===void 0?"[data-popper-arrow]":l;m!=null&&(typeof m=="string"&&(m=e.elements.popper.querySelector(m),!m)||$a(e.elements.popper,m)&&(e.elements.arrow=m))}const Ma={name:"arrow",enabled:!0,phase:"main",fn:Ku,effect:Fu,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gi(h){return h.split("-")[1]}var Yu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Wu(h,e){var r=h.x,l=h.y,m=e.devicePixelRatio||1;return{x:pi(r*m)/m||0,y:pi(l*m)/m||0}}function $o(h){var e,r=h.popper,l=h.popperRect,m=h.placement,S=h.variation,T=h.offsets,P=h.position,H=h.gpuAcceleration,V=h.adaptive,F=h.roundOffsets,W=h.isFixed,ae=T.x,fe=ae===void 0?0:ae,J=T.y,Z=J===void 0?0:J,_e=typeof F=="function"?F({x:fe,y:Z}):{x:fe,y:Z};fe=_e.x,Z=_e.y;var se=T.hasOwnProperty("x"),Be=T.hasOwnProperty("y"),Ue=Nt,Ee=Dt,$e=window;if(V){var Ce=zi(r),f="clientHeight",Je="clientWidth";if(Ce===Ut(r)&&(Ce=pr(r),zn(Ce).position!=="static"&&P==="absolute"&&(f="scrollHeight",Je="scrollWidth")),Ce=Ce,m===Dt||(m===Nt||m===Vt)&&S===di){Ee=Wt;var Te=W&&Ce===$e&&$e.visualViewport?$e.visualViewport.height:Ce[f];Z-=Te-l.height,Z*=H?1:-1}if(m===Nt||(m===Dt||m===Wt)&&S===di){Ue=Vt;var Oe=W&&Ce===$e&&$e.visualViewport?$e.visualViewport.width:Ce[Je];fe-=Oe-l.width,fe*=H?1:-1}}var Se=Object.assign({position:P},V&&Yu),nt=F===!0?Wu({x:fe,y:Z},Ut(r)):{x:fe,y:Z};if(fe=nt.x,Z=nt.y,H){var be;return Object.assign({},Se,(be={},be[Ee]=Be?"0":"",be[Ue]=se?"0":"",be.transform=($e.devicePixelRatio||1)<=1?"translate("+fe+"px, "+Z+"px)":"translate3d("+fe+"px, "+Z+"px, 0)",be))}return Object.assign({},Se,(e={},e[Ee]=Be?Z+"px":"",e[Ue]=se?fe+"px":"",e.transform="",e))}function Vu(h){var e=h.state,r=h.options,l=r.gpuAcceleration,m=l===void 0?!0:l,S=r.adaptive,T=S===void 0?!0:S,P=r.roundOffsets,H=P===void 0?!0:P,V={placement:kn(e.placement),variation:gi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:m,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,$o(Object.assign({},V,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:T,roundOffsets:H})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,$o(Object.assign({},V,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:H})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const _o={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Vu,data:{}};var cs={passive:!0};function Uu(h){var e=h.state,r=h.instance,l=h.options,m=l.scroll,S=m===void 0?!0:m,T=l.resize,P=T===void 0?!0:T,H=Ut(e.elements.popper),V=[].concat(e.scrollParents.reference,e.scrollParents.popper);return S&&V.forEach(function(F){F.addEventListener("scroll",r.update,cs)}),P&&H.addEventListener("resize",r.update,cs),function(){S&&V.forEach(function(F){F.removeEventListener("scroll",r.update,cs)}),P&&H.removeEventListener("resize",r.update,cs)}}const wo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Uu,data:{}};var zu={left:"right",right:"left",bottom:"top",top:"bottom"};function vs(h){return h.replace(/left|right|bottom|top/g,function(e){return zu[e]})}var Xu={start:"end",end:"start"};function Po(h){return h.replace(/start|end/g,function(e){return Xu[e]})}function Eo(h){var e=Ut(h),r=e.pageXOffset,l=e.pageYOffset;return{scrollLeft:r,scrollTop:l}}function To(h){return mi(pr(h)).left+Eo(h).scrollLeft}function Gu(h,e){var r=Ut(h),l=pr(h),m=r.visualViewport,S=l.clientWidth,T=l.clientHeight,P=0,H=0;if(m){S=m.width,T=m.height;var V=La();(V||!V&&e==="fixed")&&(P=m.offsetLeft,H=m.offsetTop)}return{width:S,height:T,x:P+To(h),y:H}}function Qu(h){var e,r=pr(h),l=Eo(h),m=(e=h.ownerDocument)==null?void 0:e.body,S=Rr(r.scrollWidth,r.clientWidth,m?m.scrollWidth:0,m?m.clientWidth:0),T=Rr(r.scrollHeight,r.clientHeight,m?m.scrollHeight:0,m?m.clientHeight:0),P=-l.scrollLeft+To(h),H=-l.scrollTop;return zn(m||r).direction==="rtl"&&(P+=Rr(r.clientWidth,m?m.clientWidth:0)-S),{width:S,height:T,x:P,y:H}}function So(h){var e=zn(h),r=e.overflow,l=e.overflowX,m=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+m+l)}function ja(h){return["html","body","#document"].indexOf($n(h))>=0?h.ownerDocument.body:rn(h)&&So(h)?h:ja(Cs(h))}function Wi(h,e){var r;e===void 0&&(e=[]);var l=ja(h),m=l===((r=h.ownerDocument)==null?void 0:r.body),S=Ut(l),T=m?[S].concat(S.visualViewport||[],So(l)?l:[]):l,P=e.concat(T);return m?P:P.concat(Wi(Cs(T)))}function oo(h){return Object.assign({},h,{left:h.x,top:h.y,right:h.x+h.width,bottom:h.y+h.height})}function Ju(h,e){var r=mi(h,!1,e==="fixed");return r.top=r.top+h.clientTop,r.left=r.left+h.clientLeft,r.bottom=r.top+h.clientHeight,r.right=r.left+h.clientWidth,r.width=h.clientWidth,r.height=h.clientHeight,r.x=r.left,r.y=r.top,r}function Io(h,e,r){return e===po?oo(Gu(h,r)):jr(e)?Ju(e,r):oo(Qu(pr(h)))}function Zu(h){var e=Wi(Cs(h)),r=["absolute","fixed"].indexOf(zn(h).position)>=0,l=r&&rn(h)?zi(h):h;return jr(l)?e.filter(function(m){return jr(m)&&$a(m,l)&&$n(m)!=="body"}):[]}function el(h,e,r,l){var m=e==="clippingParents"?Zu(h):[].concat(e),S=[].concat(m,[r]),T=S[0],P=S.reduce(function(H,V){var F=Io(h,V,l);return H.top=Rr(F.top,H.top),H.right=_s(F.right,H.right),H.bottom=_s(F.bottom,H.bottom),H.left=Rr(F.left,H.left),H},Io(h,T,l));return P.width=P.right-P.left,P.height=P.bottom-P.top,P.x=P.left,P.y=P.top,P}function Ha(h){var e=h.reference,r=h.element,l=h.placement,m=l?kn(l):null,S=l?gi(l):null,T=e.x+e.width/2-r.width/2,P=e.y+e.height/2-r.height/2,H;switch(m){case Dt:H={x:T,y:e.y-r.height};break;case Wt:H={x:T,y:e.y+e.height};break;case Vt:H={x:e.x+e.width,y:P};break;case Nt:H={x:e.x-r.width,y:P};break;default:H={x:e.x,y:e.y}}var V=m?bo(m):null;if(V!=null){var F=V==="y"?"height":"width";switch(S){case Mr:H[V]=H[V]-(e[F]/2-r[F]/2);break;case di:H[V]=H[V]+(e[F]/2-r[F]/2);break}}return H}function vi(h,e){e===void 0&&(e={});var r=e,l=r.placement,m=l===void 0?h.placement:l,S=r.strategy,T=S===void 0?h.strategy:S,P=r.boundary,H=P===void 0?_a:P,V=r.rootBoundary,F=V===void 0?po:V,W=r.elementContext,ae=W===void 0?li:W,fe=r.altBoundary,J=fe===void 0?!1:fe,Z=r.padding,_e=Z===void 0?0:Z,se=Ia(typeof _e!="number"?_e:Ra(_e,bi)),Be=ae===li?wa:li,Ue=h.rects.popper,Ee=h.elements[J?Be:ae],$e=el(jr(Ee)?Ee:Ee.contextElement||pr(h.elements.popper),H,F,T),Ce=mi(h.elements.reference),f=Ha({reference:Ce,element:Ue,strategy:"absolute",placement:m}),Je=oo(Object.assign({},Ue,f)),Te=ae===li?Je:Ce,Oe={top:$e.top-Te.top+se.top,bottom:Te.bottom-$e.bottom+se.bottom,left:$e.left-Te.left+se.left,right:Te.right-$e.right+se.right},Se=h.modifiersData.offset;if(ae===li&&Se){var nt=Se[m];Object.keys(Oe).forEach(function(be){var ve=[Vt,Wt].indexOf(be)>=0?1:-1,ue=[Dt,Wt].indexOf(be)>=0?"y":"x";Oe[be]+=nt[ue]*ve})}return Oe}function tl(h,e){e===void 0&&(e={});var r=e,l=r.placement,m=r.boundary,S=r.rootBoundary,T=r.padding,P=r.flipVariations,H=r.allowedAutoPlacements,V=H===void 0?mo:H,F=gi(l),W=F?P?io:io.filter(function(J){return gi(J)===F}):bi,ae=W.filter(function(J){return V.indexOf(J)>=0});ae.length===0&&(ae=W);var fe=ae.reduce(function(J,Z){return J[Z]=vi(h,{placement:Z,boundary:m,rootBoundary:S,padding:T})[kn(Z)],J},{});return Object.keys(fe).sort(function(J,Z){return fe[J]-fe[Z]})}function nl(h){if(kn(h)===As)return[];var e=vs(h);return[Po(h),e,Po(e)]}function rl(h){var e=h.state,r=h.options,l=h.name;if(!e.modifiersData[l]._skip){for(var m=r.mainAxis,S=m===void 0?!0:m,T=r.altAxis,P=T===void 0?!0:T,H=r.fallbackPlacements,V=r.padding,F=r.boundary,W=r.rootBoundary,ae=r.altBoundary,fe=r.flipVariations,J=fe===void 0?!0:fe,Z=r.allowedAutoPlacements,_e=e.options.placement,se=kn(_e),Be=se===_e,Ue=H||(Be||!J?[vs(_e)]:nl(_e)),Ee=[_e].concat(Ue).reduce(function(Qe,Ze){return Qe.concat(kn(Ze)===As?tl(e,{placement:Ze,boundary:F,rootBoundary:W,padding:V,flipVariations:J,allowedAutoPlacements:Z}):Ze)},[]),$e=e.rects.reference,Ce=e.rects.popper,f=new Map,Je=!0,Te=Ee[0],Oe=0;Oe<Ee.length;Oe++){var Se=Ee[Oe],nt=kn(Se),be=gi(Se)===Mr,ve=[Dt,Wt].indexOf(nt)>=0,ue=ve?"width":"height",ne=vi(e,{placement:Se,boundary:F,rootBoundary:W,altBoundary:ae,padding:V}),le=ve?be?Vt:Nt:be?Wt:Dt;$e[ue]>Ce[ue]&&(le=vs(le));var oe=vs(le),ge=[];if(S&&ge.push(ne[nt]<=0),P&&ge.push(ne[le]<=0,ne[oe]<=0),ge.every(function(Qe){return Qe})){Te=Se,Je=!1;break}f.set(Se,ge)}if(Je)for(var ye=J?3:1,Me=function(Ze){var at=Ee.find(function(dt){var gt=f.get(dt);if(gt)return gt.slice(0,Ze).every(function(de){return de})});if(at)return Te=at,"break"},Ye=ye;Ye>0;Ye--){var Ke=Me(Ye);if(Ke==="break")break}e.placement!==Te&&(e.modifiersData[l]._skip=!0,e.placement=Te,e.reset=!0)}}const qa={name:"flip",enabled:!0,phase:"main",fn:rl,requiresIfExists:["offset"],data:{_skip:!1}};function Ro(h,e,r){return r===void 0&&(r={x:0,y:0}),{top:h.top-e.height-r.y,right:h.right-e.width+r.x,bottom:h.bottom-e.height+r.y,left:h.left-e.width-r.x}}function Mo(h){return[Dt,Vt,Wt,Nt].some(function(e){return h[e]>=0})}function il(h){var e=h.state,r=h.name,l=e.rects.reference,m=e.rects.popper,S=e.modifiersData.preventOverflow,T=vi(e,{elementContext:"reference"}),P=vi(e,{altBoundary:!0}),H=Ro(T,l),V=Ro(P,m,S),F=Mo(H),W=Mo(V);e.modifiersData[r]={referenceClippingOffsets:H,popperEscapeOffsets:V,isReferenceHidden:F,hasPopperEscaped:W},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":F,"data-popper-escaped":W})}const Ba={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:il};function sl(h,e,r){var l=kn(h),m=[Nt,Dt].indexOf(l)>=0?-1:1,S=typeof r=="function"?r(Object.assign({},e,{placement:h})):r,T=S[0],P=S[1];return T=T||0,P=(P||0)*m,[Nt,Vt].indexOf(l)>=0?{x:P,y:T}:{x:T,y:P}}function ol(h){var e=h.state,r=h.options,l=h.name,m=r.offset,S=m===void 0?[0,0]:m,T=mo.reduce(function(F,W){return F[W]=sl(W,e.rects,S),F},{}),P=T[e.placement],H=P.x,V=P.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=H,e.modifiersData.popperOffsets.y+=V),e.modifiersData[l]=T}const Ka={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ol};function al(h){var e=h.state,r=h.name;e.modifiersData[r]=Ha({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Ao={name:"popperOffsets",enabled:!0,phase:"read",fn:al,data:{}};function ul(h){return h==="x"?"y":"x"}function ll(h){var e=h.state,r=h.options,l=h.name,m=r.mainAxis,S=m===void 0?!0:m,T=r.altAxis,P=T===void 0?!1:T,H=r.boundary,V=r.rootBoundary,F=r.altBoundary,W=r.padding,ae=r.tether,fe=ae===void 0?!0:ae,J=r.tetherOffset,Z=J===void 0?0:J,_e=vi(e,{boundary:H,rootBoundary:V,padding:W,altBoundary:F}),se=kn(e.placement),Be=gi(e.placement),Ue=!Be,Ee=bo(se),$e=ul(Ee),Ce=e.modifiersData.popperOffsets,f=e.rects.reference,Je=e.rects.popper,Te=typeof Z=="function"?Z(Object.assign({},e.rects,{placement:e.placement})):Z,Oe=typeof Te=="number"?{mainAxis:Te,altAxis:Te}:Object.assign({mainAxis:0,altAxis:0},Te),Se=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,nt={x:0,y:0};if(Ce){if(S){var be,ve=Ee==="y"?Dt:Nt,ue=Ee==="y"?Wt:Vt,ne=Ee==="y"?"height":"width",le=Ce[Ee],oe=le+_e[ve],ge=le-_e[ue],ye=fe?-Je[ne]/2:0,Me=Be===Mr?f[ne]:Je[ne],Ye=Be===Mr?-Je[ne]:-f[ne],Ke=e.elements.arrow,Qe=fe&&Ke?yo(Ke):{width:0,height:0},Ze=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Pa(),at=Ze[ve],dt=Ze[ue],gt=Yi(0,f[ne],Qe[ne]),de=Ue?f[ne]/2-ye-gt-at-Oe.mainAxis:Me-gt-at-Oe.mainAxis,Xe=Ue?-f[ne]/2+ye+gt+dt+Oe.mainAxis:Ye+gt+dt+Oe.mainAxis,ht=e.elements.arrow&&zi(e.elements.arrow),De=ht?Ee==="y"?ht.clientTop||0:ht.clientLeft||0:0,pt=(be=Se==null?void 0:Se[Ee])!=null?be:0,Kr=le+de-pt-De,un=le+Xe-pt,Gn=Yi(fe?_s(oe,Kr):oe,le,fe?Rr(ge,un):ge);Ce[Ee]=Gn,nt[Ee]=Gn-le}if(P){var Pn,qt=Ee==="x"?Dt:Nt,Ti=Ee==="x"?Wt:Vt,Bt=Ce[$e],vt=$e==="y"?"height":"width",bt=Bt+_e[qt],kt=Bt-_e[Ti],zt=[Dt,Nt].indexOf(se)!==-1,pe=(Pn=Se==null?void 0:Se[$e])!=null?Pn:0,ot=zt?bt:Bt-f[vt]-Je[vt]-pe+Oe.altAxis,Qn=zt?Bt+f[vt]+Je[vt]-pe-Oe.altAxis:kt,_n=fe&&zt?qu(ot,Bt,Qn):Yi(fe?ot:bt,Bt,fe?Qn:kt);Ce[$e]=_n,nt[$e]=_n-Bt}e.modifiersData[l]=nt}}const Fa={name:"preventOverflow",enabled:!0,phase:"main",fn:ll,requiresIfExists:["offset"]};function cl(h){return{scrollLeft:h.scrollLeft,scrollTop:h.scrollTop}}function fl(h){return h===Ut(h)||!rn(h)?Eo(h):cl(h)}function hl(h){var e=h.getBoundingClientRect(),r=pi(e.width)/h.offsetWidth||1,l=pi(e.height)/h.offsetHeight||1;return r!==1||l!==1}function dl(h,e,r){r===void 0&&(r=!1);var l=rn(e),m=rn(e)&&hl(e),S=pr(e),T=mi(h,m,r),P={scrollLeft:0,scrollTop:0},H={x:0,y:0};return(l||!l&&!r)&&(($n(e)!=="body"||So(S))&&(P=fl(e)),rn(e)?(H=mi(e,!0),H.x+=e.clientLeft,H.y+=e.clientTop):S&&(H.x=To(S))),{x:T.left+P.scrollLeft-H.x,y:T.top+P.scrollTop-H.y,width:T.width,height:T.height}}function pl(h){var e=new Map,r=new Set,l=[];h.forEach(function(S){e.set(S.name,S)});function m(S){r.add(S.name);var T=[].concat(S.requires||[],S.requiresIfExists||[]);T.forEach(function(P){if(!r.has(P)){var H=e.get(P);H&&m(H)}}),l.push(S)}return h.forEach(function(S){r.has(S.name)||m(S)}),l}function ml(h){var e=pl(h);return ka.reduce(function(r,l){return r.concat(e.filter(function(m){return m.phase===l}))},[])}function gl(h){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(h())})})),e}}function vl(h){var e=h.reduce(function(r,l){var m=r[l.name];return r[l.name]=m?Object.assign({},m,l,{options:Object.assign({},m.options,l.options),data:Object.assign({},m.data,l.data)}):l,r},{});return Object.keys(e).map(function(r){return e[r]})}var jo={placement:"bottom",modifiers:[],strategy:"absolute"};function Ho(){for(var h=arguments.length,e=new Array(h),r=0;r<h;r++)e[r]=arguments[r];return!e.some(function(l){return!(l&&typeof l.getBoundingClientRect=="function")})}function xs(h){h===void 0&&(h={});var e=h,r=e.defaultModifiers,l=r===void 0?[]:r,m=e.defaultOptions,S=m===void 0?jo:m;return function(P,H,V){V===void 0&&(V=S);var F={placement:"bottom",orderedModifiers:[],options:Object.assign({},jo,S),modifiersData:{},elements:{reference:P,popper:H},attributes:{},styles:{}},W=[],ae=!1,fe={state:F,setOptions:function(se){var Be=typeof se=="function"?se(F.options):se;Z(),F.options=Object.assign({},S,F.options,Be),F.scrollParents={reference:jr(P)?Wi(P):P.contextElement?Wi(P.contextElement):[],popper:Wi(H)};var Ue=ml(vl([].concat(l,F.options.modifiers)));return F.orderedModifiers=Ue.filter(function(Ee){return Ee.enabled}),J(),fe.update()},forceUpdate:function(){if(!ae){var se=F.elements,Be=se.reference,Ue=se.popper;if(Ho(Be,Ue)){F.rects={reference:dl(Be,zi(Ue),F.options.strategy==="fixed"),popper:yo(Ue)},F.reset=!1,F.placement=F.options.placement,F.orderedModifiers.forEach(function(Oe){return F.modifiersData[Oe.name]=Object.assign({},Oe.data)});for(var Ee=0;Ee<F.orderedModifiers.length;Ee++){if(F.reset===!0){F.reset=!1,Ee=-1;continue}var $e=F.orderedModifiers[Ee],Ce=$e.fn,f=$e.options,Je=f===void 0?{}:f,Te=$e.name;typeof Ce=="function"&&(F=Ce({state:F,options:Je,name:Te,instance:fe})||F)}}}},update:gl(function(){return new Promise(function(_e){fe.forceUpdate(),_e(F)})}),destroy:function(){Z(),ae=!0}};if(!Ho(P,H))return fe;fe.setOptions(V).then(function(_e){!ae&&V.onFirstUpdate&&V.onFirstUpdate(_e)});function J(){F.orderedModifiers.forEach(function(_e){var se=_e.name,Be=_e.options,Ue=Be===void 0?{}:Be,Ee=_e.effect;if(typeof Ee=="function"){var $e=Ee({state:F,name:se,instance:fe,options:Ue}),Ce=function(){};W.push($e||Ce)}})}function Z(){W.forEach(function(_e){return _e()}),W=[]}return fe}}var yl=xs(),bl=[wo,Ao,_o,vo],_l=xs({defaultModifiers:bl}),wl=[wo,Ao,_o,vo,Ka,qa,Fa,Ma,Ba],Co=xs({defaultModifiers:wl});const Ya=Object.freeze(Object.defineProperty({__proto__:null,afterMain:xa,afterRead:Sa,afterWrite:Na,applyStyles:vo,arrow:Ma,auto:As,basePlacements:bi,beforeMain:Aa,beforeRead:Ea,beforeWrite:Oa,bottom:Wt,clippingParents:_a,computeStyles:_o,createPopper:Co,createPopperBase:yl,createPopperLite:_l,detectOverflow:vi,end:di,eventListeners:wo,flip:qa,hide:Ba,left:Nt,main:Ca,modifierPhases:ka,offset:Ka,placements:mo,popper:li,popperGenerator:xs,popperOffsets:Ao,preventOverflow:Fa,read:Ta,reference:wa,right:Vt,start:Mr,top:Dt,variationPlacements:io,viewport:po,write:Da},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const lr=new Map,qs={set(h,e,r){lr.has(h)||lr.set(h,new Map);const l=lr.get(h);if(!l.has(e)&&l.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(l.keys())[0]}.`);return}l.set(e,r)},get(h,e){return lr.has(h)&&lr.get(h).get(e)||null},remove(h,e){if(!lr.has(h))return;const r=lr.get(h);r.delete(e),r.size===0&&lr.delete(h)}},El=1e6,Tl=1e3,ao="transitionend",Wa=h=>(h&&window.CSS&&window.CSS.escape&&(h=h.replace(/#([^\s"#']+)/g,(e,r)=>`#${CSS.escape(r)}`)),h),Sl=h=>h==null?`${h}`:Object.prototype.toString.call(h).match(/\s([a-z]+)/i)[1].toLowerCase(),Al=h=>{do h+=Math.floor(Math.random()*El);while(document.getElementById(h));return h},Cl=h=>{if(!h)return 0;let{transitionDuration:e,transitionDelay:r}=window.getComputedStyle(h);const l=Number.parseFloat(e),m=Number.parseFloat(r);return!l&&!m?0:(e=e.split(",")[0],r=r.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(r))*Tl)},Va=h=>{h.dispatchEvent(new Event(ao))},Vn=h=>!h||typeof h!="object"?!1:(typeof h.jquery<"u"&&(h=h[0]),typeof h.nodeType<"u"),fr=h=>Vn(h)?h.jquery?h[0]:h:typeof h=="string"&&h.length>0?document.querySelector(Wa(h)):null,_i=h=>{if(!Vn(h)||h.getClientRects().length===0)return!1;const e=getComputedStyle(h).getPropertyValue("visibility")==="visible",r=h.closest("details:not([open])");if(!r)return e;if(r!==h){const l=h.closest("summary");if(l&&l.parentNode!==r||l===null)return!1}return e},hr=h=>!h||h.nodeType!==Node.ELEMENT_NODE||h.classList.contains("disabled")?!0:typeof h.disabled<"u"?h.disabled:h.hasAttribute("disabled")&&h.getAttribute("disabled")!=="false",Ua=h=>{if(!document.documentElement.attachShadow)return null;if(typeof h.getRootNode=="function"){const e=h.getRootNode();return e instanceof ShadowRoot?e:null}return h instanceof ShadowRoot?h:h.parentNode?Ua(h.parentNode):null},ws=()=>{},Xi=h=>{h.offsetHeight},za=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Bs=[],xl=h=>{document.readyState==="loading"?(Bs.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Bs)e()}),Bs.push(h)):h()},sn=()=>document.documentElement.dir==="rtl",an=h=>{xl(()=>{const e=za();if(e){const r=h.NAME,l=e.fn[r];e.fn[r]=h.jQueryInterface,e.fn[r].Constructor=h,e.fn[r].noConflict=()=>(e.fn[r]=l,h.jQueryInterface)}})},jt=(h,e=[],r=h)=>typeof h=="function"?h(...e):r,Xa=(h,e,r=!0)=>{if(!r){jt(h);return}const m=Cl(e)+5;let S=!1;const T=({target:P})=>{P===e&&(S=!0,e.removeEventListener(ao,T),jt(h))};e.addEventListener(ao,T),setTimeout(()=>{S||Va(e)},m)},xo=(h,e,r,l)=>{const m=h.length;let S=h.indexOf(e);return S===-1?!r&&l?h[m-1]:h[0]:(S+=r?1:-1,l&&(S=(S+m)%m),h[Math.max(0,Math.min(S,m-1))])},Ol=/[^.]*(?=\..*)\.|.*/,Dl=/\..*/,Nl=/::\d+$/,Ks={};let qo=1;const Ga={mouseenter:"mouseover",mouseleave:"mouseout"},kl=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Qa(h,e){return e&&`${e}::${qo++}`||h.uidEvent||qo++}function Ja(h){const e=Qa(h);return h.uidEvent=e,Ks[e]=Ks[e]||{},Ks[e]}function Ll(h,e){return function r(l){return Oo(l,{delegateTarget:h}),r.oneOff&&Q.off(h,l.type,e),e.apply(h,[l])}}function $l(h,e,r){return function l(m){const S=h.querySelectorAll(e);for(let{target:T}=m;T&&T!==this;T=T.parentNode)for(const P of S)if(P===T)return Oo(m,{delegateTarget:T}),l.oneOff&&Q.off(h,m.type,e,r),r.apply(T,[m])}}function Za(h,e,r=null){return Object.values(h).find(l=>l.callable===e&&l.delegationSelector===r)}function eu(h,e,r){const l=typeof e=="string",m=l?r:e||r;let S=tu(h);return kl.has(S)||(S=h),[l,m,S]}function Bo(h,e,r,l,m){if(typeof e!="string"||!h)return;let[S,T,P]=eu(e,r,l);e in Ga&&(T=(J=>function(Z){if(!Z.relatedTarget||Z.relatedTarget!==Z.delegateTarget&&!Z.delegateTarget.contains(Z.relatedTarget))return J.call(this,Z)})(T));const H=Ja(h),V=H[P]||(H[P]={}),F=Za(V,T,S?r:null);if(F){F.oneOff=F.oneOff&&m;return}const W=Qa(T,e.replace(Ol,"")),ae=S?$l(h,r,T):Ll(h,T);ae.delegationSelector=S?r:null,ae.callable=T,ae.oneOff=m,ae.uidEvent=W,V[W]=ae,h.addEventListener(P,ae,S)}function uo(h,e,r,l,m){const S=Za(e[r],l,m);S&&(h.removeEventListener(r,S,!!m),delete e[r][S.uidEvent])}function Pl(h,e,r,l){const m=e[r]||{};for(const[S,T]of Object.entries(m))S.includes(l)&&uo(h,e,r,T.callable,T.delegationSelector)}function tu(h){return h=h.replace(Dl,""),Ga[h]||h}const Q={on(h,e,r,l){Bo(h,e,r,l,!1)},one(h,e,r,l){Bo(h,e,r,l,!0)},off(h,e,r,l){if(typeof e!="string"||!h)return;const[m,S,T]=eu(e,r,l),P=T!==e,H=Ja(h),V=H[T]||{},F=e.startsWith(".");if(typeof S<"u"){if(!Object.keys(V).length)return;uo(h,H,T,S,m?r:null);return}if(F)for(const W of Object.keys(H))Pl(h,H,W,e.slice(1));for(const[W,ae]of Object.entries(V)){const fe=W.replace(Nl,"");(!P||e.includes(fe))&&uo(h,H,T,ae.callable,ae.delegationSelector)}},trigger(h,e,r){if(typeof e!="string"||!h)return null;const l=za(),m=tu(e),S=e!==m;let T=null,P=!0,H=!0,V=!1;S&&l&&(T=l.Event(e,r),l(h).trigger(T),P=!T.isPropagationStopped(),H=!T.isImmediatePropagationStopped(),V=T.isDefaultPrevented());const F=Oo(new Event(e,{bubbles:P,cancelable:!0}),r);return V&&F.preventDefault(),H&&h.dispatchEvent(F),F.defaultPrevented&&T&&T.preventDefault(),F}};function Oo(h,e={}){for(const[r,l]of Object.entries(e))try{h[r]=l}catch{Object.defineProperty(h,r,{configurable:!0,get(){return l}})}return h}function Ko(h){if(h==="true")return!0;if(h==="false")return!1;if(h===Number(h).toString())return Number(h);if(h===""||h==="null")return null;if(typeof h!="string")return h;try{return JSON.parse(decodeURIComponent(h))}catch{return h}}function Fs(h){return h.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Un={setDataAttribute(h,e,r){h.setAttribute(`data-bs-${Fs(e)}`,r)},removeDataAttribute(h,e){h.removeAttribute(`data-bs-${Fs(e)}`)},getDataAttributes(h){if(!h)return{};const e={},r=Object.keys(h.dataset).filter(l=>l.startsWith("bs")&&!l.startsWith("bsConfig"));for(const l of r){let m=l.replace(/^bs/,"");m=m.charAt(0).toLowerCase()+m.slice(1,m.length),e[m]=Ko(h.dataset[l])}return e},getDataAttribute(h,e){return Ko(h.getAttribute(`data-bs-${Fs(e)}`))}};class Gi{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,r){const l=Vn(r)?Un.getDataAttribute(r,"config"):{};return{...this.constructor.Default,...typeof l=="object"?l:{},...Vn(r)?Un.getDataAttributes(r):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,r=this.constructor.DefaultType){for(const[l,m]of Object.entries(r)){const S=e[l],T=Vn(S)?"element":Sl(S);if(!new RegExp(m).test(T))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${l}" provided type "${T}" but expected type "${m}".`)}}}const Il="5.3.3";class bn extends Gi{constructor(e,r){super(),e=fr(e),e&&(this._element=e,this._config=this._getConfig(r),qs.set(this._element,this.constructor.DATA_KEY,this))}dispose(){qs.remove(this._element,this.constructor.DATA_KEY),Q.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,r,l=!0){Xa(e,r,l)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return qs.get(fr(e),this.DATA_KEY)}static getOrCreateInstance(e,r={}){return this.getInstance(e)||new this(e,typeof r=="object"?r:null)}static get VERSION(){return Il}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Ys=h=>{let e=h.getAttribute("data-bs-target");if(!e||e==="#"){let r=h.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),e=r&&r!=="#"?r.trim():null}return e?e.split(",").map(r=>Wa(r)).join(","):null},we={find(h,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,h))},findOne(h,e=document.documentElement){return Element.prototype.querySelector.call(e,h)},children(h,e){return[].concat(...h.children).filter(r=>r.matches(e))},parents(h,e){const r=[];let l=h.parentNode.closest(e);for(;l;)r.push(l),l=l.parentNode.closest(e);return r},prev(h,e){let r=h.previousElementSibling;for(;r;){if(r.matches(e))return[r];r=r.previousElementSibling}return[]},next(h,e){let r=h.nextElementSibling;for(;r;){if(r.matches(e))return[r];r=r.nextElementSibling}return[]},focusableChildren(h){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(r=>`${r}:not([tabindex^="-"])`).join(",");return this.find(e,h).filter(r=>!hr(r)&&_i(r))},getSelectorFromElement(h){const e=Ys(h);return e&&we.findOne(e)?e:null},getElementFromSelector(h){const e=Ys(h);return e?we.findOne(e):null},getMultipleElementsFromSelector(h){const e=Ys(h);return e?we.find(e):[]}},Os=(h,e="hide")=>{const r=`click.dismiss${h.EVENT_KEY}`,l=h.NAME;Q.on(document,r,`[data-bs-dismiss="${l}"]`,function(m){if(["A","AREA"].includes(this.tagName)&&m.preventDefault(),hr(this))return;const S=we.getElementFromSelector(this)||this.closest(`.${l}`);h.getOrCreateInstance(S)[e]()})},Rl="alert",Ml="bs.alert",nu=`.${Ml}`,jl=`close${nu}`,Hl=`closed${nu}`,ql="fade",Bl="show";class Ds extends bn{static get NAME(){return Rl}close(){if(Q.trigger(this._element,jl).defaultPrevented)return;this._element.classList.remove(Bl);const r=this._element.classList.contains(ql);this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),Q.trigger(this._element,Hl),this.dispose()}static jQueryInterface(e){return this.each(function(){const r=Ds.getOrCreateInstance(this);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}Os(Ds,"close");an(Ds);const Kl="button",Fl="bs.button",Yl=`.${Fl}`,Wl=".data-api",Vl="active",Fo='[data-bs-toggle="button"]',Ul=`click${Yl}${Wl}`;class Ns extends bn{static get NAME(){return Kl}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Vl))}static jQueryInterface(e){return this.each(function(){const r=Ns.getOrCreateInstance(this);e==="toggle"&&r[e]()})}}Q.on(document,Ul,Fo,h=>{h.preventDefault();const e=h.target.closest(Fo);Ns.getOrCreateInstance(e).toggle()});an(Ns);const zl="swipe",wi=".bs.swipe",Xl=`touchstart${wi}`,Gl=`touchmove${wi}`,Ql=`touchend${wi}`,Jl=`pointerdown${wi}`,Zl=`pointerup${wi}`,ec="touch",tc="pen",nc="pointer-event",rc=40,ic={endCallback:null,leftCallback:null,rightCallback:null},sc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Es extends Gi{constructor(e,r){super(),this._element=e,!(!e||!Es.isSupported())&&(this._config=this._getConfig(r),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return ic}static get DefaultType(){return sc}static get NAME(){return zl}dispose(){Q.off(this._element,wi)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),jt(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=rc)return;const r=e/this._deltaX;this._deltaX=0,r&&jt(r>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Q.on(this._element,Jl,e=>this._start(e)),Q.on(this._element,Zl,e=>this._end(e)),this._element.classList.add(nc)):(Q.on(this._element,Xl,e=>this._start(e)),Q.on(this._element,Gl,e=>this._move(e)),Q.on(this._element,Ql,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===tc||e.pointerType===ec)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const oc="carousel",ac="bs.carousel",mr=`.${ac}`,ru=".data-api",uc="ArrowLeft",lc="ArrowRight",cc=500,Ki="next",ai="prev",ci="left",ys="right",fc=`slide${mr}`,Ws=`slid${mr}`,hc=`keydown${mr}`,dc=`mouseenter${mr}`,pc=`mouseleave${mr}`,mc=`dragstart${mr}`,gc=`load${mr}${ru}`,vc=`click${mr}${ru}`,iu="carousel",fs="active",yc="slide",bc="carousel-item-end",_c="carousel-item-start",wc="carousel-item-next",Ec="carousel-item-prev",su=".active",ou=".carousel-item",Tc=su+ou,Sc=".carousel-item img",Ac=".carousel-indicators",Cc="[data-bs-slide], [data-bs-slide-to]",xc='[data-bs-ride="carousel"]',Oc={[uc]:ys,[lc]:ci},Dc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Nc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Qi extends bn{constructor(e,r){super(e,r),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=we.findOne(Ac,this._element),this._addEventListeners(),this._config.ride===iu&&this.cycle()}static get Default(){return Dc}static get DefaultType(){return Nc}static get NAME(){return oc}next(){this._slide(Ki)}nextWhenVisible(){!document.hidden&&_i(this._element)&&this.next()}prev(){this._slide(ai)}pause(){this._isSliding&&Va(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Q.one(this._element,Ws,()=>this.cycle());return}this.cycle()}}to(e){const r=this._getItems();if(e>r.length-1||e<0)return;if(this._isSliding){Q.one(this._element,Ws,()=>this.to(e));return}const l=this._getItemIndex(this._getActive());if(l===e)return;const m=e>l?Ki:ai;this._slide(m,r[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Q.on(this._element,hc,e=>this._keydown(e)),this._config.pause==="hover"&&(Q.on(this._element,dc,()=>this.pause()),Q.on(this._element,pc,()=>this._maybeEnableCycle())),this._config.touch&&Es.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const l of we.find(Sc,this._element))Q.on(l,mc,m=>m.preventDefault());const r={leftCallback:()=>this._slide(this._directionToOrder(ci)),rightCallback:()=>this._slide(this._directionToOrder(ys)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),cc+this._config.interval))}};this._swipeHelper=new Es(this._element,r)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const r=Oc[e.key];r&&(e.preventDefault(),this._slide(this._directionToOrder(r)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const r=we.findOne(su,this._indicatorsElement);r.classList.remove(fs),r.removeAttribute("aria-current");const l=we.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);l&&(l.classList.add(fs),l.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const r=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=r||this._config.defaultInterval}_slide(e,r=null){if(this._isSliding)return;const l=this._getActive(),m=e===Ki,S=r||xo(this._getItems(),l,m,this._config.wrap);if(S===l)return;const T=this._getItemIndex(S),P=fe=>Q.trigger(this._element,fe,{relatedTarget:S,direction:this._orderToDirection(e),from:this._getItemIndex(l),to:T});if(P(fc).defaultPrevented||!l||!S)return;const V=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(T),this._activeElement=S;const F=m?_c:bc,W=m?wc:Ec;S.classList.add(W),Xi(S),l.classList.add(F),S.classList.add(F);const ae=()=>{S.classList.remove(F,W),S.classList.add(fs),l.classList.remove(fs,W,F),this._isSliding=!1,P(Ws)};this._queueCallback(ae,l,this._isAnimated()),V&&this.cycle()}_isAnimated(){return this._element.classList.contains(yc)}_getActive(){return we.findOne(Tc,this._element)}_getItems(){return we.find(ou,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return sn()?e===ci?ai:Ki:e===ci?Ki:ai}_orderToDirection(e){return sn()?e===ai?ci:ys:e===ai?ys:ci}static jQueryInterface(e){return this.each(function(){const r=Qi.getOrCreateInstance(this,e);if(typeof e=="number"){r.to(e);return}if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Q.on(document,vc,Cc,function(h){const e=we.getElementFromSelector(this);if(!e||!e.classList.contains(iu))return;h.preventDefault();const r=Qi.getOrCreateInstance(e),l=this.getAttribute("data-bs-slide-to");if(l){r.to(l),r._maybeEnableCycle();return}if(Un.getDataAttribute(this,"slide")==="next"){r.next(),r._maybeEnableCycle();return}r.prev(),r._maybeEnableCycle()});Q.on(window,gc,()=>{const h=we.find(xc);for(const e of h)Qi.getOrCreateInstance(e)});an(Qi);const kc="collapse",Lc="bs.collapse",Ji=`.${Lc}`,$c=".data-api",Pc=`show${Ji}`,Ic=`shown${Ji}`,Rc=`hide${Ji}`,Mc=`hidden${Ji}`,jc=`click${Ji}${$c}`,Vs="show",hi="collapse",hs="collapsing",Hc="collapsed",qc=`:scope .${hi} .${hi}`,Bc="collapse-horizontal",Kc="width",Fc="height",Yc=".collapse.show, .collapse.collapsing",lo='[data-bs-toggle="collapse"]',Wc={parent:null,toggle:!0},Vc={parent:"(null|element)",toggle:"boolean"};class Ui extends bn{constructor(e,r){super(e,r),this._isTransitioning=!1,this._triggerArray=[];const l=we.find(lo);for(const m of l){const S=we.getSelectorFromElement(m),T=we.find(S).filter(P=>P===this._element);S!==null&&T.length&&this._triggerArray.push(m)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Wc}static get DefaultType(){return Vc}static get NAME(){return kc}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Yc).filter(P=>P!==this._element).map(P=>Ui.getOrCreateInstance(P,{toggle:!1}))),e.length&&e[0]._isTransitioning||Q.trigger(this._element,Pc).defaultPrevented)return;for(const P of e)P.hide();const l=this._getDimension();this._element.classList.remove(hi),this._element.classList.add(hs),this._element.style[l]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const m=()=>{this._isTransitioning=!1,this._element.classList.remove(hs),this._element.classList.add(hi,Vs),this._element.style[l]="",Q.trigger(this._element,Ic)},T=`scroll${l[0].toUpperCase()+l.slice(1)}`;this._queueCallback(m,this._element,!0),this._element.style[l]=`${this._element[T]}px`}hide(){if(this._isTransitioning||!this._isShown()||Q.trigger(this._element,Rc).defaultPrevented)return;const r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,Xi(this._element),this._element.classList.add(hs),this._element.classList.remove(hi,Vs);for(const m of this._triggerArray){const S=we.getElementFromSelector(m);S&&!this._isShown(S)&&this._addAriaAndCollapsedClass([m],!1)}this._isTransitioning=!0;const l=()=>{this._isTransitioning=!1,this._element.classList.remove(hs),this._element.classList.add(hi),Q.trigger(this._element,Mc)};this._element.style[r]="",this._queueCallback(l,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Vs)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=fr(e.parent),e}_getDimension(){return this._element.classList.contains(Bc)?Kc:Fc}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(lo);for(const r of e){const l=we.getElementFromSelector(r);l&&this._addAriaAndCollapsedClass([r],this._isShown(l))}}_getFirstLevelChildren(e){const r=we.find(qc,this._config.parent);return we.find(e,this._config.parent).filter(l=>!r.includes(l))}_addAriaAndCollapsedClass(e,r){if(e.length)for(const l of e)l.classList.toggle(Hc,!r),l.setAttribute("aria-expanded",r)}static jQueryInterface(e){const r={};return typeof e=="string"&&/show|hide/.test(e)&&(r.toggle=!1),this.each(function(){const l=Ui.getOrCreateInstance(this,r);if(typeof e=="string"){if(typeof l[e]>"u")throw new TypeError(`No method named "${e}"`);l[e]()}})}}Q.on(document,jc,lo,function(h){(h.target.tagName==="A"||h.delegateTarget&&h.delegateTarget.tagName==="A")&&h.preventDefault();for(const e of we.getMultipleElementsFromSelector(this))Ui.getOrCreateInstance(e,{toggle:!1}).toggle()});an(Ui);const Yo="dropdown",Uc="bs.dropdown",qr=`.${Uc}`,Do=".data-api",zc="Escape",Wo="Tab",Xc="ArrowUp",Vo="ArrowDown",Gc=2,Qc=`hide${qr}`,Jc=`hidden${qr}`,Zc=`show${qr}`,ef=`shown${qr}`,au=`click${qr}${Do}`,uu=`keydown${qr}${Do}`,tf=`keyup${qr}${Do}`,fi="show",nf="dropup",rf="dropend",sf="dropstart",of="dropup-center",af="dropdown-center",Pr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',uf=`${Pr}.${fi}`,bs=".dropdown-menu",lf=".navbar",cf=".navbar-nav",ff=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",hf=sn()?"top-end":"top-start",df=sn()?"top-start":"top-end",pf=sn()?"bottom-end":"bottom-start",mf=sn()?"bottom-start":"bottom-end",gf=sn()?"left-start":"right-start",vf=sn()?"right-start":"left-start",yf="top",bf="bottom",_f={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},wf={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ln extends bn{constructor(e,r){super(e,r),this._popper=null,this._parent=this._element.parentNode,this._menu=we.next(this._element,bs)[0]||we.prev(this._element,bs)[0]||we.findOne(bs,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return _f}static get DefaultType(){return wf}static get NAME(){return Yo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(hr(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Q.trigger(this._element,Zc,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(cf))for(const l of[].concat(...document.body.children))Q.on(l,"mouseover",ws);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(fi),this._element.classList.add(fi),Q.trigger(this._element,ef,e)}}hide(){if(hr(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Q.trigger(this._element,Qc,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))Q.off(l,"mouseover",ws);this._popper&&this._popper.destroy(),this._menu.classList.remove(fi),this._element.classList.remove(fi),this._element.setAttribute("aria-expanded","false"),Un.removeDataAttribute(this._menu,"popper"),Q.trigger(this._element,Jc,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Vn(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Yo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Ya>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Vn(this._config.reference)?e=fr(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const r=this._getPopperConfig();this._popper=Co(e,this._menu,r)}_isShown(){return this._menu.classList.contains(fi)}_getPlacement(){const e=this._parent;if(e.classList.contains(rf))return gf;if(e.classList.contains(sf))return vf;if(e.classList.contains(of))return yf;if(e.classList.contains(af))return bf;const r=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(nf)?r?df:hf:r?mf:pf}_detectNavbar(){return this._element.closest(lf)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Un.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...jt(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:r}){const l=we.find(ff,this._menu).filter(m=>_i(m));l.length&&xo(l,r,e===Vo,!l.includes(r)).focus()}static jQueryInterface(e){return this.each(function(){const r=Ln.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}static clearMenus(e){if(e.button===Gc||e.type==="keyup"&&e.key!==Wo)return;const r=we.find(uf);for(const l of r){const m=Ln.getInstance(l);if(!m||m._config.autoClose===!1)continue;const S=e.composedPath(),T=S.includes(m._menu);if(S.includes(m._element)||m._config.autoClose==="inside"&&!T||m._config.autoClose==="outside"&&T||m._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Wo||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const P={relatedTarget:m._element};e.type==="click"&&(P.clickEvent=e),m._completeHide(P)}}static dataApiKeydownHandler(e){const r=/input|textarea/i.test(e.target.tagName),l=e.key===zc,m=[Xc,Vo].includes(e.key);if(!m&&!l||r&&!l)return;e.preventDefault();const S=this.matches(Pr)?this:we.prev(this,Pr)[0]||we.next(this,Pr)[0]||we.findOne(Pr,e.delegateTarget.parentNode),T=Ln.getOrCreateInstance(S);if(m){e.stopPropagation(),T.show(),T._selectMenuItem(e);return}T._isShown()&&(e.stopPropagation(),T.hide(),S.focus())}}Q.on(document,uu,Pr,Ln.dataApiKeydownHandler);Q.on(document,uu,bs,Ln.dataApiKeydownHandler);Q.on(document,au,Ln.clearMenus);Q.on(document,tf,Ln.clearMenus);Q.on(document,au,Pr,function(h){h.preventDefault(),Ln.getOrCreateInstance(this).toggle()});an(Ln);const lu="backdrop",Ef="fade",Uo="show",zo=`mousedown.bs.${lu}`,Tf={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Sf={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class cu extends Gi{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Tf}static get DefaultType(){return Sf}static get NAME(){return lu}show(e){if(!this._config.isVisible){jt(e);return}this._append();const r=this._getElement();this._config.isAnimated&&Xi(r),r.classList.add(Uo),this._emulateAnimation(()=>{jt(e)})}hide(e){if(!this._config.isVisible){jt(e);return}this._getElement().classList.remove(Uo),this._emulateAnimation(()=>{this.dispose(),jt(e)})}dispose(){this._isAppended&&(Q.off(this._element,zo),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Ef),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=fr(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Q.on(e,zo,()=>{jt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Xa(e,this._getElement(),this._config.isAnimated)}}const Af="focustrap",Cf="bs.focustrap",Ts=`.${Cf}`,xf=`focusin${Ts}`,Of=`keydown.tab${Ts}`,Df="Tab",Nf="forward",Xo="backward",kf={autofocus:!0,trapElement:null},Lf={autofocus:"boolean",trapElement:"element"};class fu extends Gi{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return kf}static get DefaultType(){return Lf}static get NAME(){return Af}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Q.off(document,Ts),Q.on(document,xf,e=>this._handleFocusin(e)),Q.on(document,Of,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Q.off(document,Ts))}_handleFocusin(e){const{trapElement:r}=this._config;if(e.target===document||e.target===r||r.contains(e.target))return;const l=we.focusableChildren(r);l.length===0?r.focus():this._lastTabNavDirection===Xo?l[l.length-1].focus():l[0].focus()}_handleKeydown(e){e.key===Df&&(this._lastTabNavDirection=e.shiftKey?Xo:Nf)}}const Go=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Qo=".sticky-top",ds="padding-right",Jo="margin-right";class co{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ds,r=>r+e),this._setElementAttributes(Go,ds,r=>r+e),this._setElementAttributes(Qo,Jo,r=>r-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ds),this._resetElementAttributes(Go,ds),this._resetElementAttributes(Qo,Jo)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,r,l){const m=this.getWidth(),S=T=>{if(T!==this._element&&window.innerWidth>T.clientWidth+m)return;this._saveInitialAttribute(T,r);const P=window.getComputedStyle(T).getPropertyValue(r);T.style.setProperty(r,`${l(Number.parseFloat(P))}px`)};this._applyManipulationCallback(e,S)}_saveInitialAttribute(e,r){const l=e.style.getPropertyValue(r);l&&Un.setDataAttribute(e,r,l)}_resetElementAttributes(e,r){const l=m=>{const S=Un.getDataAttribute(m,r);if(S===null){m.style.removeProperty(r);return}Un.removeDataAttribute(m,r),m.style.setProperty(r,S)};this._applyManipulationCallback(e,l)}_applyManipulationCallback(e,r){if(Vn(e)){r(e);return}for(const l of we.find(e,this._element))r(l)}}const $f="modal",Pf="bs.modal",on=`.${Pf}`,If=".data-api",Rf="Escape",Mf=`hide${on}`,jf=`hidePrevented${on}`,hu=`hidden${on}`,du=`show${on}`,Hf=`shown${on}`,qf=`resize${on}`,Bf=`click.dismiss${on}`,Kf=`mousedown.dismiss${on}`,Ff=`keydown.dismiss${on}`,Yf=`click${on}${If}`,Zo="modal-open",Wf="fade",ea="show",Us="modal-static",Vf=".modal.show",Uf=".modal-dialog",zf=".modal-body",Xf='[data-bs-toggle="modal"]',Gf={backdrop:!0,focus:!0,keyboard:!0},Qf={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Hr extends bn{constructor(e,r){super(e,r),this._dialog=we.findOne(Uf,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new co,this._addEventListeners()}static get Default(){return Gf}static get DefaultType(){return Qf}static get NAME(){return $f}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Q.trigger(this._element,du,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Zo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Q.trigger(this._element,Mf).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ea),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Q.off(window,on),Q.off(this._dialog,on),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new cu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new fu({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const r=we.findOne(zf,this._dialog);r&&(r.scrollTop=0),Xi(this._element),this._element.classList.add(ea);const l=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Q.trigger(this._element,Hf,{relatedTarget:e})};this._queueCallback(l,this._dialog,this._isAnimated())}_addEventListeners(){Q.on(this._element,Ff,e=>{if(e.key===Rf){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Q.on(window,qf,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Q.on(this._element,Kf,e=>{Q.one(this._element,Bf,r=>{if(!(this._element!==e.target||this._element!==r.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Zo),this._resetAdjustments(),this._scrollBar.reset(),Q.trigger(this._element,hu)})}_isAnimated(){return this._element.classList.contains(Wf)}_triggerBackdropTransition(){if(Q.trigger(this._element,jf).defaultPrevented)return;const r=this._element.scrollHeight>document.documentElement.clientHeight,l=this._element.style.overflowY;l==="hidden"||this._element.classList.contains(Us)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(Us),this._queueCallback(()=>{this._element.classList.remove(Us),this._queueCallback(()=>{this._element.style.overflowY=l},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,r=this._scrollBar.getWidth(),l=r>0;if(l&&!e){const m=sn()?"paddingLeft":"paddingRight";this._element.style[m]=`${r}px`}if(!l&&e){const m=sn()?"paddingRight":"paddingLeft";this._element.style[m]=`${r}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,r){return this.each(function(){const l=Hr.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof l[e]>"u")throw new TypeError(`No method named "${e}"`);l[e](r)}})}}Q.on(document,Yf,Xf,function(h){const e=we.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&h.preventDefault(),Q.one(e,du,m=>{m.defaultPrevented||Q.one(e,hu,()=>{_i(this)&&this.focus()})});const r=we.findOne(Vf);r&&Hr.getInstance(r).hide(),Hr.getOrCreateInstance(e).toggle(this)});Os(Hr);an(Hr);const Jf="offcanvas",Zf="bs.offcanvas",Xn=`.${Zf}`,pu=".data-api",eh=`load${Xn}${pu}`,th="Escape",ta="show",na="showing",ra="hiding",nh="offcanvas-backdrop",mu=".offcanvas.show",rh=`show${Xn}`,ih=`shown${Xn}`,sh=`hide${Xn}`,ia=`hidePrevented${Xn}`,gu=`hidden${Xn}`,oh=`resize${Xn}`,ah=`click${Xn}${pu}`,uh=`keydown.dismiss${Xn}`,lh='[data-bs-toggle="offcanvas"]',ch={backdrop:!0,keyboard:!0,scroll:!1},fh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class dr extends bn{constructor(e,r){super(e,r),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ch}static get DefaultType(){return fh}static get NAME(){return Jf}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Q.trigger(this._element,rh,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new co().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(na);const l=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(ta),this._element.classList.remove(na),Q.trigger(this._element,ih,{relatedTarget:e})};this._queueCallback(l,this._element,!0)}hide(){if(!this._isShown||Q.trigger(this._element,sh).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ra),this._backdrop.hide();const r=()=>{this._element.classList.remove(ta,ra),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new co().reset(),Q.trigger(this._element,gu)};this._queueCallback(r,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){Q.trigger(this._element,ia);return}this.hide()},r=!!this._config.backdrop;return new cu({className:nh,isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?e:null})}_initializeFocusTrap(){return new fu({trapElement:this._element})}_addEventListeners(){Q.on(this._element,uh,e=>{if(e.key===th){if(this._config.keyboard){this.hide();return}Q.trigger(this._element,ia)}})}static jQueryInterface(e){return this.each(function(){const r=dr.getOrCreateInstance(this,e);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}Q.on(document,ah,lh,function(h){const e=we.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&h.preventDefault(),hr(this))return;Q.one(e,gu,()=>{_i(this)&&this.focus()});const r=we.findOne(mu);r&&r!==e&&dr.getInstance(r).hide(),dr.getOrCreateInstance(e).toggle(this)});Q.on(window,eh,()=>{for(const h of we.find(mu))dr.getOrCreateInstance(h).show()});Q.on(window,oh,()=>{for(const h of we.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(h).position!=="fixed"&&dr.getOrCreateInstance(h).hide()});Os(dr);an(dr);const hh=/^aria-[\w-]*$/i,vu={"*":["class","dir","id","lang","role",hh],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},dh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ph=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,mh=(h,e)=>{const r=h.nodeName.toLowerCase();return e.includes(r)?dh.has(r)?!!ph.test(h.nodeValue):!0:e.filter(l=>l instanceof RegExp).some(l=>l.test(r))};function gh(h,e,r){if(!h.length)return h;if(r&&typeof r=="function")return r(h);const m=new window.DOMParser().parseFromString(h,"text/html"),S=[].concat(...m.body.querySelectorAll("*"));for(const T of S){const P=T.nodeName.toLowerCase();if(!Object.keys(e).includes(P)){T.remove();continue}const H=[].concat(...T.attributes),V=[].concat(e["*"]||[],e[P]||[]);for(const F of H)mh(F,V)||T.removeAttribute(F.nodeName)}return m.body.innerHTML}const vh="TemplateFactory",yh={allowList:vu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},bh={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},_h={entry:"(string|element|function|null)",selector:"(string|element)"};class wh extends Gi{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return yh}static get DefaultType(){return bh}static get NAME(){return vh}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[m,S]of Object.entries(this._config.content))this._setContent(e,S,m);const r=e.children[0],l=this._resolvePossibleFunction(this._config.extraClass);return l&&r.classList.add(...l.split(" ")),r}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[r,l]of Object.entries(e))super._typeCheckConfig({selector:r,entry:l},_h)}_setContent(e,r,l){const m=we.findOne(l,e);if(m){if(r=this._resolvePossibleFunction(r),!r){m.remove();return}if(Vn(r)){this._putElementInTemplate(fr(r),m);return}if(this._config.html){m.innerHTML=this._maybeSanitize(r);return}m.textContent=r}}_maybeSanitize(e){return this._config.sanitize?gh(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return jt(e,[this])}_putElementInTemplate(e,r){if(this._config.html){r.innerHTML="",r.append(e);return}r.textContent=e.textContent}}const Eh="tooltip",Th=new Set(["sanitize","allowList","sanitizeFn"]),zs="fade",Sh="modal",ps="show",Ah=".tooltip-inner",sa=`.${Sh}`,oa="hide.bs.modal",Fi="hover",Xs="focus",Ch="click",xh="manual",Oh="hide",Dh="hidden",Nh="show",kh="shown",Lh="inserted",$h="click",Ph="focusin",Ih="focusout",Rh="mouseenter",Mh="mouseleave",jh={AUTO:"auto",TOP:"top",RIGHT:sn()?"left":"right",BOTTOM:"bottom",LEFT:sn()?"right":"left"},Hh={allowList:vu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},qh={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ei extends bn{constructor(e,r){if(typeof Ya>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,r),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Hh}static get DefaultType(){return qh}static get NAME(){return Eh}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Q.off(this._element.closest(sa),oa,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=Q.trigger(this._element,this.constructor.eventName(Nh)),l=(Ua(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!l)return;this._disposePopper();const m=this._getTipElement();this._element.setAttribute("aria-describedby",m.getAttribute("id"));const{container:S}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(S.append(m),Q.trigger(this._element,this.constructor.eventName(Lh))),this._popper=this._createPopper(m),m.classList.add(ps),"ontouchstart"in document.documentElement)for(const P of[].concat(...document.body.children))Q.on(P,"mouseover",ws);const T=()=>{Q.trigger(this._element,this.constructor.eventName(kh)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(T,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Q.trigger(this._element,this.constructor.eventName(Oh)).defaultPrevented)return;if(this._getTipElement().classList.remove(ps),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))Q.off(m,"mouseover",ws);this._activeTrigger[Ch]=!1,this._activeTrigger[Xs]=!1,this._activeTrigger[Fi]=!1,this._isHovered=null;const l=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Q.trigger(this._element,this.constructor.eventName(Dh)))};this._queueCallback(l,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const r=this._getTemplateFactory(e).toHtml();if(!r)return null;r.classList.remove(zs,ps),r.classList.add(`bs-${this.constructor.NAME}-auto`);const l=Al(this.constructor.NAME).toString();return r.setAttribute("id",l),this._isAnimated()&&r.classList.add(zs),r}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new wh({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Ah]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(zs)}_isShown(){return this.tip&&this.tip.classList.contains(ps)}_createPopper(e){const r=jt(this._config.placement,[this,e,this._element]),l=jh[r.toUpperCase()];return Co(this._element,e,this._getPopperConfig(l))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(r=>Number.parseInt(r,10)):typeof e=="function"?r=>e(r,this._element):e}_resolvePossibleFunction(e){return jt(e,[this._element])}_getPopperConfig(e){const r={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:l=>{this._getTipElement().setAttribute("data-popper-placement",l.state.placement)}}]};return{...r,...jt(this._config.popperConfig,[r])}}_setListeners(){const e=this._config.trigger.split(" ");for(const r of e)if(r==="click")Q.on(this._element,this.constructor.eventName($h),this._config.selector,l=>{this._initializeOnDelegatedTarget(l).toggle()});else if(r!==xh){const l=r===Fi?this.constructor.eventName(Rh):this.constructor.eventName(Ph),m=r===Fi?this.constructor.eventName(Mh):this.constructor.eventName(Ih);Q.on(this._element,l,this._config.selector,S=>{const T=this._initializeOnDelegatedTarget(S);T._activeTrigger[S.type==="focusin"?Xs:Fi]=!0,T._enter()}),Q.on(this._element,m,this._config.selector,S=>{const T=this._initializeOnDelegatedTarget(S);T._activeTrigger[S.type==="focusout"?Xs:Fi]=T._element.contains(S.relatedTarget),T._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Q.on(this._element.closest(sa),oa,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,r){clearTimeout(this._timeout),this._timeout=setTimeout(e,r)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const r=Un.getDataAttributes(this._element);for(const l of Object.keys(r))Th.has(l)&&delete r[l];return e={...r,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:fr(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[r,l]of Object.entries(this._config))this.constructor.Default[r]!==l&&(e[r]=l);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const r=Ei.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}an(Ei);const Bh="popover",Kh=".popover-header",Fh=".popover-body",Yh={...Ei.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Wh={...Ei.DefaultType,content:"(null|string|element|function)"};class No extends Ei{static get Default(){return Yh}static get DefaultType(){return Wh}static get NAME(){return Bh}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Kh]:this._getTitle(),[Fh]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const r=No.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}an(No);const Vh="scrollspy",Uh="bs.scrollspy",ko=`.${Uh}`,zh=".data-api",Xh=`activate${ko}`,aa=`click${ko}`,Gh=`load${ko}${zh}`,Qh="dropdown-item",ui="active",Jh='[data-bs-spy="scroll"]',Gs="[href]",Zh=".nav, .list-group",ua=".nav-link",ed=".nav-item",td=".list-group-item",nd=`${ua}, ${ed} > ${ua}, ${td}`,rd=".dropdown",id=".dropdown-toggle",sd={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},od={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ks extends bn{constructor(e,r){super(e,r),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return sd}static get DefaultType(){return od}static get NAME(){return Vh}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=fr(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(r=>Number.parseFloat(r))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Q.off(this._config.target,aa),Q.on(this._config.target,aa,Gs,e=>{const r=this._observableSections.get(e.target.hash);if(r){e.preventDefault();const l=this._rootElement||window,m=r.offsetTop-this._element.offsetTop;if(l.scrollTo){l.scrollTo({top:m,behavior:"smooth"});return}l.scrollTop=m}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(r=>this._observerCallback(r),e)}_observerCallback(e){const r=T=>this._targetLinks.get(`#${T.target.id}`),l=T=>{this._previousScrollData.visibleEntryTop=T.target.offsetTop,this._process(r(T))},m=(this._rootElement||document.documentElement).scrollTop,S=m>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=m;for(const T of e){if(!T.isIntersecting){this._activeTarget=null,this._clearActiveClass(r(T));continue}const P=T.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(S&&P){if(l(T),!m)return;continue}!S&&!P&&l(T)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=we.find(Gs,this._config.target);for(const r of e){if(!r.hash||hr(r))continue;const l=we.findOne(decodeURI(r.hash),this._element);_i(l)&&(this._targetLinks.set(decodeURI(r.hash),r),this._observableSections.set(r.hash,l))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(ui),this._activateParents(e),Q.trigger(this._element,Xh,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Qh)){we.findOne(id,e.closest(rd)).classList.add(ui);return}for(const r of we.parents(e,Zh))for(const l of we.prev(r,nd))l.classList.add(ui)}_clearActiveClass(e){e.classList.remove(ui);const r=we.find(`${Gs}.${ui}`,e);for(const l of r)l.classList.remove(ui)}static jQueryInterface(e){return this.each(function(){const r=ks.getOrCreateInstance(this,e);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Q.on(window,Gh,()=>{for(const h of we.find(Jh))ks.getOrCreateInstance(h)});an(ks);const ad="tab",ud="bs.tab",Br=`.${ud}`,ld=`hide${Br}`,cd=`hidden${Br}`,fd=`show${Br}`,hd=`shown${Br}`,dd=`click${Br}`,pd=`keydown${Br}`,md=`load${Br}`,gd="ArrowLeft",la="ArrowRight",vd="ArrowUp",ca="ArrowDown",Qs="Home",fa="End",Ir="active",ha="fade",Js="show",yd="dropdown",yu=".dropdown-toggle",bd=".dropdown-menu",Zs=`:not(${yu})`,_d='.list-group, .nav, [role="tablist"]',wd=".nav-item, .list-group-item",Ed=`.nav-link${Zs}, .list-group-item${Zs}, [role="tab"]${Zs}`,bu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',eo=`${Ed}, ${bu}`,Td=`.${Ir}[data-bs-toggle="tab"], .${Ir}[data-bs-toggle="pill"], .${Ir}[data-bs-toggle="list"]`;class yi extends bn{constructor(e){super(e),this._parent=this._element.closest(_d),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Q.on(this._element,pd,r=>this._keydown(r)))}static get NAME(){return ad}show(){const e=this._element;if(this._elemIsActive(e))return;const r=this._getActiveElem(),l=r?Q.trigger(r,ld,{relatedTarget:e}):null;Q.trigger(e,fd,{relatedTarget:r}).defaultPrevented||l&&l.defaultPrevented||(this._deactivate(r,e),this._activate(e,r))}_activate(e,r){if(!e)return;e.classList.add(Ir),this._activate(we.getElementFromSelector(e));const l=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Js);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Q.trigger(e,hd,{relatedTarget:r})};this._queueCallback(l,e,e.classList.contains(ha))}_deactivate(e,r){if(!e)return;e.classList.remove(Ir),e.blur(),this._deactivate(we.getElementFromSelector(e));const l=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Js);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Q.trigger(e,cd,{relatedTarget:r})};this._queueCallback(l,e,e.classList.contains(ha))}_keydown(e){if(![gd,la,vd,ca,Qs,fa].includes(e.key))return;e.stopPropagation(),e.preventDefault();const r=this._getChildren().filter(m=>!hr(m));let l;if([Qs,fa].includes(e.key))l=r[e.key===Qs?0:r.length-1];else{const m=[la,ca].includes(e.key);l=xo(r,e.target,m,!0)}l&&(l.focus({preventScroll:!0}),yi.getOrCreateInstance(l).show())}_getChildren(){return we.find(eo,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,r){this._setAttributeIfNotExists(e,"role","tablist");for(const l of r)this._setInitialAttributesOnChild(l)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const r=this._elemIsActive(e),l=this._getOuterElement(e);e.setAttribute("aria-selected",r),l!==e&&this._setAttributeIfNotExists(l,"role","presentation"),r||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const r=we.getElementFromSelector(e);r&&(this._setAttributeIfNotExists(r,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(r,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,r){const l=this._getOuterElement(e);if(!l.classList.contains(yd))return;const m=(S,T)=>{const P=we.findOne(S,l);P&&P.classList.toggle(T,r)};m(yu,Ir),m(bd,Js),l.setAttribute("aria-expanded",r)}_setAttributeIfNotExists(e,r,l){e.hasAttribute(r)||e.setAttribute(r,l)}_elemIsActive(e){return e.classList.contains(Ir)}_getInnerElement(e){return e.matches(eo)?e:we.findOne(eo,e)}_getOuterElement(e){return e.closest(wd)||e}static jQueryInterface(e){return this.each(function(){const r=yi.getOrCreateInstance(this);if(typeof e=="string"){if(r[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);r[e]()}})}}Q.on(document,dd,bu,function(h){["A","AREA"].includes(this.tagName)&&h.preventDefault(),!hr(this)&&yi.getOrCreateInstance(this).show()});Q.on(window,md,()=>{for(const h of we.find(Td))yi.getOrCreateInstance(h)});an(yi);const Sd="toast",Ad="bs.toast",gr=`.${Ad}`,Cd=`mouseover${gr}`,xd=`mouseout${gr}`,Od=`focusin${gr}`,Dd=`focusout${gr}`,Nd=`hide${gr}`,kd=`hidden${gr}`,Ld=`show${gr}`,$d=`shown${gr}`,Pd="fade",da="hide",ms="show",gs="showing",Id={animation:"boolean",autohide:"boolean",delay:"number"},Rd={animation:!0,autohide:!0,delay:5e3};class Ls extends bn{constructor(e,r){super(e,r),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Rd}static get DefaultType(){return Id}static get NAME(){return Sd}show(){if(Q.trigger(this._element,Ld).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Pd);const r=()=>{this._element.classList.remove(gs),Q.trigger(this._element,$d),this._maybeScheduleHide()};this._element.classList.remove(da),Xi(this._element),this._element.classList.add(ms,gs),this._queueCallback(r,this._element,this._config.animation)}hide(){if(!this.isShown()||Q.trigger(this._element,Nd).defaultPrevented)return;const r=()=>{this._element.classList.add(da),this._element.classList.remove(gs,ms),Q.trigger(this._element,kd)};this._element.classList.add(gs),this._queueCallback(r,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ms),super.dispose()}isShown(){return this._element.classList.contains(ms)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,r){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=r;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=r;break}}if(r){this._clearTimeout();return}const l=e.relatedTarget;this._element===l||this._element.contains(l)||this._maybeScheduleHide()}_setListeners(){Q.on(this._element,Cd,e=>this._onInteraction(e,!0)),Q.on(this._element,xd,e=>this._onInteraction(e,!1)),Q.on(this._element,Od,e=>this._onInteraction(e,!0)),Q.on(this._element,Dd,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const r=Ls.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](this)}})}}Os(Ls);an(Ls);class Md{constructor(){z(this,"id","ticketModal");z(this,"modal",null);z(this,"ticketId",null);const e=document.querySelector(`#${this.id}`);e&&(this.modal=new Hr(e))}handler(){const e=document.querySelector("#btnRedirectTicket");e&&e.addEventListener("click",()=>{this.modal&&(this.modal.hide(),window.location.href=`/ticket?id=${this.ticketId}`)})}show(e){if(this.modal&&e.ticket){this.ticketId=e.ticket.id;const r=document.querySelector("#modal_ticket_id");r&&(r.textContent=e.ticket.id_disp??"");const l=document.querySelector("#ticket_name");l&&(l.value=e.ticket.name??"");const m=document.querySelector("#description");if(m&&(m.innerHTML=e.ticket.description??""),e.members&&e.members.length>0){const F=document.querySelector("#members");if(F){let W='<table class="table table-hover">';W+="<thead>",W+="<tr>",W+='<th scope="col">ã¡ã¼ã«ã¢ãã¬ã¹</th>',W+='<th scope="col">åå</th>',W+="</tr>",W+="</thead>",W+="<tbody>";for(const ae of e.members)W+="<tr>",W+=`<td>${ae.email}</td>`,W+=`<td>${ae.name}</td>`,W+="</tr>";W+="</tbody>",W+="</table>",F.innerHTML=W}}const S=document.querySelector("#start_date");if(S){let F='<label class="form-label" for="startdate">éå§æ¥</label>';F+=`<input class="form-control" id="startdate" type="date" value="${e.ticket.start_date??""}">`,S.innerHTML=F}const T=document.querySelector("#end_date");if(T){let F='<label class="form-label" for="enddate">çµäºæ¥</label>';F+=`<input class="form-control" id="enddate" type="date" value="${e.ticket.end_date??""}">`,T.innerHTML=F}const P=document.querySelector("#progress");P&&(P.value=`${e.ticket.progress}`);const H=document.querySelector("#finished");H&&(H.checked=e.ticket.progress===100);const V=document.querySelector(`#priority${e.ticket.priority}`);if(V&&(V.checked=!0),e.parent){const F=document.querySelector("#parent");F&&(F.innerHTML=`${e.parent.id_disp}&nbsp;&nbsp;${e.parent.name}`)}if(e.children){const F=document.querySelector("#children");if(F){let W="";for(const ae of e.children)W+=`<p class="mb-0">${ae.id_disp}&nbsp;&nbsp;${ae.name}</p>`;F.innerHTML=W}}this.modal.show()}}hide(){this.modal&&this.modal.hide()}}var _u={exports:{}};(function(h,e){(function(r,l){h.exports=l()})(Vi,function(){var r=function(n,s){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(u[y]=d[y])})(n,s)},l=function(){return(l=Object.assign||function(n){for(var s,u=1,d=arguments.length;u<d;u++)for(var y in s=arguments[u])Object.prototype.hasOwnProperty.call(s,y)&&(n[y]=s[y]);return n}).apply(this,arguments)};function m(n,s,u){for(var d,y=0,a=s.length;y<a;y++)!d&&y in s||((d=d||Array.prototype.slice.call(s,0,y))[y]=s[y]);return n.concat(d||Array.prototype.slice.call(s))}var S=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Vi,T=Object.keys,P=Array.isArray;function H(n,s){return typeof s!="object"||T(s).forEach(function(u){n[u]=s[u]}),n}typeof Promise>"u"||S.Promise||(S.Promise=Promise);var V=Object.getPrototypeOf,F={}.hasOwnProperty;function W(n,s){return F.call(n,s)}function ae(n,s){typeof s=="function"&&(s=s(V(n))),(typeof Reflect>"u"?T:Reflect.ownKeys)(s).forEach(function(u){J(n,u,s[u])})}var fe=Object.defineProperty;function J(n,s,u,d){fe(n,s,H(u&&W(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},d))}function Z(n){return{from:function(s){return n.prototype=Object.create(s.prototype),J(n.prototype,"constructor",n),{extend:ae.bind(null,n.prototype)}}}}var _e=Object.getOwnPropertyDescriptor,se=[].slice;function Be(n,s,u){return se.call(n,s,u)}function Ue(n,s){return s(n)}function Ee(n){if(!n)throw new Error("Assertion Failed")}function $e(n){S.setImmediate?setImmediate(n):setTimeout(n,0)}function Ce(n,s){if(typeof s=="string"&&W(n,s))return n[s];if(!s)return n;if(typeof s!="string"){for(var u=[],d=0,y=s.length;d<y;++d){var a=Ce(n,s[d]);u.push(a)}return u}var p=s.indexOf(".");if(p!==-1){var b=n[s.substr(0,p)];return b==null?void 0:Ce(b,s.substr(p+1))}}function f(n,s,u){if(n&&s!==void 0&&!("isFrozen"in Object&&Object.isFrozen(n)))if(typeof s!="string"&&"length"in s){Ee(typeof u!="string"&&"length"in u);for(var d=0,y=s.length;d<y;++d)f(n,s[d],u[d])}else{var a,p,b=s.indexOf(".");b!==-1?(a=s.substr(0,b),(p=s.substr(b+1))===""?u===void 0?P(n)&&!isNaN(parseInt(a))?n.splice(a,1):delete n[a]:n[a]=u:f(b=!(b=n[a])||!W(n,a)?n[a]={}:b,p,u)):u===void 0?P(n)&&!isNaN(parseInt(s))?n.splice(s,1):delete n[s]:n[s]=u}}function Je(n){var s,u={};for(s in n)W(n,s)&&(u[s]=n[s]);return u}var Te=[].concat;function Oe(n){return Te.apply([],n)}var ut="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Oe([8,16,32,64].map(function(n){return["Int","Uint","Float"].map(function(s){return s+n+"Array"})}))).filter(function(n){return S[n]}),Se=new Set(ut.map(function(n){return S[n]})),nt=null;function be(n){return nt=new WeakMap,n=function s(u){if(!u||typeof u!="object")return u;var d=nt.get(u);if(d)return d;if(P(u)){d=[],nt.set(u,d);for(var y=0,a=u.length;y<a;++y)d.push(s(u[y]))}else if(Se.has(u.constructor))d=u;else{var p,b=V(u);for(p in d=b===Object.prototype?{}:Object.create(b),nt.set(u,d),u)W(u,p)&&(d[p]=s(u[p]))}return d}(n),nt=null,n}var ve={}.toString;function ue(n){return ve.call(n).slice(8,-1)}var ne=typeof Symbol<"u"?Symbol.iterator:"@@iterator",le=typeof ne=="symbol"?function(n){var s;return n!=null&&(s=n[ne])&&s.apply(n)}:function(){return null};function oe(n,s){return s=n.indexOf(s),0<=s&&n.splice(s,1),0<=s}var ge={};function ye(n){var s,u,d,y;if(arguments.length===1){if(P(n))return n.slice();if(this===ge&&typeof n=="string")return[n];if(y=le(n)){for(u=[];!(d=y.next()).done;)u.push(d.value);return u}if(n==null)return[n];if(typeof(s=n.length)!="number")return[n];for(u=new Array(s);s--;)u[s]=n[s];return u}for(s=arguments.length,u=new Array(s);s--;)u[s]=arguments[s];return u}var Me=typeof Symbol<"u"?function(n){return n[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},pe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Et=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(pe),Ye={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ke(n,s){this.name=n,this.message=s}function Qe(n,s){return n+". Errors: "+Object.keys(s).map(function(u){return s[u].toString()}).filter(function(u,d,y){return y.indexOf(u)===d}).join(`
`)}function Ze(n,s,u,d){this.failures=s,this.failedKeys=d,this.successCount=u,this.message=Qe(n,s)}function at(n,s){this.name="BulkError",this.failures=Object.keys(s).map(function(u){return s[u]}),this.failuresByPos=s,this.message=Qe(n,this.failures)}Z(Ke).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Z(Ze).from(Ke),Z(at).from(Ke);var dt=Et.reduce(function(n,s){return n[s]=s+"Error",n},{}),gt=Ke,de=Et.reduce(function(n,s){var u=s+"Error";function d(y,a){this.name=u,y?typeof y=="string"?(this.message="".concat(y).concat(a?`
 `+a:""),this.inner=a||null):typeof y=="object"&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=Ye[s]||u,this.inner=null)}return Z(d).from(gt),n[s]=d,n},{});de.Syntax=SyntaxError,de.Type=TypeError,de.Range=RangeError;var Xe=pe.reduce(function(n,s){return n[s+"Error"]=de[s],n},{}),ht=Et.reduce(function(n,s){return["Syntax","Type","Range"].indexOf(s)===-1&&(n[s+"Error"]=de[s]),n},{});function De(){}function pt(n){return n}function Kr(n,s){return n==null||n===pt?s:function(u){return s(n(u))}}function un(n,s){return function(){n.apply(this,arguments),s.apply(this,arguments)}}function Gn(n,s){return n===De?s:function(){var u=n.apply(this,arguments);u!==void 0&&(arguments[0]=u);var d=this.onsuccess,y=this.onerror;this.onsuccess=null,this.onerror=null;var a=s.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?un(d,this.onsuccess):d),y&&(this.onerror=this.onerror?un(y,this.onerror):y),a!==void 0?a:u}}function Pn(n,s){return n===De?s:function(){n.apply(this,arguments);var u=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,s.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?un(u,this.onsuccess):u),d&&(this.onerror=this.onerror?un(d,this.onerror):d)}}function qt(n,s){return n===De?s:function(u){var d=n.apply(this,arguments);H(u,d);var y=this.onsuccess,a=this.onerror;return this.onsuccess=null,this.onerror=null,u=s.apply(this,arguments),y&&(this.onsuccess=this.onsuccess?un(y,this.onsuccess):y),a&&(this.onerror=this.onerror?un(a,this.onerror):a),d===void 0?u===void 0?void 0:u:H(d,u)}}function Ti(n,s){return n===De?s:function(){return s.apply(this,arguments)!==!1&&n.apply(this,arguments)}}function Bt(n,s){return n===De?s:function(){var u=n.apply(this,arguments);if(u&&typeof u.then=="function"){for(var d=this,y=arguments.length,a=new Array(y);y--;)a[y]=arguments[y];return u.then(function(){return s.apply(d,a)})}return s.apply(this,arguments)}}ht.ModifyError=Ze,ht.DexieError=Ke,ht.BulkError=at;var vt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function bt(n){vt=n}var kt={},zt=100,ut=typeof Promise>"u"?[]:function(){var n=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[n,V(n),n];var s=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[s,V(s),n]}(),pe=ut[0],Et=ut[1],ut=ut[2],Et=Et&&Et.then,ot=pe&&pe.constructor,Qn=!!ut,_n=function(n,s){yr.push([n,s]),vr&&(queueMicrotask(wt),vr=!1)},Si=!0,vr=!0,wn=[],En=[],Kt=pt,_t={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:De,pgp:!1,env:{},finalize:De},me=_t,yr=[],Xt=0,br=[];function ce(n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var s=this._PSD=me;if(typeof n!="function"){if(n!==kt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Rn(this,this._value))}this._state=null,this._value=null,++s.ref,function u(d,y){try{y(function(a){if(d._state===null){if(a===d)throw new TypeError("A promise cannot be resolved with itself.");var p=d._lib&&Tn();a&&typeof a.then=="function"?u(d,function(b,w){a instanceof ce?a._then(b,w):a.then(b,w)}):(d._state=!0,d._value=a,Ci(d)),p&&Jn()}},Rn.bind(null,d))}catch(a){Rn(d,a)}}(this,n)}var Ai={get:function(){var n=me,s=Vr;function u(d,y){var a=this,p=!n.global&&(n!==me||s!==Vr),b=p&&!Sn(),w=new ce(function(E,x){Fr(a,new In(Ur(d,n,p,b),Ur(y,n,p,b),E,x,n))});return this._consoleTask&&(w._consoleTask=this._consoleTask),w}return u.prototype=kt,u},set:function(n){J(this,"then",n&&n.prototype===kt?Ai:{get:function(){return n},set:Ai.set})}};function In(n,s,u,d,y){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof s=="function"?s:null,this.resolve=u,this.reject=d,this.psd=y}function Rn(n,s){var u,d;En.push(s),n._state===null&&(u=n._lib&&Tn(),s=Kt(s),n._state=!1,n._value=s,d=n,wn.some(function(y){return y._value===d._value})||wn.push(d),Ci(n),u&&Jn())}function Ci(n){var s=n._listeners;n._listeners=[];for(var u=0,d=s.length;u<d;++u)Fr(n,s[u]);var y=n._PSD;--y.ref||y.finalize(),Xt===0&&(++Xt,_n(function(){--Xt==0&&Yr()},[]))}function Fr(n,s){if(n._state!==null){var u=n._state?s.onFulfilled:s.onRejected;if(u===null)return(n._state?s.resolve:s.reject)(n._value);++s.psd.ref,++Xt,_n(Lt,[u,n,s])}else n._listeners.push(s)}function Lt(n,s,u){try{var d,y=s._value;!s._state&&En.length&&(En=[]),d=vt&&s._consoleTask?s._consoleTask.run(function(){return n(y)}):n(y),s._state||En.indexOf(y)!==-1||function(a){for(var p=wn.length;p;)if(wn[--p]._value===a._value)return wn.splice(p,1)}(s),u.resolve(d)}catch(a){u.reject(a)}finally{--Xt==0&&Yr(),--u.psd.ref||u.psd.finalize()}}function wt(){cn(_t,function(){Tn()&&Jn()})}function Tn(){var n=Si;return vr=Si=!1,n}function Jn(){var n,s,u;do for(;0<yr.length;)for(n=yr,yr=[],u=n.length,s=0;s<u;++s){var d=n[s];d[0].apply(null,d[1])}while(0<yr.length);vr=Si=!0}function Yr(){var n=wn;wn=[],n.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var s=br.slice(0),u=s.length;u;)s[--u]()}function _r(n){return new ce(kt,!1,n)}function ze(n,s){var u=me;return function(){var d=Tn(),y=me;try{return At(u,!0),n.apply(this,arguments)}catch(a){s&&s(a)}finally{At(y,!1),d&&Jn()}}}ae(ce.prototype,{then:Ai,_then:function(n,s){Fr(this,new In(null,null,n,s,me))},catch:function(n){if(arguments.length===1)return this.then(null,n);var s=n,u=arguments[1];return typeof s=="function"?this.then(null,function(d){return(d instanceof s?u:_r)(d)}):this.then(null,function(d){return(d&&d.name===s?u:_r)(d)})},finally:function(n){return this.then(function(s){return ce.resolve(n()).then(function(){return s})},function(s){return ce.resolve(n()).then(function(){return _r(s)})})},timeout:function(n,s){var u=this;return n<1/0?new ce(function(d,y){var a=setTimeout(function(){return y(new de.Timeout(s))},n);u.then(d,y).finally(clearTimeout.bind(null,a))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&J(ce.prototype,Symbol.toStringTag,"Dexie.Promise"),_t.env=Oi(),ae(ce,{all:function(){var n=ye.apply(null,arguments).map(wr);return new ce(function(s,u){n.length===0&&s([]);var d=n.length;n.forEach(function(y,a){return ce.resolve(y).then(function(p){n[a]=p,--d||s(n)},u)})})},resolve:function(n){return n instanceof ce?n:n&&typeof n.then=="function"?new ce(function(s,u){n.then(s,u)}):new ce(kt,!0,n)},reject:_r,race:function(){var n=ye.apply(null,arguments).map(wr);return new ce(function(s,u){n.map(function(d){return ce.resolve(d).then(s,u)})})},PSD:{get:function(){return me},set:function(n){return me=n}},totalEchoes:{get:function(){return Vr}},newPSD:ln,usePSD:cn,scheduler:{get:function(){return _n},set:function(n){_n=n}},rejectionMapper:{get:function(){return Kt},set:function(n){Kt=n}},follow:function(n,s){return new ce(function(u,d){return ln(function(y,a){var p=me;p.unhandleds=[],p.onunhandled=a,p.finalize=un(function(){var b,w=this;b=function(){w.unhandleds.length===0?y():a(w.unhandleds[0])},br.push(function E(){b(),br.splice(br.indexOf(E),1)}),++Xt,_n(function(){--Xt==0&&Yr()},[])},p.finalize),n()},s,u,d)})}}),ot&&(ot.allSettled&&J(ce,"allSettled",function(){var n=ye.apply(null,arguments).map(wr);return new ce(function(s){n.length===0&&s([]);var u=n.length,d=new Array(u);n.forEach(function(y,a){return ce.resolve(y).then(function(p){return d[a]={status:"fulfilled",value:p}},function(p){return d[a]={status:"rejected",reason:p}}).then(function(){return--u||s(d)})})})}),ot.any&&typeof AggregateError<"u"&&J(ce,"any",function(){var n=ye.apply(null,arguments).map(wr);return new ce(function(s,u){n.length===0&&u(new AggregateError([]));var d=n.length,y=new Array(d);n.forEach(function(a,p){return ce.resolve(a).then(function(b){return s(b)},function(b){y[p]=b,--d||u(new AggregateError(y))})})})}));var tt={awaits:0,echoes:0,id:0},xi=0,Mn=[],Wr=0,Vr=0,$s=0;function ln(n,s,u,d){var y=me,a=Object.create(y);return a.parent=y,a.ref=0,a.global=!1,a.id=++$s,_t.env,a.env=Qn?{Promise:ce,PromiseProp:{value:ce,configurable:!0,writable:!0},all:ce.all,race:ce.race,allSettled:ce.allSettled,any:ce.any,resolve:ce.resolve,reject:ce.reject}:{},s&&H(a,s),++y.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()},d=cn(a,n,u,d),a.ref===0&&a.finalize(),d}function Zn(){return tt.id||(tt.id=++xi),++tt.awaits,tt.echoes+=zt,tt.id}function Sn(){return!!tt.awaits&&(--tt.awaits==0&&(tt.id=0),tt.echoes=tt.awaits*zt,!0)}function wr(n){return tt.echoes&&n&&n.constructor===ot?(Zn(),n.then(function(s){return Sn(),s},function(s){return Sn(),rt(s)})):n}function Ps(){var n=Mn[Mn.length-1];Mn.pop(),At(n,!1)}function At(n,s){var u,d=me;(s?!tt.echoes||Wr++&&n===me:!Wr||--Wr&&n===me)||queueMicrotask(s?(function(y){++Vr,tt.echoes&&--tt.echoes!=0||(tt.echoes=tt.awaits=tt.id=0),Mn.push(me),At(y,!0)}).bind(null,n):Ps),n!==me&&(me=n,d===_t&&(_t.env=Oi()),Qn&&(u=_t.env.Promise,s=n.env,(d.global||n.global)&&(Object.defineProperty(S,"Promise",s.PromiseProp),u.all=s.all,u.race=s.race,u.resolve=s.resolve,u.reject=s.reject,s.allSettled&&(u.allSettled=s.allSettled),s.any&&(u.any=s.any))))}function Oi(){var n=S.Promise;return Qn?{Promise:n,PromiseProp:Object.getOwnPropertyDescriptor(S,"Promise"),all:n.all,race:n.race,allSettled:n.allSettled,any:n.any,resolve:n.resolve,reject:n.reject}:{}}function cn(n,s,u,d,y){var a=me;try{return At(n,!0),s(u,d,y)}finally{At(a,!1)}}function Ur(n,s,u,d){return typeof n!="function"?n:function(){var y=me;u&&Zn(),At(s,!0);try{return n.apply(this,arguments)}finally{At(y,!1),d&&queueMicrotask(Sn)}}}function er(n){Promise===ot&&tt.echoes===0?Wr===0?n():enqueueNativeMicroTask(n):setTimeout(n,0)}(""+Et).indexOf("[native code]")===-1&&(Zn=Sn=De);var rt=ce.reject,jn="ï¿¿",Ct="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Di="String expected.",Hn=[],Er="__dbnames",zr="readonly",Ni="readwrite";function fn(n,s){return n?s?function(){return n.apply(this,arguments)&&s.apply(this,arguments)}:n:s}var Zi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Xr(n){return typeof n!="string"||/\./.test(n)?function(s){return s}:function(s){return s[n]===void 0&&n in s&&delete(s=be(s))[n],s}}function ki(){throw de.Type()}function He(n,s){try{var u=Gr(n),d=Gr(s);if(u!==d)return u==="Array"?1:d==="Array"?-1:u==="binary"?1:d==="binary"?-1:u==="string"?1:d==="string"?-1:u==="Date"?1:d!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return s<n?1:n<s?-1:0;case"binary":return function(y,a){for(var p=y.length,b=a.length,w=p<b?p:b,E=0;E<w;++E)if(y[E]!==a[E])return y[E]<a[E]?-1:1;return p===b?0:p<b?-1:1}(Li(n),Li(s));case"Array":return function(y,a){for(var p=y.length,b=a.length,w=p<b?p:b,E=0;E<w;++E){var x=He(y[E],a[E]);if(x!==0)return x}return p===b?0:p<b?-1:1}(n,s)}}catch{}return NaN}function Gr(n){var s=typeof n;return s!="object"?s:ArrayBuffer.isView(n)?"binary":(n=ue(n),n==="ArrayBuffer"?"binary":n)}function Li(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n)}var yt=(We.prototype._trans=function(n,s,u){var d=this._tx||me.trans,y=this.name,a=vt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(n==="readonly"?"read":"write"," ").concat(this.name));function p(E,x,A){if(!A.schema[y])throw new de.NotFound("Table "+y+" not part of transaction");return s(A.idbtrans,A)}var b=Tn();try{var w=d&&d.db._novip===this.db._novip?d===me.trans?d._promise(n,p,u):ln(function(){return d._promise(n,p,u)},{trans:d,transless:me.transless||me}):function E(x,A,D,C){if(x.idbdb&&(x._state.openComplete||me.letThrough||x._vip)){var L=x._createTransaction(A,D,x._dbSchema);try{L.create(),x._state.PR1398_maxLoop=3}catch($){return $.name===dt.InvalidState&&x.isOpen()&&0<--x._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),x.close({disableAutoOpen:!1}),x.open().then(function(){return E(x,A,D,C)})):rt($)}return L._promise(A,function($,N){return ln(function(){return me.trans=L,C($,N,L)})}).then(function($){if(A==="readwrite")try{L.idbtrans.commit()}catch{}return A==="readonly"?$:L._completion.then(function(){return $})})}if(x._state.openComplete)return rt(new de.DatabaseClosed(x._state.dbOpenError));if(!x._state.isBeingOpened){if(!x._state.autoOpen)return rt(new de.DatabaseClosed);x.open().catch(De)}return x._state.dbReadyPromise.then(function(){return E(x,A,D,C)})}(this.db,n,[this.name],p);return a&&(w._consoleTask=a,w=w.catch(function(E){return console.trace(E),rt(E)})),w}finally{b&&Jn()}},We.prototype.get=function(n,s){var u=this;return n&&n.constructor===Object?this.where(n).first(s):n==null?rt(new de.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return u.core.get({trans:d,key:n}).then(function(y){return u.hook.reading.fire(y)})}).then(s)},We.prototype.where=function(n){if(typeof n=="string")return new this.db.WhereClause(this,n);if(P(n))return new this.db.WhereClause(this,"[".concat(n.join("+"),"]"));var s=T(n);if(s.length===1)return this.where(s[0]).equals(n[s[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&s.every(function(x){return 0<=w.keyPath.indexOf(x)})){for(var E=0;E<s.length;++E)if(s.indexOf(w.keyPath[E])===-1)return!1;return!0}return!1}).sort(function(w,E){return w.keyPath.length-E.keyPath.length})[0];if(u&&this.db._maxKey!==jn){var p=u.keyPath.slice(0,s.length);return this.where(p).equals(p.map(function(E){return n[E]}))}!u&&vt&&console.warn("The query ".concat(JSON.stringify(n)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(s.join("+"),"]"));var d=this.schema.idxByName,y=this.db._deps.indexedDB;function a(w,E){return y.cmp(w,E)===0}var b=s.reduce(function(D,E){var x=D[0],A=D[1],D=d[E],C=n[E];return[x||D,x||!D?fn(A,D&&D.multi?function(L){return L=Ce(L,E),P(L)&&L.some(function($){return a(C,$)})}:function(L){return a(C,Ce(L,E))}):A]},[null,null]),p=b[0],b=b[1];return p?this.where(p.name).equals(n[p.keyPath]).filter(b):u?this.filter(b):this.where(s).equals("")},We.prototype.filter=function(n){return this.toCollection().and(n)},We.prototype.count=function(n){return this.toCollection().count(n)},We.prototype.offset=function(n){return this.toCollection().offset(n)},We.prototype.limit=function(n){return this.toCollection().limit(n)},We.prototype.each=function(n){return this.toCollection().each(n)},We.prototype.toArray=function(n){return this.toCollection().toArray(n)},We.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},We.prototype.orderBy=function(n){return new this.db.Collection(new this.db.WhereClause(this,P(n)?"[".concat(n.join("+"),"]"):n))},We.prototype.reverse=function(){return this.toCollection().reverse()},We.prototype.mapToClass=function(n){var s,u=this.db,d=this.name;function y(){return s!==null&&s.apply(this,arguments)||this}(this.schema.mappedClass=n).prototype instanceof ki&&(function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function x(){this.constructor=w}r(w,E),w.prototype=E===null?Object.create(E):(x.prototype=E.prototype,new x)}(y,s=n),Object.defineProperty(y.prototype,"db",{get:function(){return u},enumerable:!1,configurable:!0}),y.prototype.table=function(){return d},n=y);for(var a=new Set,p=n.prototype;p;p=V(p))Object.getOwnPropertyNames(p).forEach(function(w){return a.add(w)});function b(w){if(!w)return w;var E,x=Object.create(n.prototype);for(E in w)if(!a.has(E))try{x[E]=w[E]}catch{}return x}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),n},We.prototype.defineClass=function(){return this.mapToClass(function(n){H(this,n)})},We.prototype.add=function(n,s){var u=this,d=this.schema.primKey,y=d.auto,a=d.keyPath,p=n;return a&&y&&(p=Xr(a)(n)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"add",keys:s!=null?[s]:null,values:[p]})}).then(function(b){return b.numFailures?ce.reject(b.failures[0]):b.lastResult}).then(function(b){if(a)try{f(n,a,b)}catch{}return b})},We.prototype.update=function(n,s){return typeof n!="object"||P(n)?this.where(":id").equals(n).modify(s):(n=Ce(n,this.schema.primKey.keyPath),n===void 0?rt(new de.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(s))},We.prototype.put=function(n,s){var u=this,d=this.schema.primKey,y=d.auto,a=d.keyPath,p=n;return a&&y&&(p=Xr(a)(n)),this._trans("readwrite",function(b){return u.core.mutate({trans:b,type:"put",values:[p],keys:s!=null?[s]:null})}).then(function(b){return b.numFailures?ce.reject(b.failures[0]):b.lastResult}).then(function(b){if(a)try{f(n,a,b)}catch{}return b})},We.prototype.delete=function(n){var s=this;return this._trans("readwrite",function(u){return s.core.mutate({trans:u,type:"delete",keys:[n]})}).then(function(u){return u.numFailures?ce.reject(u.failures[0]):void 0})},We.prototype.clear=function(){var n=this;return this._trans("readwrite",function(s){return n.core.mutate({trans:s,type:"deleteRange",range:Zi})}).then(function(s){return s.numFailures?ce.reject(s.failures[0]):void 0})},We.prototype.bulkGet=function(n){var s=this;return this._trans("readonly",function(u){return s.core.getMany({keys:n,trans:u}).then(function(d){return d.map(function(y){return s.hook.reading.fire(y)})})})},We.prototype.bulkAdd=function(n,s,u){var d=this,y=Array.isArray(s)?s:void 0,a=(u=u||(y?void 0:s))?u.allKeys:void 0;return this._trans("readwrite",function(p){var E=d.schema.primKey,b=E.auto,E=E.keyPath;if(E&&y)throw new de.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==n.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var w=n.length,E=E&&b?n.map(Xr(E)):n;return d.core.mutate({trans:p,type:"add",keys:y,values:E,wantResults:a}).then(function(L){var A=L.numFailures,D=L.results,C=L.lastResult,L=L.failures;if(A===0)return a?D:C;throw new at("".concat(d.name,".bulkAdd(): ").concat(A," of ").concat(w," operations failed"),L)})})},We.prototype.bulkPut=function(n,s,u){var d=this,y=Array.isArray(s)?s:void 0,a=(u=u||(y?void 0:s))?u.allKeys:void 0;return this._trans("readwrite",function(p){var E=d.schema.primKey,b=E.auto,E=E.keyPath;if(E&&y)throw new de.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==n.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var w=n.length,E=E&&b?n.map(Xr(E)):n;return d.core.mutate({trans:p,type:"put",keys:y,values:E,wantResults:a}).then(function(L){var A=L.numFailures,D=L.results,C=L.lastResult,L=L.failures;if(A===0)return a?D:C;throw new at("".concat(d.name,".bulkPut(): ").concat(A," of ").concat(w," operations failed"),L)})})},We.prototype.bulkUpdate=function(n){var s=this,u=this.core,d=n.map(function(p){return p.key}),y=n.map(function(p){return p.changes}),a=[];return this._trans("readwrite",function(p){return u.getMany({trans:p,keys:d,cache:"clone"}).then(function(b){var w=[],E=[];n.forEach(function(A,D){var C=A.key,L=A.changes,$=b[D];if($){for(var N=0,M=Object.keys(L);N<M.length;N++){var R=M[N],j=L[R];if(R===s.schema.primKey.keyPath){if(He(j,C)!==0)throw new de.Constraint("Cannot update primary key in bulkUpdate()")}else f($,R,j)}a.push(D),w.push(C),E.push($)}});var x=w.length;return u.mutate({trans:p,type:"put",keys:w,values:E,updates:{keys:d,changeSpecs:y}}).then(function(A){var D=A.numFailures,C=A.failures;if(D===0)return x;for(var L=0,$=Object.keys(C);L<$.length;L++){var N,M=$[L],R=a[Number(M)];R!=null&&(N=C[M],delete C[M],C[R]=N)}throw new at("".concat(s.name,".bulkUpdate(): ").concat(D," of ").concat(x," operations failed"),C)})})})},We.prototype.bulkDelete=function(n){var s=this,u=n.length;return this._trans("readwrite",function(d){return s.core.mutate({trans:d,type:"delete",keys:n})}).then(function(p){var y=p.numFailures,a=p.lastResult,p=p.failures;if(y===0)return a;throw new at("".concat(s.name,".bulkDelete(): ").concat(y," of ").concat(u," operations failed"),p)})},We);function We(){}function An(n){function s(p,b){if(b){for(var w=arguments.length,E=new Array(w-1);--w;)E[w-1]=arguments[w];return u[p].subscribe.apply(null,E),n}if(typeof p=="string")return u[p]}var u={};s.addEventType=a;for(var d=1,y=arguments.length;d<y;++d)a(arguments[d]);return s;function a(p,b,w){if(typeof p!="object"){var E;b=b||Ti;var x={subscribers:[],fire:w=w||De,subscribe:function(A){x.subscribers.indexOf(A)===-1&&(x.subscribers.push(A),x.fire=b(x.fire,A))},unsubscribe:function(A){x.subscribers=x.subscribers.filter(function(D){return D!==A}),x.fire=x.subscribers.reduce(b,w)}};return u[p]=s[p]=x}T(E=p).forEach(function(A){var D=E[A];if(P(D))a(A,E[A][0],E[A][1]);else{if(D!=="asap")throw new de.InvalidArgument("Invalid event config");var C=a(A,pt,function(){for(var L=arguments.length,$=new Array(L);L--;)$[L]=arguments[L];C.subscribers.forEach(function(N){$e(function(){N.apply(null,$)})})})}})}}function Tr(n,s){return Z(s).from({prototype:n}),s}function tr(n,s){return!(n.filter||n.algorithm||n.or)&&(s?n.justLimit:!n.replayFilter)}function Sr(n,s){n.filter=fn(n.filter,s)}function Qr(n,s,u){var d=n.replayFilter;n.replayFilter=d?function(){return fn(d(),s())}:s,n.justLimit=u&&!d}function qn(n,s){if(n.isPrimKey)return s.primaryKey;var u=s.getIndexByKeyPath(n.index);if(!u)throw new de.Schema("KeyPath "+n.index+" on object store "+s.name+" is not indexed");return u}function $i(n,s,u){var d=qn(n,s.schema);return s.openCursor({trans:u,values:!n.keysOnly,reverse:n.dir==="prev",unique:!!n.unique,query:{index:d,range:n.range}})}function Jr(n,s,u,d){var y=n.replayFilter?fn(n.filter,n.replayFilter()):n.filter;if(n.or){var a={},p=function(b,w,E){var x,A;y&&!y(w,E,function(D){return w.stop(D)},function(D){return w.fail(D)})||((A=""+(x=w.primaryKey))=="[object ArrayBuffer]"&&(A=""+new Uint8Array(x)),W(a,A)||(a[A]=!0,s(b,w,E)))};return Promise.all([n.or._iterate(p,u),es($i(n,d,u),n.algorithm,p,!n.keysOnly&&n.valueMapper)])}return es($i(n,d,u),fn(n.algorithm,y),s,!n.keysOnly&&n.valueMapper)}function es(n,s,u,d){var y=ze(d?function(a,p,b){return u(d(a),p,b)}:u);return n.then(function(a){if(a)return a.start(function(){var p=function(){return a.continue()};s&&!s(a,function(b){return p=b},function(b){a.stop(b),p=De},function(b){a.fail(b),p=De})||y(a.value,a,function(b){return p=b}),p()})})}var ut=Symbol(),nr=(rr.prototype.execute=function(n){if(this.add!==void 0){var s=this.add;if(P(s))return m(m([],P(n)?n:[],!0),s).sort();if(typeof s=="number")return(Number(n)||0)+s;if(typeof s=="bigint")try{return BigInt(n)+s}catch{return BigInt(0)+s}throw new TypeError("Invalid term ".concat(s))}if(this.remove!==void 0){var u=this.remove;if(P(u))return P(n)?n.filter(function(d){return!u.includes(d)}).sort():[];if(typeof u=="number")return Number(n)-u;if(typeof u=="bigint")try{return BigInt(n)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return s=(s=this.replacePrefix)===null||s===void 0?void 0:s[0],s&&typeof n=="string"&&n.startsWith(s)?this.replacePrefix[1]+n.substring(s.length):n},rr);function rr(n){Object.assign(this,n)}var Is=(Fe.prototype._read=function(n,s){var u=this._ctx;return u.error?u.table._trans(null,rt.bind(null,u.error)):u.table._trans("readonly",n).then(s)},Fe.prototype._write=function(n){var s=this._ctx;return s.error?s.table._trans(null,rt.bind(null,s.error)):s.table._trans("readwrite",n,"locked")},Fe.prototype._addAlgorithm=function(n){var s=this._ctx;s.algorithm=fn(s.algorithm,n)},Fe.prototype._iterate=function(n,s){return Jr(this._ctx,n,s,this._ctx.table.core)},Fe.prototype.clone=function(n){var s=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return n&&H(u,n),s._ctx=u,s},Fe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Fe.prototype.each=function(n){var s=this._ctx;return this._read(function(u){return Jr(s,n,u,s.table.core)})},Fe.prototype.count=function(n){var s=this;return this._read(function(u){var d=s._ctx,y=d.table.core;if(tr(d,!0))return y.count({trans:u,query:{index:qn(d,y.schema),range:d.range}}).then(function(p){return Math.min(p,d.limit)});var a=0;return Jr(d,function(){return++a,!1},u,y).then(function(){return a})}).then(n)},Fe.prototype.sortBy=function(n,s){var u=n.split(".").reverse(),d=u[0],y=u.length-1;function a(w,E){return E?a(w[u[E]],E-1):w[d]}var p=this._ctx.dir==="next"?1:-1;function b(w,E){return w=a(w,y),E=a(E,y),w<E?-p:E<w?p:0}return this.toArray(function(w){return w.sort(b)}).then(s)},Fe.prototype.toArray=function(n){var s=this;return this._read(function(u){var d=s._ctx;if(d.dir==="next"&&tr(d,!0)&&0<d.limit){var y=d.valueMapper,a=qn(d,d.table.core.schema);return d.table.core.query({trans:u,limit:d.limit,values:!0,query:{index:a,range:d.range}}).then(function(b){return b=b.result,y?b.map(y):b})}var p=[];return Jr(d,function(b){return p.push(b)},u,d.table.core).then(function(){return p})},n)},Fe.prototype.offset=function(n){var s=this._ctx;return n<=0||(s.offset+=n,tr(s)?Qr(s,function(){var u=n;return function(d,y){return u===0||(u===1?--u:y(function(){d.advance(u),u=0}),!1)}}):Qr(s,function(){var u=n;return function(){return--u<0}})),this},Fe.prototype.limit=function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),Qr(this._ctx,function(){var s=n;return function(u,d,y){return--s<=0&&d(y),0<=s}},!0),this},Fe.prototype.until=function(n,s){return Sr(this._ctx,function(u,d,y){return!n(u.value)||(d(y),s)}),this},Fe.prototype.first=function(n){return this.limit(1).toArray(function(s){return s[0]}).then(n)},Fe.prototype.last=function(n){return this.reverse().first(n)},Fe.prototype.filter=function(n){var s;return Sr(this._ctx,function(u){return n(u.value)}),(s=this._ctx).isMatch=fn(s.isMatch,n),this},Fe.prototype.and=function(n){return this.filter(n)},Fe.prototype.or=function(n){return new this.db.WhereClause(this._ctx.table,n,this)},Fe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Fe.prototype.desc=function(){return this.reverse()},Fe.prototype.eachKey=function(n){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(u,d){n(d.key,d)})},Fe.prototype.eachUniqueKey=function(n){return this._ctx.unique="unique",this.eachKey(n)},Fe.prototype.eachPrimaryKey=function(n){var s=this._ctx;return s.keysOnly=!s.isMatch,this.each(function(u,d){n(d.primaryKey,d)})},Fe.prototype.keys=function(n){var s=this._ctx;s.keysOnly=!s.isMatch;var u=[];return this.each(function(d,y){u.push(y.key)}).then(function(){return u}).then(n)},Fe.prototype.primaryKeys=function(n){var s=this._ctx;if(s.dir==="next"&&tr(s,!0)&&0<s.limit)return this._read(function(d){var y=qn(s,s.table.core.schema);return s.table.core.query({trans:d,values:!1,limit:s.limit,query:{index:y,range:s.range}})}).then(function(d){return d.result}).then(n);s.keysOnly=!s.isMatch;var u=[];return this.each(function(d,y){u.push(y.primaryKey)}).then(function(){return u}).then(n)},Fe.prototype.uniqueKeys=function(n){return this._ctx.unique="unique",this.keys(n)},Fe.prototype.firstKey=function(n){return this.limit(1).keys(function(s){return s[0]}).then(n)},Fe.prototype.lastKey=function(n){return this.reverse().firstKey(n)},Fe.prototype.distinct=function(){var n=this._ctx,n=n.index&&n.table.schema.idxByName[n.index];if(!n||!n.multi)return this;var s={};return Sr(this._ctx,function(y){var d=y.primaryKey.toString(),y=W(s,d);return s[d]=!0,!y}),this},Fe.prototype.modify=function(n){var s=this,u=this._ctx;return this._write(function(d){var y,a,p;p=typeof n=="function"?n:(y=T(n),a=y.length,function(N){for(var M=!1,R=0;R<a;++R){var j=y[R],K=n[j],U=Ce(N,j);K instanceof nr?(f(N,j,K.execute(U)),M=!0):U!==K&&(f(N,j,K),M=!0)}return M});function b(N,j){var R=j.failures,j=j.numFailures;L+=N-j;for(var K=0,U=T(R);K<U.length;K++){var re=U[K];C.push(R[re])}}var w=u.table.core,E=w.schema.primaryKey,x=E.outbound,A=E.extractKey,D=s.db._options.modifyChunkSize||200,C=[],L=0,$=[];return s.clone().primaryKeys().then(function(N){function M(j){var K=Math.min(D,N.length-j);return w.getMany({trans:d,keys:N.slice(j,j+K),cache:"immutable"}).then(function(U){for(var re=[],X=[],ie=x?[]:null,ee=[],te=0;te<K;++te){var Ne=U[te],ke={value:be(Ne),primKey:N[j+te]};p.call(ke,ke.value,ke)!==!1&&(ke.value==null?ee.push(N[j+te]):x||He(A(Ne),A(ke.value))===0?(X.push(ke.value),x&&ie.push(N[j+te])):(ee.push(N[j+te]),re.push(ke.value)))}return Promise.resolve(0<re.length&&w.mutate({trans:d,type:"add",values:re}).then(function(Re){for(var Pe in Re.failures)ee.splice(parseInt(Pe),1);b(re.length,Re)})).then(function(){return(0<X.length||R&&typeof n=="object")&&w.mutate({trans:d,type:"put",keys:ie,values:X,criteria:R,changeSpec:typeof n!="function"&&n,isAdditionalChunk:0<j}).then(function(Re){return b(X.length,Re)})}).then(function(){return(0<ee.length||R&&n===hn)&&w.mutate({trans:d,type:"delete",keys:ee,criteria:R,isAdditionalChunk:0<j}).then(function(Re){return b(ee.length,Re)})}).then(function(){return N.length>j+K&&M(j+D)})})}var R=tr(u)&&u.limit===1/0&&(typeof n!="function"||n===hn)&&{index:u.index,range:u.range};return M(0).then(function(){if(0<C.length)throw new Ze("Error modifying one or more objects",C,L,$);return N.length})})})},Fe.prototype.delete=function(){var n=this._ctx,s=n.range;return tr(n)&&(n.isPrimKey||s.type===3)?this._write(function(u){var d=n.table.core.schema.primaryKey,y=s;return n.table.core.count({trans:u,query:{index:d,range:y}}).then(function(a){return n.table.core.mutate({trans:u,type:"deleteRange",range:y}).then(function(p){var b=p.failures;if(p.lastResult,p.results,p=p.numFailures,p)throw new Ze("Could not delete some values",Object.keys(b).map(function(w){return b[w]}),a-p);return a-p})})}):this.modify(hn)},Fe);function Fe(){}var hn=function(n,s){return s.value=null};function Bn(n,s){return n<s?-1:n===s?0:1}function Pi(n,s){return s<n?-1:n===s?0:1}function xt(n,s,u){return n=n instanceof Ri?new n.Collection(n):n,n._ctx.error=new(u||TypeError)(s),n}function Gt(n){return new n.Collection(n,function(){return Ii("")}).limit(0)}function Ar(n,s,u,d){var y,a,p,b,w,E,x,A=u.length;if(!u.every(function(L){return typeof L=="string"}))return xt(n,Di);function D(L){y=L==="next"?function(N){return N.toUpperCase()}:function(N){return N.toLowerCase()},a=L==="next"?function(N){return N.toLowerCase()}:function(N){return N.toUpperCase()},p=L==="next"?Bn:Pi;var $=u.map(function(N){return{lower:a(N),upper:y(N)}}).sort(function(N,M){return p(N.lower,M.lower)});b=$.map(function(N){return N.upper}),w=$.map(function(N){return N.lower}),x=(E=L)==="next"?"":d}D("next"),n=new n.Collection(n,function(){return Qt(b[0],w[A-1]+d)}),n._ondirectionchange=function(L){D(L)};var C=0;return n._addAlgorithm(function(L,$,N){var M=L.key;if(typeof M!="string")return!1;var R=a(M);if(s(R,w,C))return!0;for(var j=null,K=C;K<A;++K){var U=function(re,X,ie,ee,te,Ne){for(var ke=Math.min(re.length,ee.length),Re=-1,Pe=0;Pe<ke;++Pe){var vn=X[Pe];if(vn!==ee[Pe])return te(re[Pe],ie[Pe])<0?re.substr(0,Pe)+ie[Pe]+ie.substr(Pe+1):te(re[Pe],ee[Pe])<0?re.substr(0,Pe)+ee[Pe]+ie.substr(Pe+1):0<=Re?re.substr(0,Re)+X[Re]+ie.substr(Re+1):null;te(re[Pe],vn)<0&&(Re=Pe)}return ke<ee.length&&Ne==="next"?re+ie.substr(re.length):ke<re.length&&Ne==="prev"?re.substr(0,ie.length):Re<0?null:re.substr(0,Re)+ee[Re]+ie.substr(Re+1)}(M,R,b[K],w[K],p,E);U===null&&j===null?C=K+1:(j===null||0<p(j,U))&&(j=U)}return $(j!==null?function(){L.continue(j+x)}:N),!1}),n}function Qt(n,s,u,d){return{type:2,lower:n,upper:s,lowerOpen:u,upperOpen:d}}function Ii(n){return{type:1,lower:n,upper:n}}var Ri=(Object.defineProperty(ct.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ct.prototype.between=function(n,s,u,d){u=u!==!1,d=d===!0;try{return 0<this._cmp(n,s)||this._cmp(n,s)===0&&(u||d)&&(!u||!d)?Gt(this):new this.Collection(this,function(){return Qt(n,s,!u,!d)})}catch{return xt(this,Ct)}},ct.prototype.equals=function(n){return n==null?xt(this,Ct):new this.Collection(this,function(){return Ii(n)})},ct.prototype.above=function(n){return n==null?xt(this,Ct):new this.Collection(this,function(){return Qt(n,void 0,!0)})},ct.prototype.aboveOrEqual=function(n){return n==null?xt(this,Ct):new this.Collection(this,function(){return Qt(n,void 0,!1)})},ct.prototype.below=function(n){return n==null?xt(this,Ct):new this.Collection(this,function(){return Qt(void 0,n,!1,!0)})},ct.prototype.belowOrEqual=function(n){return n==null?xt(this,Ct):new this.Collection(this,function(){return Qt(void 0,n)})},ct.prototype.startsWith=function(n){return typeof n!="string"?xt(this,Di):this.between(n,n+jn,!0,!0)},ct.prototype.startsWithIgnoreCase=function(n){return n===""?this.startsWith(n):Ar(this,function(s,u){return s.indexOf(u[0])===0},[n],jn)},ct.prototype.equalsIgnoreCase=function(n){return Ar(this,function(s,u){return s===u[0]},[n],"")},ct.prototype.anyOfIgnoreCase=function(){var n=ye.apply(ge,arguments);return n.length===0?Gt(this):Ar(this,function(s,u){return u.indexOf(s)!==-1},n,"")},ct.prototype.startsWithAnyOfIgnoreCase=function(){var n=ye.apply(ge,arguments);return n.length===0?Gt(this):Ar(this,function(s,u){return u.some(function(d){return s.indexOf(d)===0})},n,jn)},ct.prototype.anyOf=function(){var n=this,s=ye.apply(ge,arguments),u=this._cmp;try{s.sort(u)}catch{return xt(this,Ct)}if(s.length===0)return Gt(this);var d=new this.Collection(this,function(){return Qt(s[0],s[s.length-1])});d._ondirectionchange=function(a){u=a==="next"?n._ascending:n._descending,s.sort(u)};var y=0;return d._addAlgorithm(function(a,p,b){for(var w=a.key;0<u(w,s[y]);)if(++y===s.length)return p(b),!1;return u(w,s[y])===0||(p(function(){a.continue(s[y])}),!1)}),d},ct.prototype.notEqual=function(n){return this.inAnyRange([[-1/0,n],[n,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ct.prototype.noneOf=function(){var n=ye.apply(ge,arguments);if(n.length===0)return new this.Collection(this);try{n.sort(this._ascending)}catch{return xt(this,Ct)}var s=n.reduce(function(u,d){return u?u.concat([[u[u.length-1][1],d]]):[[-1/0,d]]},null);return s.push([n[n.length-1],this.db._maxKey]),this.inAnyRange(s,{includeLowers:!1,includeUppers:!1})},ct.prototype.inAnyRange=function(M,s){var u=this,d=this._cmp,y=this._ascending,a=this._descending,p=this._min,b=this._max;if(M.length===0)return Gt(this);if(!M.every(function(R){return R[0]!==void 0&&R[1]!==void 0&&y(R[0],R[1])<=0}))return xt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",de.InvalidArgument);var w=!s||s.includeLowers!==!1,E=s&&s.includeUppers===!0,x,A=y;function D(R,j){return A(R[0],j[0])}try{(x=M.reduce(function(R,j){for(var K=0,U=R.length;K<U;++K){var re=R[K];if(d(j[0],re[1])<0&&0<d(j[1],re[0])){re[0]=p(re[0],j[0]),re[1]=b(re[1],j[1]);break}}return K===U&&R.push(j),R},[])).sort(D)}catch{return xt(this,Ct)}var C=0,L=E?function(R){return 0<y(R,x[C][1])}:function(R){return 0<=y(R,x[C][1])},$=w?function(R){return 0<a(R,x[C][0])}:function(R){return 0<=a(R,x[C][0])},N=L,M=new this.Collection(this,function(){return Qt(x[0][0],x[x.length-1][1],!w,!E)});return M._ondirectionchange=function(R){A=R==="next"?(N=L,y):(N=$,a),x.sort(D)},M._addAlgorithm(function(R,j,K){for(var U,re=R.key;N(re);)if(++C===x.length)return j(K),!1;return!L(U=re)&&!$(U)||(u._cmp(re,x[C][1])===0||u._cmp(re,x[C][0])===0||j(function(){A===y?R.continue(x[C][0]):R.continue(x[C][1])}),!1)}),M},ct.prototype.startsWithAnyOf=function(){var n=ye.apply(ge,arguments);return n.every(function(s){return typeof s=="string"})?n.length===0?Gt(this):this.inAnyRange(n.map(function(s){return[s,s+jn]})):xt(this,"startsWithAnyOf() only works with strings")},ct);function ct(){}function Ft(n){return ze(function(s){return Cr(s),n(s.target.error),!1})}function Cr(n){n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()}var xr="storagemutated",Or="x-storagemutated-1",Cn=An(null,xr),Rs=(Jt.prototype._lock=function(){return Ee(!me.global),++this._reculock,this._reculock!==1||me.global||(me.lockOwnerFor=this),this},Jt.prototype._unlock=function(){if(Ee(!me.global),--this._reculock==0)for(me.global||(me.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var n=this._blockedFuncs.shift();try{cn(n[1],n[0])}catch{}}return this},Jt.prototype._locked=function(){return this._reculock&&me.lockOwnerFor!==this},Jt.prototype.create=function(n){var s=this;if(!this.mode)return this;var u=this.db.idbdb,d=this.db._state.dbOpenError;if(Ee(!this.idbtrans),!n&&!u)switch(d&&d.name){case"DatabaseClosedError":throw new de.DatabaseClosed(d);case"MissingAPIError":throw new de.MissingAPI(d.message,d);default:throw new de.OpenFailed(d)}if(!this.active)throw new de.TransactionInactive;return Ee(this._completion._state===null),(n=this.idbtrans=n||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=ze(function(y){Cr(y),s._reject(n.error)}),n.onabort=ze(function(y){Cr(y),s.active&&s._reject(new de.Abort(n.error)),s.active=!1,s.on("abort").fire(y)}),n.oncomplete=ze(function(){s.active=!1,s._resolve(),"mutatedParts"in n&&Cn.storagemutated.fire(n.mutatedParts)}),this},Jt.prototype._promise=function(n,s,u){var d=this;if(n==="readwrite"&&this.mode!=="readwrite")return rt(new de.ReadOnly("Transaction is readonly"));if(!this.active)return rt(new de.TransactionInactive);if(this._locked())return new ce(function(a,p){d._blockedFuncs.push([function(){d._promise(n,s,u).then(a,p)},me])});if(u)return ln(function(){var a=new ce(function(p,b){d._lock();var w=s(p,b,d);w&&w.then&&w.then(p,b)});return a.finally(function(){return d._unlock()}),a._lib=!0,a});var y=new ce(function(a,p){var b=s(a,p,d);b&&b.then&&b.then(a,p)});return y._lib=!0,y},Jt.prototype._root=function(){return this.parent?this.parent._root():this},Jt.prototype.waitFor=function(n){var s,u=this._root(),d=ce.resolve(n);u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return d}):(u._waitingFor=d,u._waitingQueue=[],s=u.idbtrans.objectStore(u.storeNames[0]),function a(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(s.get(-1/0).onsuccess=a)}());var y=u._waitingFor;return new ce(function(a,p){d.then(function(b){return u._waitingQueue.push(ze(a.bind(null,b)))},function(b){return u._waitingQueue.push(ze(p.bind(null,b)))}).finally(function(){u._waitingFor===y&&(u._waitingFor=null)})})},Jt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new de.Abort))},Jt.prototype.table=function(n){var s=this._memoizedTables||(this._memoizedTables={});if(W(s,n))return s[n];var u=this.schema[n];if(!u)throw new de.NotFound("Table "+n+" not part of transaction");return u=new this.db.Table(n,u,this),u.core=this.db.core.table(n),s[n]=u},Jt);function Jt(){}function Mi(n,s,u,d,y,a,p){return{name:n,keyPath:s,unique:u,multi:d,auto:y,compound:a,src:(u&&!p?"&":"")+(d?"*":"")+(y?"++":"")+ts(s)}}function ts(n){return typeof n=="string"?n:n?"["+[].join.call(n,"+")+"]":""}function ji(n,s,u){return{name:n,primKey:s,indexes:u,mappedClass:null,idxByName:(d=function(y){return[y.name,y]},u.reduce(function(y,a,p){return p=d(a,p),p&&(y[p[0]]=p[1]),y},{}))};var d}var Dr=function(n){try{return n.only([[]]),Dr=function(){return[[]]},[[]]}catch{return Dr=function(){return jn},jn}};function Zr(n){return n==null?function(){}:typeof n=="string"?(s=n).split(".").length===1?function(u){return u[s]}:function(u){return Ce(u,s)}:function(u){return Ce(u,n)};var s}function ei(n){return[].slice.call(n)}var ns=0;function Kn(n){return n==null?":id":typeof n=="string"?n:"[".concat(n.join("+"),"]")}function rs(n,s,w){function d(N){if(N.type===3)return null;if(N.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var C=N.lower,L=N.upper,$=N.lowerOpen,N=N.upperOpen;return C===void 0?L===void 0?null:s.upperBound(L,!!N):L===void 0?s.lowerBound(C,!!$):s.bound(C,L,!!$,!!N)}function y(D){var C,L=D.name;return{name:L,schema:D,mutate:function($){var N=$.trans,M=$.type,R=$.keys,j=$.values,K=$.range;return new Promise(function(U,re){U=ze(U);var X=N.objectStore(L),ie=X.keyPath==null,ee=M==="put"||M==="add";if(!ee&&M!=="delete"&&M!=="deleteRange")throw new Error("Invalid operation type: "+M);var te,Ne=(R||j||{length:1}).length;if(R&&j&&R.length!==j.length)throw new Error("Given keys array must have same length as given values array.");if(Ne===0)return U({numFailures:0,failures:{},results:[],lastResult:void 0});function ke(Ot){++vn,Cr(Ot)}var Re=[],Pe=[],vn=0;if(M==="deleteRange"){if(K.type===4)return U({numFailures:vn,failures:Pe,results:[],lastResult:void 0});K.type===3?Re.push(te=X.clear()):Re.push(te=X.delete(d(K)))}else{var ie=ee?ie?[j,R]:[j,null]:[R,null],Ie=ie[0],Tt=ie[1];if(ee)for(var St=0;St<Ne;++St)Re.push(te=Tt&&Tt[St]!==void 0?X[M](Ie[St],Tt[St]):X[M](Ie[St])),te.onerror=ke;else for(St=0;St<Ne;++St)Re.push(te=X[M](Ie[St])),te.onerror=ke}function ls(Ot){Ot=Ot.target.result,Re.forEach(function($r,js){return $r.error!=null&&(Pe[js]=$r.error)}),U({numFailures:vn,failures:Pe,results:M==="delete"?R:Re.map(function($r){return $r.result}),lastResult:Ot})}te.onerror=function(Ot){ke(Ot),ls(Ot)},te.onsuccess=ls})},getMany:function($){var N=$.trans,M=$.keys;return new Promise(function(R,j){R=ze(R);for(var K,U=N.objectStore(L),re=M.length,X=new Array(re),ie=0,ee=0,te=function(Re){Re=Re.target,X[Re._pos]=Re.result,++ee===ie&&R(X)},Ne=Ft(j),ke=0;ke<re;++ke)M[ke]!=null&&((K=U.get(M[ke]))._pos=ke,K.onsuccess=te,K.onerror=Ne,++ie);ie===0&&R(X)})},get:function($){var N=$.trans,M=$.key;return new Promise(function(R,j){R=ze(R);var K=N.objectStore(L).get(M);K.onsuccess=function(U){return R(U.target.result)},K.onerror=Ft(j)})},query:(C=E,function($){return new Promise(function(N,M){N=ze(N);var R,j,K,ie=$.trans,U=$.values,re=$.limit,te=$.query,X=re===1/0?void 0:re,ee=te.index,te=te.range,ie=ie.objectStore(L),ee=ee.isPrimaryKey?ie:ie.index(ee.name),te=d(te);if(re===0)return N({result:[]});C?((X=U?ee.getAll(te,X):ee.getAllKeys(te,X)).onsuccess=function(Ne){return N({result:Ne.target.result})},X.onerror=Ft(M)):(R=0,j=!U&&"openKeyCursor"in ee?ee.openKeyCursor(te):ee.openCursor(te),K=[],j.onsuccess=function(Ne){var ke=j.result;return ke?(K.push(U?ke.value:ke.primaryKey),++R===re?N({result:K}):void ke.continue()):N({result:K})},j.onerror=Ft(M))})}),openCursor:function($){var N=$.trans,M=$.values,R=$.query,j=$.reverse,K=$.unique;return new Promise(function(U,re){U=ze(U);var ee=R.index,X=R.range,ie=N.objectStore(L),ie=ee.isPrimaryKey?ie:ie.index(ee.name),ee=j?K?"prevunique":"prev":K?"nextunique":"next",te=!M&&"openKeyCursor"in ie?ie.openKeyCursor(d(X),ee):ie.openCursor(d(X),ee);te.onerror=Ft(re),te.onsuccess=ze(function(Ne){var ke,Re,Pe,vn,Ie=te.result;Ie?(Ie.___id=++ns,Ie.done=!1,ke=Ie.continue.bind(Ie),Re=(Re=Ie.continuePrimaryKey)&&Re.bind(Ie),Pe=Ie.advance.bind(Ie),vn=function(){throw new Error("Cursor not stopped")},Ie.trans=N,Ie.stop=Ie.continue=Ie.continuePrimaryKey=Ie.advance=function(){throw new Error("Cursor not started")},Ie.fail=ze(re),Ie.next=function(){var Tt=this,St=1;return this.start(function(){return St--?Tt.continue():Tt.stop()}).then(function(){return Tt})},Ie.start=function(Tt){function St(){if(te.result)try{Tt()}catch(Ot){Ie.fail(Ot)}else Ie.done=!0,Ie.start=function(){throw new Error("Cursor behind last entry")},Ie.stop()}var ls=new Promise(function(Ot,$r){Ot=ze(Ot),te.onerror=Ft($r),Ie.fail=$r,Ie.stop=function(js){Ie.stop=Ie.continue=Ie.continuePrimaryKey=Ie.advance=vn,Ot(js)}});return te.onsuccess=ze(function(Ot){te.onsuccess=St,St()}),Ie.continue=ke,Ie.continuePrimaryKey=Re,Ie.advance=Pe,St(),ls},U(Ie)):U(null)},re)})},count:function($){var N=$.query,M=$.trans,R=N.index,j=N.range;return new Promise(function(K,U){var re=M.objectStore(L),X=R.isPrimaryKey?re:re.index(R.name),re=d(j),X=re?X.count(re):X.count();X.onsuccess=ze(function(ie){return K(ie.target.result)}),X.onerror=Ft(U)})}}}var a,p,b,x=(p=w,b=ei((a=n).objectStoreNames),{schema:{name:a.name,tables:b.map(function(D){return p.objectStore(D)}).map(function(D){var C=D.keyPath,N=D.autoIncrement,L=P(C),$={},N={name:D.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:C==null,compound:L,keyPath:C,autoIncrement:N,unique:!0,extractKey:Zr(C)},indexes:ei(D.indexNames).map(function(M){return D.index(M)}).map(function(K){var R=K.name,j=K.unique,U=K.multiEntry,K=K.keyPath,U={name:R,compound:P(K),keyPath:K,unique:j,multiEntry:U,extractKey:Zr(K)};return $[Kn(K)]=U}),getIndexByKeyPath:function(M){return $[Kn(M)]}};return $[":id"]=N.primaryKey,C!=null&&($[Kn(C)]=N.primaryKey),N})},hasGetAll:0<b.length&&"getAll"in p.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),w=x.schema,E=x.hasGetAll,x=w.tables.map(y),A={};return x.forEach(function(D){return A[D.name]=D}),{stack:"dbcore",transaction:n.transaction.bind(n),table:function(D){if(!A[D])throw new Error("Table '".concat(D,"' not found"));return A[D]},MIN_KEY:-1/0,MAX_KEY:Dr(s),schema:w}}function is(n,s,u,d){var y=u.IDBKeyRange;return u.indexedDB,{dbcore:(d=rs(s,y,d),n.dbcore.reduce(function(a,p){return p=p.create,l(l({},a),p(a))},d))}}function ir(n,d){var u=d.db,d=is(n._middlewares,u,n._deps,d);n.core=d.dbcore,n.tables.forEach(function(y){var a=y.name;n.core.schema.tables.some(function(p){return p.name===a})&&(y.core=n.core.table(a),n[a]instanceof n.Table&&(n[a].core=y.core))})}function ti(n,s,u,d){u.forEach(function(y){var a=d[y];s.forEach(function(p){var b=function w(E,x){return _e(E,x)||(E=V(E))&&w(E,x)}(p,y);(!b||"value"in b&&b.value===void 0)&&(p===n.Transaction.prototype||p instanceof n.Transaction?J(p,y,{get:function(){return this.table(y)},set:function(w){fe(this,y,{value:w,writable:!0,configurable:!0,enumerable:!0})}}):p[y]=new n.Table(y,a))})})}function Hi(n,s){s.forEach(function(u){for(var d in u)u[d]instanceof n.Table&&delete u[d]})}function Ms(n,s){return n._cfg.version-s._cfg.version}function Nr(n,s,u,d){var y=n._dbSchema;u.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=ji("$meta",o("")[0],[]),n._storeNames.push("$meta"));var a=n._createTransaction("readwrite",n._storeNames,y);a.create(u),a._completion.catch(d);var p=a._reject.bind(a),b=me.transless||me;ln(function(){return me.trans=a,me.transless=b,s!==0?(ir(n,u),E=s,((w=a).storeNames.includes("$meta")?w.table("$meta").get("version").then(function(x){return x??E}):ce.resolve(E)).then(function(x){return D=x,C=a,L=u,$=[],x=(A=n)._versions,N=A._dbSchema=t(0,A.idbdb,L),(x=x.filter(function(M){return M._cfg.version>=D})).length!==0?(x.forEach(function(M){$.push(function(){var R=N,j=M._cfg.dbschema;i(A,R,L),i(A,j,L),N=A._dbSchema=j;var K=kr(R,j);K.add.forEach(function(ee){qi(L,ee[0],ee[1].primKey,ee[1].indexes)}),K.change.forEach(function(ee){if(ee.recreate)throw new de.Upgrade("Not yet support for changing primary key");var te=L.objectStore(ee.name);ee.add.forEach(function(Ne){return ni(te,Ne)}),ee.change.forEach(function(Ne){te.deleteIndex(Ne.name),ni(te,Ne)}),ee.del.forEach(function(Ne){return te.deleteIndex(Ne)})});var U=M._cfg.contentUpgrade;if(U&&M._cfg.version>D){ir(A,L),C._memoizedTables={};var re=Je(j);K.del.forEach(function(ee){re[ee]=R[ee]}),Hi(A,[A.Transaction.prototype]),ti(A,[A.Transaction.prototype],T(re),re),C.schema=re;var X,ie=Me(U);return ie&&Zn(),K=ce.follow(function(){var ee;(X=U(C))&&ie&&(ee=Sn.bind(null,null),X.then(ee,ee))}),X&&typeof X.then=="function"?ce.resolve(X):K.then(function(){return X})}}),$.push(function(R){var j,K,U=M._cfg.dbschema;j=U,K=R,[].slice.call(K.db.objectStoreNames).forEach(function(re){return j[re]==null&&K.db.deleteObjectStore(re)}),Hi(A,[A.Transaction.prototype]),ti(A,[A.Transaction.prototype],A._storeNames,A._dbSchema),C.schema=A._dbSchema}),$.push(function(R){A.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(A.idbdb.version/10)===M._cfg.version?(A.idbdb.deleteObjectStore("$meta"),delete A._dbSchema.$meta,A._storeNames=A._storeNames.filter(function(j){return j!=="$meta"})):R.objectStore("$meta").put(M._cfg.version,"version"))})}),function M(){return $.length?ce.resolve($.shift()(C.idbtrans)).then(M):ce.resolve()}().then(function(){os(N,L)})):ce.resolve();var A,D,C,L,$,N}).catch(p)):(T(y).forEach(function(x){qi(u,x,y[x].primKey,y[x].indexes)}),ir(n,u),void ce.follow(function(){return n.on.populate.fire(a)}).catch(p));var w,E})}function ss(n,s){os(n._dbSchema,s),s.db.version%10!=0||s.objectStoreNames.contains("$meta")||s.db.createObjectStore("$meta").add(Math.ceil(s.db.version/10-1),"version");var u=t(0,n.idbdb,s);i(n,n._dbSchema,s);for(var d=0,y=kr(u,n._dbSchema).change;d<y.length;d++){var a=function(p){if(p.change.length||p.recreate)return console.warn("Unable to patch indexes of table ".concat(p.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=s.objectStore(p.name);p.add.forEach(function(w){vt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(p.name,".").concat(w.src)),ni(b,w)})}(y[d]);if(typeof a=="object")return a.value}}function kr(n,s){var u,d={del:[],add:[],change:[]};for(u in n)s[u]||d.del.push(u);for(u in s){var y=n[u],a=s[u];if(y){var p={name:u,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||y.primKey.auto!==a.primKey.auto)p.recreate=!0,d.change.push(p);else{var b=y.idxByName,w=a.idxByName,E=void 0;for(E in b)w[E]||p.del.push(E);for(E in w){var x=b[E],A=w[E];x?x.src!==A.src&&p.change.push(A):p.add.push(A)}(0<p.del.length||0<p.add.length||0<p.change.length)&&d.change.push(p)}}else d.add.push([u,a])}return d}function qi(n,s,u,d){var y=n.db.createObjectStore(s,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});return d.forEach(function(a){return ni(y,a)}),y}function os(n,s){T(n).forEach(function(u){s.db.objectStoreNames.contains(u)||(vt&&console.debug("Dexie: Creating missing table",u),qi(s,u,n[u].primKey,n[u].indexes))})}function ni(n,s){n.createIndex(s.name,s.keyPath,{unique:s.unique,multiEntry:s.multi})}function t(n,s,u){var d={};return Be(s.objectStoreNames,0).forEach(function(y){for(var a=u.objectStore(y),p=Mi(ts(E=a.keyPath),E||"",!0,!1,!!a.autoIncrement,E&&typeof E!="string",!0),b=[],w=0;w<a.indexNames.length;++w){var x=a.index(a.indexNames[w]),E=x.keyPath,x=Mi(x.name,E,!!x.unique,!!x.multiEntry,!1,E&&typeof E!="string",!1);b.push(x)}d[y]=ji(y,p,b)}),d}function i(n,s,u){for(var d=u.db.objectStoreNames,y=0;y<d.length;++y){var a=d[y],p=u.objectStore(a);n._hasGetAll="getAll"in p;for(var b=0;b<p.indexNames.length;++b){var w=p.indexNames[b],E=p.index(w).keyPath,x=typeof E=="string"?E:"["+Be(E).join("+")+"]";!s[a]||(E=s[a].idxByName[x])&&(E.name=w,delete s[a].idxByName[x],s[a].idxByName[w]=E)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&S.WorkerGlobalScope&&S instanceof S.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(n._hasGetAll=!1)}function o(n){return n.split(",").map(function(s,u){var d=(s=s.trim()).replace(/([&*]|\+\+)/g,""),y=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return Mi(d,y||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),P(y),u===0)})}var c=(g.prototype._parseStoresSpec=function(n,s){T(n).forEach(function(u){if(n[u]!==null){var d=o(n[u]),y=d.shift();if(y.unique=!0,y.multi)throw new de.Schema("Primary key cannot be multi-valued");d.forEach(function(a){if(a.auto)throw new de.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new de.Schema("Index must have a name and cannot be an empty string")}),s[u]=ji(u,y,d)}})},g.prototype.stores=function(u){var s=this.db;this._cfg.storesSource=this._cfg.storesSource?H(this._cfg.storesSource,u):u;var u=s._versions,d={},y={};return u.forEach(function(a){H(d,a._cfg.storesSource),y=a._cfg.dbschema={},a._parseStoresSpec(d,y)}),s._dbSchema=y,Hi(s,[s._allTables,s,s.Transaction.prototype]),ti(s,[s._allTables,s,s.Transaction.prototype,this._cfg.tables],T(y),y),s._storeNames=T(y),this},g.prototype.upgrade=function(n){return this._cfg.contentUpgrade=Bt(this._cfg.contentUpgrade||De,n),this},g);function g(){}function v(n,s){var u=n._dbNamesDB;return u||(u=n._dbNamesDB=new gn(Er,{addons:[],indexedDB:n,IDBKeyRange:s})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function _(n){return n&&typeof n.databases=="function"}function k(n){return ln(function(){return me.letThrough=!0,n()})}function O(n){return!("from"in n)}var I=function(n,s){if(!this){var u=new I;return n&&"d"in n&&H(u,n),u}H(this,arguments.length?{d:1,from:n,to:1<arguments.length?s:n}:{d:0})};function B(n,s,u){var d=He(s,u);if(!isNaN(d)){if(0<d)throw RangeError();if(O(n))return H(n,{from:s,to:u,d:1});var y=n.l,d=n.r;if(He(u,n.from)<0)return y?B(y,s,u):n.l={from:s,to:u,d:1,l:null,r:null},Ae(n);if(0<He(s,n.to))return d?B(d,s,u):n.r={from:s,to:u,d:1,l:null,r:null},Ae(n);He(s,n.from)<0&&(n.from=s,n.l=null,n.d=d?d.d+1:1),0<He(u,n.to)&&(n.to=u,n.r=null,n.d=n.l?n.l.d+1:1),u=!n.r,y&&!n.l&&Y(n,y),d&&u&&Y(n,d)}}function Y(n,s){O(s)||function u(d,w){var a=w.from,p=w.to,b=w.l,w=w.r;B(d,a,p),b&&u(d,b),w&&u(d,w)}(n,s)}function q(n,s){var u=G(s),d=u.next();if(d.done)return!1;for(var y=d.value,a=G(n),p=a.next(y.from),b=p.value;!d.done&&!p.done;){if(He(b.from,y.to)<=0&&0<=He(b.to,y.from))return!0;He(y.from,b.from)<0?y=(d=u.next(b.from)).value:b=(p=a.next(y.from)).value}return!1}function G(n){var s=O(n)?null:{s:0,n};return{next:function(u){for(var d=0<arguments.length;s;)switch(s.s){case 0:if(s.s=1,d)for(;s.n.l&&He(u,s.n.from)<0;)s={up:s,n:s.n.l,s:1};else for(;s.n.l;)s={up:s,n:s.n.l,s:1};case 1:if(s.s=2,!d||He(u,s.n.to)<=0)return{value:s.n,done:!1};case 2:if(s.n.r){s.s=3,s={up:s,n:s.n.r,s:0};continue}case 3:s=s.up}return{done:!0}}}}function Ae(n){var s,u,d=(((s=n.r)===null||s===void 0?void 0:s.d)||0)-(((u=n.l)===null||u===void 0?void 0:u.d)||0),y=1<d?"r":d<-1?"l":"";y&&(s=y=="r"?"l":"r",u=l({},n),d=n[y],n.from=d.from,n.to=d.to,n[y]=d[y],u[y]=d[s],(n[s]=u).d=je(u)),n.d=je(n)}function je(u){var s=u.r,u=u.l;return(s?u?Math.max(s.d,u.d):s.d:u?u.d:0)+1}function xe(n,s){return T(s).forEach(function(u){n[u]?Y(n[u],s[u]):n[u]=function d(y){var a,p,b={};for(a in y)W(y,a)&&(p=y[a],b[a]=!p||typeof p!="object"||Se.has(p.constructor)?p:d(p));return b}(s[u])}),n}function lt(n,s){return n.all||s.all||Object.keys(n).some(function(u){return s[u]&&q(s[u],n[u])})}ae(I.prototype,((Et={add:function(n){return Y(this,n),this},addKey:function(n){return B(this,n,n),this},addKeys:function(n){var s=this;return n.forEach(function(u){return B(s,u,u)}),this},hasKey:function(n){var s=G(this).next(n).value;return s&&He(s.from,n)<=0&&0<=He(s.to,n)}})[ne]=function(){return G(this)},Et));var et={},$t={},Pt=!1;function Le(n){xe($t,n),Pt||(Pt=!0,setTimeout(function(){Pt=!1,dn($t,!($t={}))},0))}function dn(n,s){s===void 0&&(s=!1);var u=new Set;if(n.all)for(var d=0,y=Object.values(et);d<y.length;d++)qe(p=y[d],n,u,s);else for(var a in n){var p,b=/^idb\:\/\/(.*)\/(.*)\//.exec(a);b&&(a=b[1],b=b[2],(p=et["idb://".concat(a,"/").concat(b)])&&qe(p,n,u,s))}u.forEach(function(w){return w()})}function qe(n,s,u,d){for(var y=[],a=0,p=Object.entries(n.queries.query);a<p.length;a++){for(var b=p[a],w=b[0],E=[],x=0,A=b[1];x<A.length;x++){var D=A[x];lt(s,D.obsSet)?D.subscribers.forEach(function(N){return u.add(N)}):d&&E.push(D)}d&&y.push([w,E])}if(d)for(var C=0,L=y;C<L.length;C++){var $=L[C],w=$[0],E=$[1];n.queries.query[w]=E}}function it(n){var s=n._state,u=n._deps.indexedDB;if(s.isBeingOpened||n.idbdb)return s.dbReadyPromise.then(function(){return s.dbOpenError?rt(s.dbOpenError):n});s.isBeingOpened=!0,s.dbOpenError=null,s.openComplete=!1;var d=s.openCanceller,y=Math.round(10*n.verno),a=!1;function p(){if(s.openCanceller!==d)throw new de.DatabaseClosed("db.open() was cancelled")}function b(){return new ce(function(D,C){if(p(),!u)throw new de.MissingAPI;var L=n.name,$=s.autoSchema||!y?u.open(L):u.open(L,y);if(!$)throw new de.MissingAPI;$.onerror=Ft(C),$.onblocked=ze(n._fireOnBlocked),$.onupgradeneeded=ze(function(N){var M;x=$.transaction,s.autoSchema&&!n._options.allowEmptyDB?($.onerror=Cr,x.abort(),$.result.close(),(M=u.deleteDatabase(L)).onsuccess=M.onerror=ze(function(){C(new de.NoSuchDatabase("Database ".concat(L," doesnt exist")))})):(x.onerror=Ft(C),N=N.oldVersion>Math.pow(2,62)?0:N.oldVersion,A=N<1,n.idbdb=$.result,a&&ss(n,x),Nr(n,N/10,x,C))},C),$.onsuccess=ze(function(){x=null;var N,M,R,j,K,U=n.idbdb=$.result,re=Be(U.objectStoreNames);if(0<re.length)try{var X=U.transaction((j=re).length===1?j[0]:j,"readonly");if(s.autoSchema)M=U,R=X,(N=n).verno=M.version/10,R=N._dbSchema=t(0,M,R),N._storeNames=Be(M.objectStoreNames,0),ti(N,[N._allTables],T(R),R);else if(i(n,n._dbSchema,X),((K=kr(t(0,(K=n).idbdb,X),K._dbSchema)).add.length||K.change.some(function(ie){return ie.add.length||ie.change.length}))&&!a)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),U.close(),y=U.version+1,a=!0,D(b());ir(n,X)}catch{}Hn.push(n),U.onversionchange=ze(function(ie){s.vcFired=!0,n.on("versionchange").fire(ie)}),U.onclose=ze(function(ie){n.on("close").fire(ie)}),A&&(K=n._deps,X=L,U=K.indexedDB,K=K.IDBKeyRange,_(U)||X===Er||v(U,K).put({name:X}).catch(De)),D()},C)}).catch(function(D){switch(D==null?void 0:D.name){case"UnknownError":if(0<s.PR1398_maxLoop)return s.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<y)return y=0,b()}return ce.reject(D)})}var w,E=s.dbReadyResolve,x=null,A=!1;return ce.race([d,(typeof navigator>"u"?ce.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(D){function C(){return indexedDB.databases().finally(D)}w=setInterval(C,100),C()}).finally(function(){return clearInterval(w)}):Promise.resolve()).then(b)]).then(function(){return p(),s.onReadyBeingFired=[],ce.resolve(k(function(){return n.on.ready.fire(n.vip)})).then(function D(){if(0<s.onReadyBeingFired.length){var C=s.onReadyBeingFired.reduce(Bt,De);return s.onReadyBeingFired=[],ce.resolve(k(function(){return C(n.vip)})).then(D)}})}).finally(function(){s.openCanceller===d&&(s.onReadyBeingFired=null,s.isBeingOpened=!1)}).catch(function(D){s.dbOpenError=D;try{x&&x.abort()}catch{}return d===s.openCanceller&&n._close(),rt(D)}).finally(function(){s.openComplete=!0,E()}).then(function(){var D;return A&&(D={},n.tables.forEach(function(C){C.schema.indexes.forEach(function(L){L.name&&(D["idb://".concat(n.name,"/").concat(C.name,"/").concat(L.name)]=new I(-1/0,[[[]]]))}),D["idb://".concat(n.name,"/").concat(C.name,"/")]=D["idb://".concat(n.name,"/").concat(C.name,"/:dels")]=new I(-1/0,[[[]]])}),Cn(xr).fire(D),dn(D,!0)),n})}function Fn(n){function s(a){return n.next(a)}var u=y(s),d=y(function(a){return n.throw(a)});function y(a){return function(w){var b=a(w),w=b.value;return b.done?w:w&&typeof w.then=="function"?w.then(u,d):P(w)?Promise.all(w).then(u,d):u(w)}}return y(s)()}function sr(n,s,u){for(var d=P(n)?n.slice():[n],y=0;y<u;++y)d.push(s);return d}var Zt={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(n){return l(l({},n),{table:function(s){var u=n.table(s),d=u.schema,y={},a=[];function p(A,D,C){var L=Kn(A),$=y[L]=y[L]||[],N=A==null?0:typeof A=="string"?1:A.length,M=0<D,M=l(l({},C),{name:M?"".concat(L,"(virtual-from:").concat(C.name,")"):C.name,lowLevelIndex:C,isVirtual:M,keyTail:D,keyLength:N,extractKey:Zr(A),unique:!M&&C.unique});return $.push(M),M.isPrimaryKey||a.push(M),1<N&&p(N===2?A[0]:A.slice(0,N-1),D+1,C),$.sort(function(R,j){return R.keyTail-j.keyTail}),M}s=p(d.primaryKey.keyPath,0,d.primaryKey),y[":id"]=[s];for(var b=0,w=d.indexes;b<w.length;b++){var E=w[b];p(E.keyPath,0,E)}function x(A){var D,C=A.query.index;return C.isVirtual?l(l({},A),{query:{index:C.lowLevelIndex,range:(D=A.query.range,C=C.keyTail,{type:D.type===1?2:D.type,lower:sr(D.lower,D.lowerOpen?n.MAX_KEY:n.MIN_KEY,C),lowerOpen:!0,upper:sr(D.upper,D.upperOpen?n.MIN_KEY:n.MAX_KEY,C),upperOpen:!0})}}):A}return l(l({},u),{schema:l(l({},d),{primaryKey:s,indexes:a,getIndexByKeyPath:function(A){return(A=y[Kn(A)])&&A[0]}}),count:function(A){return u.count(x(A))},query:function(A){return u.query(x(A))},openCursor:function(A){var D=A.query.index,C=D.keyTail,L=D.isVirtual,$=D.keyLength;return L?u.openCursor(x(A)).then(function(M){return M&&N(M)}):u.openCursor(A);function N(M){return Object.create(M,{continue:{value:function(R){R!=null?M.continue(sr(R,A.reverse?n.MAX_KEY:n.MIN_KEY,C)):A.unique?M.continue(M.key.slice(0,$).concat(A.reverse?n.MIN_KEY:n.MAX_KEY,C)):M.continue()}},continuePrimaryKey:{value:function(R,j){M.continuePrimaryKey(sr(R,n.MAX_KEY,C),j)}},primaryKey:{get:function(){return M.primaryKey}},key:{get:function(){var R=M.key;return $===1?R[0]:R.slice(0,$)}},value:{get:function(){return M.value}}})}}})}})}};function Yn(n,s,u,d){return u=u||{},d=d||"",T(n).forEach(function(y){var a,p,b;W(s,y)?(a=n[y],p=s[y],typeof a=="object"&&typeof p=="object"&&a&&p?(b=ue(a))!==ue(p)?u[d+y]=s[y]:b==="Object"?Yn(a,p,u,d+y+"."):a!==p&&(u[d+y]=s[y]):a!==p&&(u[d+y]=s[y])):u[d+y]=void 0}),T(s).forEach(function(y){W(n,y)||(u[d+y]=s[y])}),u}function It(n,s){return s.type==="delete"?s.keys:s.keys||s.values.map(n.extractKey)}var xn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(n){return l(l({},n),{table:function(s){var u=n.table(s),d=u.schema.primaryKey;return l(l({},u),{mutate:function(y){var a=me.trans,p=a.table(s).hook,b=p.deleting,w=p.creating,E=p.updating;switch(y.type){case"add":if(w.fire===De)break;return a._promise("readwrite",function(){return x(y)},!0);case"put":if(w.fire===De&&E.fire===De)break;return a._promise("readwrite",function(){return x(y)},!0);case"delete":if(b.fire===De)break;return a._promise("readwrite",function(){return x(y)},!0);case"deleteRange":if(b.fire===De)break;return a._promise("readwrite",function(){return function A(D,C,L){return u.query({trans:D,values:!1,query:{index:d,range:C},limit:L}).then(function($){var N=$.result;return x({type:"delete",keys:N,trans:D}).then(function(M){return 0<M.numFailures?Promise.reject(M.failures[0]):N.length<L?{failures:[],numFailures:0,lastResult:void 0}:A(D,l(l({},C),{lower:N[N.length-1],lowerOpen:!0}),L)})})}(y.trans,y.range,1e4)},!0)}return u.mutate(y);function x(A){var D,C,L,$=me.trans,N=A.keys||It(d,A);if(!N)throw new Error("Keys missing");return(A=A.type==="add"||A.type==="put"?l(l({},A),{keys:N}):l({},A)).type!=="delete"&&(A.values=m([],A.values)),A.keys&&(A.keys=m([],A.keys)),D=u,L=N,((C=A).type==="add"?Promise.resolve([]):D.getMany({trans:C.trans,keys:L,cache:"immutable"})).then(function(M){var R=N.map(function(j,K){var U,re,X,ie=M[K],ee={onerror:null,onsuccess:null};return A.type==="delete"?b.fire.call(ee,j,ie,$):A.type==="add"||ie===void 0?(U=w.fire.call(ee,j,A.values[K],$),j==null&&U!=null&&(A.keys[K]=j=U,d.outbound||f(A.values[K],d.keyPath,j))):(U=Yn(ie,A.values[K]),(re=E.fire.call(ee,U,j,ie,$))&&(X=A.values[K],Object.keys(re).forEach(function(te){W(X,te)?X[te]=re[te]:f(X,te,re[te])}))),ee});return u.mutate(A).then(function(j){for(var K=j.failures,U=j.results,re=j.numFailures,j=j.lastResult,X=0;X<N.length;++X){var ie=(U||N)[X],ee=R[X];ie==null?ee.onerror&&ee.onerror(K[X]):ee.onsuccess&&ee.onsuccess(A.type==="put"&&M[X]?A.values[X]:ie)}return{failures:K,results:U,numFailures:re,lastResult:j}}).catch(function(j){return R.forEach(function(K){return K.onerror&&K.onerror(j)}),Promise.reject(j)})})}}})}})}};function pn(n,s,u){try{if(!s||s.keys.length<n.length)return null;for(var d=[],y=0,a=0;y<s.keys.length&&a<n.length;++y)He(s.keys[y],n[a])===0&&(d.push(u?be(s.values[y]):s.values[y]),++a);return d.length===n.length?d:null}catch{return null}}var Rt={stack:"dbcore",level:-1,create:function(n){return{table:function(s){var u=n.table(s);return l(l({},u),{getMany:function(d){if(!d.cache)return u.getMany(d);var y=pn(d.keys,d.trans._cache,d.cache==="clone");return y?ce.resolve(y):u.getMany(d).then(function(a){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?be(a):a},a})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),u.mutate(d)}})}}}};function ri(n,s){return n.trans.mode==="readonly"&&!!n.subscr&&!n.trans.explicit&&n.trans.db._options.cache!=="disabled"&&!s.schema.primaryKey.outbound}function en(n,s){switch(n){case"query":return s.values&&!s.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var mn={stack:"dbcore",level:0,name:"Observability",create:function(n){var s=n.schema.name,u=new I(n.MIN_KEY,n.MAX_KEY);return l(l({},n),{transaction:function(d,y,a){if(me.subscr&&y!=="readonly")throw new de.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(me.querier));return n.transaction(d,y,a)},table:function(d){var y=n.table(d),a=y.schema,p=a.primaryKey,A=a.indexes,b=p.extractKey,w=p.outbound,E=p.autoIncrement&&A.filter(function(C){return C.compound&&C.keyPath.includes(p.keyPath)}),x=l(l({},y),{mutate:function(C){function L(te){return te="idb://".concat(s,"/").concat(d,"/").concat(te),j[te]||(j[te]=new I)}var $,N,M,R=C.trans,j=C.mutatedParts||(C.mutatedParts={}),K=L(""),U=L(":dels"),re=C.type,ee=C.type==="deleteRange"?[C.range]:C.type==="delete"?[C.keys]:C.values.length<50?[It(p,C).filter(function(te){return te}),C.values]:[],X=ee[0],ie=ee[1],ee=C.trans._cache;return P(X)?(K.addKeys(X),(ee=re==="delete"||X.length===ie.length?pn(X,ee):null)||U.addKeys(X),(ee||ie)&&($=L,N=ee,M=ie,a.indexes.forEach(function(te){var Ne=$(te.name||"");function ke(Pe){return Pe!=null?te.extractKey(Pe):null}function Re(Pe){return te.multiEntry&&P(Pe)?Pe.forEach(function(vn){return Ne.addKey(vn)}):Ne.addKey(Pe)}(N||M).forEach(function(Pe,Tt){var Ie=N&&ke(N[Tt]),Tt=M&&ke(M[Tt]);He(Ie,Tt)!==0&&(Ie!=null&&Re(Ie),Tt!=null&&Re(Tt))})}))):X?(ie={from:X.lower,to:X.upper},U.add(ie),K.add(ie)):(K.add(u),U.add(u),a.indexes.forEach(function(te){return L(te.name).add(u)})),y.mutate(C).then(function(te){return!X||C.type!=="add"&&C.type!=="put"||(K.addKeys(te.results),E&&E.forEach(function(Ne){var ke=C.values.map(function(Pe){return Ne.extractKey(Pe)}),Re=Ne.keyPath.findIndex(function(Pe){return Pe===p.keyPath});te.results.forEach(function(Pe){return ke[Re]=Pe}),L(Ne.name).addKeys(ke)})),R.mutatedParts=xe(R.mutatedParts||{},j),te})}}),A=function(L){var $=L.query,L=$.index,$=$.range;return[L,new I((L=$.lower)!==null&&L!==void 0?L:n.MIN_KEY,($=$.upper)!==null&&$!==void 0?$:n.MAX_KEY)]},D={get:function(C){return[p,new I(C.key)]},getMany:function(C){return[p,new I().addKeys(C.keys)]},count:A,query:A,openCursor:A};return T(D).forEach(function(C){x[C]=function(L){var $=me.subscr,N=!!$,M=ri(me,y)&&en(C,L)?L.obsSet={}:$;if(N){var R=function(ie){return ie="idb://".concat(s,"/").concat(d,"/").concat(ie),M[ie]||(M[ie]=new I)},j=R(""),K=R(":dels"),$=D[C](L),N=$[0],$=$[1];if((C==="query"&&N.isPrimaryKey&&!L.values?K:R(N.name||"")).add($),!N.isPrimaryKey){if(C!=="count"){var U=C==="query"&&w&&L.values&&y.query(l(l({},L),{values:!1}));return y[C].apply(this,arguments).then(function(ie){if(C==="query"){if(w&&L.values)return U.then(function(ke){return ke=ke.result,j.addKeys(ke),ie});var ee=L.values?ie.result.map(b):ie.result;(L.values?j:K).addKeys(ee)}else if(C==="openCursor"){var te=ie,Ne=L.values;return te&&Object.create(te,{key:{get:function(){return K.addKey(te.primaryKey),te.key}},primaryKey:{get:function(){var ke=te.primaryKey;return K.addKey(ke),ke}},value:{get:function(){return Ne&&j.addKey(te.primaryKey),te.value}}})}return ie})}K.add(u)}}return y[C].apply(this,arguments)}}),x}})}};function as(n,s,u){if(u.numFailures===0)return s;if(s.type==="deleteRange")return null;var d=s.keys?s.keys.length:"values"in s&&s.values?s.values.length:1;return u.numFailures===d?null:(s=l({},s),P(s.keys)&&(s.keys=s.keys.filter(function(y,a){return!(a in u.failures)})),"values"in s&&P(s.values)&&(s.values=s.values.filter(function(y,a){return!(a in u.failures)})),s)}function Bi(n,s){return u=n,((d=s).lower===void 0||(d.lowerOpen?0<He(u,d.lower):0<=He(u,d.lower)))&&(n=n,(s=s).upper===void 0||(s.upperOpen?He(n,s.upper)<0:He(n,s.upper)<=0));var u,d}function us(n,s,D,d,y,a){if(!D||D.length===0)return n;var p=s.query.index,b=p.multiEntry,w=s.query.range,E=d.schema.primaryKey.extractKey,x=p.extractKey,A=(p.lowLevelIndex||p).extractKey,D=D.reduce(function(C,L){var $=C,N=[];if(L.type==="add"||L.type==="put")for(var M=new I,R=L.values.length-1;0<=R;--R){var j,K=L.values[R],U=E(K);M.hasKey(U)||(j=x(K),(b&&P(j)?j.some(function(ee){return Bi(ee,w)}):Bi(j,w))&&(M.addKey(U),N.push(K)))}switch(L.type){case"add":$=C.concat(s.values?N:N.map(function(te){return E(te)}));break;case"put":var re=new I().addKeys(L.values.map(function(te){return E(te)})),$=C.filter(function(te){return!re.hasKey(s.values?E(te):te)}).concat(s.values?N:N.map(function(te){return E(te)}));break;case"delete":var X=new I().addKeys(L.keys);$=C.filter(function(te){return!X.hasKey(s.values?E(te):te)});break;case"deleteRange":var ie=L.range;$=C.filter(function(te){return!Bi(E(te),ie)})}return $},n);return D===n?n:(D.sort(function(C,L){return He(A(C),A(L))||He(E(C),E(L))}),s.limit&&s.limit<1/0&&(D.length>s.limit?D.length=s.limit:n.length===s.limit&&D.length<s.limit&&(y.dirty=!0)),a?Object.freeze(D):D)}function Ve(n,s){return He(n.lower,s.lower)===0&&He(n.upper,s.upper)===0&&!!n.lowerOpen==!!s.lowerOpen&&!!n.upperOpen==!!s.upperOpen}function ii(n,s){return function(u,d,y,a){if(u===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=He(u,d))===0){if(y&&a)return 0;if(y)return 1;if(a)return-1}return d}(n.lower,s.lower,n.lowerOpen,s.lowerOpen)<=0&&0<=function(u,d,y,a){if(u===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=He(u,d))===0){if(y&&a)return 0;if(y)return-1;if(a)return 1}return d}(n.upper,s.upper,n.upperOpen,s.upperOpen)}function Yt(n,s,u,d){n.subscribers.add(u),d.addEventListener("abort",function(){var y,a;n.subscribers.delete(u),n.subscribers.size===0&&(y=n,a=s,setTimeout(function(){y.subscribers.size===0&&oe(a,y)},3e3))})}var or={stack:"dbcore",level:0,name:"Cache",create:function(n){var s=n.schema.name;return l(l({},n),{transaction:function(u,d,y){var a,p,b=n.transaction(u,d,y);return d==="readwrite"&&(p=(a=new AbortController).signal,y=function(w){return function(){if(a.abort(),d==="readwrite"){for(var E=new Set,x=0,A=u;x<A.length;x++){var D=A[x],C=et["idb://".concat(s,"/").concat(D)];if(C){var L=n.table(D),$=C.optimisticOps.filter(function(Ne){return Ne.trans===b});if(b._explicit&&w&&b.mutatedParts)for(var N=0,M=Object.values(C.queries.query);N<M.length;N++)for(var R=0,j=(re=M[N]).slice();R<j.length;R++)lt((X=j[R]).obsSet,b.mutatedParts)&&(oe(re,X),X.subscribers.forEach(function(Ne){return E.add(Ne)}));else if(0<$.length){C.optimisticOps=C.optimisticOps.filter(function(Ne){return Ne.trans!==b});for(var K=0,U=Object.values(C.queries.query);K<U.length;K++)for(var re,X,ie,ee=0,te=(re=U[K]).slice();ee<te.length;ee++)(X=te[ee]).res!=null&&b.mutatedParts&&(w&&!X.dirty?(ie=Object.isFrozen(X.res),ie=us(X.res,X.req,$,L,X,ie),X.dirty?(oe(re,X),X.subscribers.forEach(function(Ne){return E.add(Ne)})):ie!==X.res&&(X.res=ie,X.promise=ce.resolve({result:ie}))):(X.dirty&&oe(re,X),X.subscribers.forEach(function(Ne){return E.add(Ne)})))}}}E.forEach(function(Ne){return Ne()})}}},b.addEventListener("abort",y(!1),{signal:p}),b.addEventListener("error",y(!1),{signal:p}),b.addEventListener("complete",y(!0),{signal:p})),b},table:function(u){var d=n.table(u),y=d.schema.primaryKey;return l(l({},d),{mutate:function(a){var p=me.trans;if(y.outbound||p.db._options.cache==="disabled"||p.explicit)return d.mutate(a);var b=et["idb://".concat(s,"/").concat(u)];return b?(p=d.mutate(a),a.type!=="add"&&a.type!=="put"||!(50<=a.values.length||It(y,a).some(function(w){return w==null}))?(b.optimisticOps.push(a),a.mutatedParts&&Le(a.mutatedParts),p.then(function(w){0<w.numFailures&&(oe(b.optimisticOps,a),(w=as(0,a,w))&&b.optimisticOps.push(w),a.mutatedParts&&Le(a.mutatedParts))}),p.catch(function(){oe(b.optimisticOps,a),a.mutatedParts&&Le(a.mutatedParts)})):p.then(function(w){var E=as(0,l(l({},a),{values:a.values.map(function(C,A){var D,C=(D=y.keyPath)!==null&&D!==void 0&&D.includes(".")?be(C):l({},C);return f(C,y.keyPath,w.results[A]),C})}),w);b.optimisticOps.push(E),queueMicrotask(function(){return a.mutatedParts&&Le(a.mutatedParts)})}),p):d.mutate(a)},query:function(a){if(!ri(me,d)||!en("query",a))return d.query(a);var p=((E=me.trans)===null||E===void 0?void 0:E.db._options.cache)==="immutable",A=me,b=A.requery,w=A.signal,E=function(L,$,N,M){var R=et["idb://".concat(L,"/").concat($)];if(!R)return[];if(!($=R.queries[N]))return[null,!1,R,null];var j=$[(M.query?M.query.index.name:null)||""];if(!j)return[null,!1,R,null];switch(N){case"query":var K=j.find(function(U){return U.req.limit===M.limit&&U.req.values===M.values&&Ve(U.req.query.range,M.query.range)});return K?[K,!0,R,j]:[j.find(function(U){return("limit"in U.req?U.req.limit:1/0)>=M.limit&&(!M.values||U.req.values)&&ii(U.req.query.range,M.query.range)}),!1,R,j];case"count":return K=j.find(function(U){return Ve(U.req.query.range,M.query.range)}),[K,!!K,R,j]}}(s,u,"query",a),x=E[0],A=E[1],D=E[2],C=E[3];return x&&A?x.obsSet=a.obsSet:(A=d.query(a).then(function(L){var $=L.result;if(x&&(x.res=$),p){for(var N=0,M=$.length;N<M;++N)Object.freeze($[N]);Object.freeze($)}else L.result=be($);return L}).catch(function(L){return C&&x&&oe(C,x),Promise.reject(L)}),x={obsSet:a.obsSet,promise:A,subscribers:new Set,type:"query",req:a,dirty:!1},C?C.push(x):(C=[x],(D=D||(et["idb://".concat(s,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[a.query.index.name||""]=C)),Yt(x,C,b,w),x.promise.then(function(L){return{result:us(L.result,a,D==null?void 0:D.optimisticOps,d,x,p)}})}})}})}};function si(n,s){return new Proxy(n,{get:function(u,d,y){return d==="db"?s:Reflect.get(u,d,y)}})}var gn=(st.prototype.version=function(n){if(isNaN(n)||n<.1)throw new de.Type("Given version is not a positive number");if(n=Math.round(10*n)/10,this.idbdb||this._state.isBeingOpened)throw new de.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var s=this._versions,u=s.filter(function(d){return d._cfg.version===n})[0];return u||(u=new this.Version(n),s.push(u),s.sort(Ms),u.stores({}),this._state.autoSchema=!1,u)},st.prototype._whenReady=function(n){var s=this;return this.idbdb&&(this._state.openComplete||me.letThrough||this._vip)?n():new ce(function(u,d){if(s._state.openComplete)return d(new de.DatabaseClosed(s._state.dbOpenError));if(!s._state.isBeingOpened){if(!s._state.autoOpen)return void d(new de.DatabaseClosed);s.open().catch(De)}s._state.dbReadyPromise.then(u,d)}).then(n)},st.prototype.use=function(n){var s=n.stack,u=n.create,d=n.level,y=n.name;return y&&this.unuse({stack:s,name:y}),n=this._middlewares[s]||(this._middlewares[s]=[]),n.push({stack:s,create:u,level:d??10,name:y}),n.sort(function(a,p){return a.level-p.level}),this},st.prototype.unuse=function(n){var s=n.stack,u=n.name,d=n.create;return s&&this._middlewares[s]&&(this._middlewares[s]=this._middlewares[s].filter(function(y){return d?y.create!==d:!!u&&y.name!==u})),this},st.prototype.open=function(){var n=this;return cn(_t,function(){return it(n)})},st.prototype._close=function(){var n=this._state,s=Hn.indexOf(this);if(0<=s&&Hn.splice(s,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}n.isBeingOpened||(n.dbReadyPromise=new ce(function(u){n.dbReadyResolve=u}),n.openCanceller=new ce(function(u,d){n.cancelOpen=d}))},st.prototype.close=function(u){var s=(u===void 0?{disableAutoOpen:!0}:u).disableAutoOpen,u=this._state;s?(u.isBeingOpened&&u.cancelOpen(new de.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new de.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},st.prototype.delete=function(n){var s=this;n===void 0&&(n={disableAutoOpen:!0});var u=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new ce(function(y,a){function p(){s.close(n);var b=s._deps.indexedDB.deleteDatabase(s.name);b.onsuccess=ze(function(){var w,E,x;w=s._deps,E=s.name,x=w.indexedDB,w=w.IDBKeyRange,_(x)||E===Er||v(x,w).delete(E).catch(De),y()}),b.onerror=Ft(a),b.onblocked=s._fireOnBlocked}if(u)throw new de.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(p):p()})},st.prototype.backendDB=function(){return this.idbdb},st.prototype.isOpen=function(){return this.idbdb!==null},st.prototype.hasBeenClosed=function(){var n=this._state.dbOpenError;return n&&n.name==="DatabaseClosed"},st.prototype.hasFailed=function(){return this._state.dbOpenError!==null},st.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(st.prototype,"tables",{get:function(){var n=this;return T(this._allTables).map(function(s){return n._allTables[s]})},enumerable:!1,configurable:!0}),st.prototype.transaction=function(){var n=(function(s,u,d){var y=arguments.length;if(y<2)throw new de.InvalidArgument("Too few arguments");for(var a=new Array(y-1);--y;)a[y-1]=arguments[y];return d=a.pop(),[s,Oe(a),d]}).apply(this,arguments);return this._transaction.apply(this,n)},st.prototype._transaction=function(n,s,u){var d=this,y=me.trans;y&&y.db===this&&n.indexOf("!")===-1||(y=null);var a,p,b=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");try{if(p=s.map(function(E){if(E=E instanceof d.Table?E.name:E,typeof E!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return E}),n=="r"||n===zr)a=zr;else{if(n!="rw"&&n!=Ni)throw new de.InvalidArgument("Invalid transaction mode: "+n);a=Ni}if(y){if(y.mode===zr&&a===Ni){if(!b)throw new de.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");y=null}y&&p.forEach(function(E){if(y&&y.storeNames.indexOf(E)===-1){if(!b)throw new de.SubTransaction("Table "+E+" not included in parent transaction.");y=null}}),b&&y&&!y.active&&(y=null)}}catch(E){return y?y._promise(null,function(x,A){A(E)}):rt(E)}var w=(function E(x,A,D,C,L){return ce.resolve().then(function(){var $=me.transless||me,N=x._createTransaction(A,D,x._dbSchema,C);if(N.explicit=!0,$={trans:N,transless:$},C)N.idbtrans=C.idbtrans;else try{N.create(),N.idbtrans._explicit=!0,x._state.PR1398_maxLoop=3}catch(j){return j.name===dt.InvalidState&&x.isOpen()&&0<--x._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),x.close({disableAutoOpen:!1}),x.open().then(function(){return E(x,A,D,null,L)})):rt(j)}var M,R=Me(L);return R&&Zn(),$=ce.follow(function(){var j;(M=L.call(N,N))&&(R?(j=Sn.bind(null,null),M.then(j,j)):typeof M.next=="function"&&typeof M.throw=="function"&&(M=Fn(M)))},$),(M&&typeof M.then=="function"?ce.resolve(M).then(function(j){return N.active?j:rt(new de.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):$.then(function(){return M})).then(function(j){return C&&N._resolve(),N._completion.then(function(){return j})}).catch(function(j){return N._reject(j),rt(j)})})}).bind(null,this,a,p,y,u);return y?y._promise(a,w,"lock"):me.trans?cn(me.transless,function(){return d._whenReady(w)}):this._whenReady(w)},st.prototype.table=function(n){if(!W(this._allTables,n))throw new de.InvalidTable("Table ".concat(n," does not exist"));return this._allTables[n]},st);function st(n,s){var u=this;this._middlewares={},this.verno=0;var d=st.dependencies;this._options=s=l({addons:st.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},s),this._deps={indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},d=s.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var y,a,p,b,w,E={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:De,dbReadyPromise:null,cancelOpen:De,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:s.autoOpen};E.dbReadyPromise=new ce(function(A){E.dbReadyResolve=A}),E.openCanceller=new ce(function(A,D){E.cancelOpen=D}),this._state=E,this.name=n,this.on=An(this,"populate","blocked","versionchange","close",{ready:[Bt,De]}),this.on.ready.subscribe=Ue(this.on.ready.subscribe,function(A){return function(D,C){st.vip(function(){var L,$=u._state;$.openComplete?($.dbOpenError||ce.resolve().then(D),C&&A(D)):$.onReadyBeingFired?($.onReadyBeingFired.push(D),C&&A(D)):(A(D),L=u,C||A(function N(){L.on.ready.unsubscribe(D),L.on.ready.unsubscribe(N)}))})}}),this.Collection=(y=this,Tr(Is.prototype,function(M,N){this.db=y;var C=Zi,L=null;if(N)try{C=N()}catch(R){L=R}var $=M._ctx,N=$.table,M=N.hook.reading.fire;this._ctx={table:N,index:$.index,isPrimKey:!$.index||N.schema.primKey.keyPath&&$.index===N.schema.primKey.name,range:C,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:L,or:$.or,valueMapper:M!==pt?M:null}})),this.Table=(a=this,Tr(yt.prototype,function(A,D,C){this.db=a,this._tx=C,this.name=A,this.schema=D,this.hook=a._allTables[A]?a._allTables[A].hook:An(null,{creating:[Gn,De],reading:[Kr,pt],updating:[qt,De],deleting:[Pn,De]})})),this.Transaction=(p=this,Tr(Rs.prototype,function(A,D,C,L,$){var N=this;this.db=p,this.mode=A,this.storeNames=D,this.schema=C,this.chromeTransactionDurability=L,this.idbtrans=null,this.on=An(this,"complete","error","abort"),this.parent=$||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ce(function(M,R){N._resolve=M,N._reject=R}),this._completion.then(function(){N.active=!1,N.on.complete.fire()},function(M){var R=N.active;return N.active=!1,N.on.error.fire(M),N.parent?N.parent._reject(M):R&&N.idbtrans&&N.idbtrans.abort(),rt(M)})})),this.Version=(b=this,Tr(c.prototype,function(A){this.db=b,this._cfg={version:A,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,Tr(Ri.prototype,function(A,D,C){if(this.db=w,this._ctx={table:A,index:D===":id"?null:D,or:C},this._cmp=this._ascending=He,this._descending=function(L,$){return He($,L)},this._max=function(L,$){return 0<He(L,$)?L:$},this._min=function(L,$){return He(L,$)<0?L:$},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new de.MissingAPI})),this.on("versionchange",function(A){0<A.newVersion?console.warn("Another connection wants to upgrade database '".concat(u.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(u.name,"'. Closing db now to resume the delete request.")),u.close({disableAutoOpen:!1})}),this.on("blocked",function(A){!A.newVersion||A.newVersion<A.oldVersion?console.warn("Dexie.delete('".concat(u.name,"') was blocked")):console.warn("Upgrade '".concat(u.name,"' blocked by other connection holding version ").concat(A.oldVersion/10))}),this._maxKey=Dr(s.IDBKeyRange),this._createTransaction=function(A,D,C,L){return new u.Transaction(A,D,C,u._options.chromeTransactionDurability,L)},this._fireOnBlocked=function(A){u.on("blocked").fire(A),Hn.filter(function(D){return D.name===u.name&&D!==u&&!D._state.vcFired}).map(function(D){return D.on("versionchange").fire(A)})},this.use(Rt),this.use(or),this.use(mn),this.use(Zt),this.use(xn);var x=new Proxy(this,{get:function(A,D,C){if(D==="_vip")return!0;if(D==="table")return function($){return si(u.table($),x)};var L=Reflect.get(A,D,C);return L instanceof yt?si(L,x):D==="tables"?L.map(function($){return si($,x)}):D==="_createTransaction"?function(){return si(L.apply(this,arguments),x)}:L}});this.vip=x,d.forEach(function(A){return A(u)})}var tn,Et=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",On=(oi.prototype.subscribe=function(n,s,u){return this._subscribe(n&&typeof n!="function"?n:{next:n,error:s,complete:u})},oi.prototype[Et]=function(){return this},oi);function oi(n){this._subscribe=n}try{tn={indexedDB:S.indexedDB||S.mozIndexedDB||S.webkitIndexedDB||S.msIndexedDB,IDBKeyRange:S.IDBKeyRange||S.webkitIDBKeyRange}}catch{tn={indexedDB:null,IDBKeyRange:null}}function ar(n){var s,u=!1,d=new On(function(y){var a=Me(n),p,b=!1,w={},E={},x={get closed(){return b},unsubscribe:function(){b||(b=!0,p&&p.abort(),A&&Cn.storagemutated.unsubscribe(C))}};y.start&&y.start(x);var A=!1,D=function(){return er(L)},C=function($){xe(w,$),lt(E,w)&&D()},L=function(){var $,N,M;!b&&tn.indexedDB&&(w={},$={},p&&p.abort(),p=new AbortController,M=function(R){var j=Tn();try{a&&Zn();var K=ln(n,R);return K=a?K.finally(Sn):K}finally{j&&Jn()}}(N={subscr:$,signal:p.signal,requery:D,querier:n,trans:null}),Promise.resolve(M).then(function(R){u=!0,s=R,b||N.signal.aborted||(w={},function(j){for(var K in j)if(W(j,K))return;return 1}(E=$)||A||(Cn(xr,C),A=!0),er(function(){return!b&&y.next&&y.next(R)}))},function(R){u=!1,["DatabaseClosedError","AbortError"].includes(R==null?void 0:R.name)||b||er(function(){b||y.error&&y.error(R)})}))};return setTimeout(D,0),x});return d.hasValue=function(){return u},d.getValue=function(){return s},d}var nn=gn;function ur(n){var s=Nn;try{Nn=!0,Cn.storagemutated.fire(n),dn(n,!0)}finally{Nn=s}}ae(nn,l(l({},ht),{delete:function(n){return new nn(n,{addons:[]}).delete()},exists:function(n){return new nn(n,{addons:[]}).open().then(function(s){return s.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(n){try{return s=nn.dependencies,u=s.indexedDB,s=s.IDBKeyRange,(_(u)?Promise.resolve(u.databases()).then(function(d){return d.map(function(y){return y.name}).filter(function(y){return y!==Er})}):v(u,s).toCollection().primaryKeys()).then(n)}catch{return rt(new de.MissingAPI)}var s,u},defineClass:function(){return function(n){H(this,n)}},ignoreTransaction:function(n){return me.trans?cn(me.transless,n):n()},vip:k,async:function(n){return function(){try{var s=Fn(n.apply(this,arguments));return s&&typeof s.then=="function"?s:ce.resolve(s)}catch(u){return rt(u)}}},spawn:function(n,s,u){try{var d=Fn(n.apply(u,s||[]));return d&&typeof d.then=="function"?d:ce.resolve(d)}catch(y){return rt(y)}},currentTransaction:{get:function(){return me.trans||null}},waitFor:function(n,s){return s=ce.resolve(typeof n=="function"?nn.ignoreTransaction(n):n).timeout(s||6e4),me.trans?me.trans.waitFor(s):s},Promise:ce,debug:{get:function(){return vt},set:function(n){bt(n)}},derive:Z,extend:H,props:ae,override:Ue,Events:An,on:Cn,liveQuery:ar,extendObservabilitySet:xe,getByKeyPath:Ce,setByKeyPath:f,delByKeyPath:function(n,s){typeof s=="string"?f(n,s,void 0):"length"in s&&[].map.call(s,function(u){f(n,u,void 0)})},shallowClone:Je,deepClone:be,getObjectDiff:Yn,cmp:He,asap:$e,minKey:-1/0,addons:[],connections:Hn,errnames:dt,dependencies:tn,cache:et,semVer:"4.0.8",version:"4.0.8".split(".").map(function(n){return parseInt(n)}).reduce(function(n,s,u){return n+s/Math.pow(10,2*u)})})),nn.maxKey=Dr(nn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Cn(xr,function(n){Nn||(n=new CustomEvent(Or,{detail:n}),Nn=!0,dispatchEvent(n),Nn=!1)}),addEventListener(Or,function(n){n=n.detail,Nn||ur(n)}));var Dn,Nn=!1,Lr=function(){};return typeof BroadcastChannel<"u"&&((Lr=function(){(Dn=new BroadcastChannel(Or)).onmessage=function(n){return n.data&&ur(n.data)}})(),typeof Dn.unref=="function"&&Dn.unref(),Cn(xr,function(n){Nn||Dn.postMessage(n)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(n){if(!gn.disableBfCache&&n.persisted){vt&&console.debug("Dexie: handling persisted pagehide"),Dn!=null&&Dn.close();for(var s=0,u=Hn;s<u.length;s++)u[s].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(n){!gn.disableBfCache&&n.persisted&&(vt&&console.debug("Dexie: handling persisted pageshow"),Lr(),ur({all:new I(-1/0,[[]])}))})),ce.rejectionMapper=function(n,s){return!n||n instanceof Ke||n instanceof TypeError||n instanceof SyntaxError||!n.name||!Xe[n.name]?n:(s=new Xe[n.name](s||n.message,n),"stack"in n&&J(s,"stack",{get:function(){return this.inner.stack}}),s)},bt(vt),l(gn,Object.freeze({__proto__:null,Dexie:gn,liveQuery:ar,Entity:ki,cmp:He,PropModSymbol:ut,PropModification:nr,replacePrefix:function(n,s){return new nr({replacePrefix:[n,s]})},add:function(n){return new nr({add:n})},remove:function(n){return new nr({remove:n})},default:gn,RangeSet:I,mergeRanges:Y,rangesOverlap:q}),{default:gn}),gn})})(_u);var jd=_u.exports;const fo=Ss(jd),pa=Symbol.for("Dexie"),ho=globalThis[pa]||(globalThis[pa]=fo);if(fo.semVer!==ho.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${fo.semVer} and ${ho.semVer}`);const Hd="yuimarldb1";class to extends ho{constructor(){super(Hd);z(this,"projects");z(this,"trees");this.version(1).stores({projects:"id",trees:"id"}),this.projects=this.table("projects"),this.trees=this.table("trees")}}class ma{constructor(e,r,l){z(this,"id");z(this,"showDone");z(this,"delayRed");this.id=e,this.showDone=r,this.delayRed=l}}class qd{constructor(e,r,l){z(this,"id");z(this,"open");z(this,"color");this.id=e,this.open=r,this.color=l}}class Bd{constructor(){z(this,"id","ganttframe");z(this,"width",0);z(this,"height",0);z(this,"columnHeader",new xu(this));z(this,"columnBody",new Ou(this));z(this,"columnScroll",new Du(this));z(this,"calendarHeader",new ku(this));z(this,"calendarBody",new Lu(this));z(this,"calendarScroll",new $u(this));z(this,"ticketModal",new Md);z(this,"ganttRow",new Cu);z(this,"sch",new Pu(this));z(this,"scv",new Iu(this));z(this,"colW",0);z(this,"calendarLeft",0);z(this,"calendarStart",ft());z(this,"calendarEnd",ft());z(this,"calendarTotalWidth",0);z(this,"ticketsTotalHeight",0);z(this,"ticketsFrameHeight",0);z(this,"schThreshold",0);z(this,"posX",0);z(this,"cols",[]);z(this,"holidays",[]);z(this,"tickets",[]);z(this,"lines",[]);z(this,"treeList",[]);z(this,"projectId",null);z(this,"showDone",!1);z(this,"delayRed",!1);z(this,"startY",0);z(this,"startX",0);z(this,"diffX",0);z(this,"diffY",0);z(this,"clicked",!1);z(this,"moving",!1);z(this,"movingTicket",null);z(this,"movingLine",-1);z(this,"hoverLine",-1);z(this,"dropPos","");z(this,"_idb");this._idb=new to;const e=document.querySelector("#projectId"),r=document.querySelector("#startdate"),l=document.querySelector("#enddate");this.projectId=(e==null?void 0:e.value)??null,this.calendarStart=ft(`${(r==null?void 0:r.value)??""}`),this.calendarEnd=ft(`${(l==null?void 0:l.value)??""}`);const m=document.querySelector("#holidays");m!=null&&m.value&&(this.holidays=m.value.split(",").map(T=>ft(T)).filter(T=>T.isValid()));const S=document.querySelector("#tickets");S!=null&&S.value&&(this.tickets=JSON.parse(S.value)),this.cols=[{name:"ID",width:54},{name:"ãã±ããå",width:320},{name:"éå§æ¥",width:67},{name:"çµäºæ¥",width:67},{name:"é²æ",width:36}],this.build(),this.handler()}resetLines(e=""){this.lines=[],this.setPos(this.tickets,"",0,-1,e)}setPos(e,r,l,m,S){let T=0,P=m;for(const H of e)H.progress===100&&this.showDone===!1||(H.pos=r.length===0?`${T}`:`${r},${T}`,T++,P++,H.level=l,H.line=P,H.y1=P*Ge,H.y2=(P+1)*Ge,this.lines.push(H),H.id===S?(this.ganttRow.y1=H.y1,this.ganttRow.y2=H.y2):!H.moving&&H.open&&H.children.length>0&&(P=this.setPos(H.children,H.pos,l+1,P,S)));return P}async readProject(){try{if(!this.projectId)return;this._idb||(this._idb=new to);let e=await this._idb.projects.get(this.projectId);if(e){this.showDone=e.showDone,this.delayRed=e.delayRed;const r=document.querySelector("#showdone");r&&(r.checked=this.showDone);const l=document.querySelector("#delayred");l&&(l.checked=this.delayRed)}}catch(e){throw Error(`${e}`)}}async readTreeList(){try{this.treeList=[],this._idb||(this._idb=new to),await this._idb.trees.each(e=>{this.setTreeOpen(e.id,e.open,this.tickets),this.treeList.push(e)})}catch(e){throw Error(`${e}`)}}setTreeOpen(e,r,l){for(const m of l){if(m.id===e)return m.open=r,!0;if(this.setTreeOpen(e,r,m.children))return!0}return!1}build(){const e=document.querySelector(`#${this.id}`);if(!e){console.error("Failed to get #ganttframe!");return}this.width=e.offsetWidth,this.height=e.offsetHeight,this.colW=this.columnWidth(),this.calendarLeft=this.colW+1,this.schThreshold=this.calendarLeft+Ht;const r=document.createDocumentFragment();this.columnBody.build(r),this.columnHeader.build(r),this.columnScroll.build(r),this.calendarBody.build(r),this.calendarHeader.build(r),this.calendarScroll.build(r);const l=this.calendarEnd.diff(this.calendarStart,"day");this.calendarTotalWidth=(l+1)*mt,e.append(r)}handler(){this.columnBody.handler(),this.calendarScroll.handler(),this.sch.handler(),this.scv.handler(),this.ticketModal.handler();const e=document.querySelector("#btnSave");e&&e.addEventListener("click",()=>{this.save()})}save(){Hs("#loading").removeClass("d-none"),Hs.ajax({type:"POST",url:"/api/ganttUpdate",data:{project_id:this.projectId??"",tickets:JSON.stringify(this.tickets)},success:function(e){Hs("#loading").addClass("d-none"),console.log(e)}})}resize(){const e=document.querySelector("#flexbox");if(!e){console.error("Failed to get #flexbox!");return}const r=document.querySelector("#ganttbase");if(!r){console.error("Failed to get #ganttbase!");return}r.style.width=`${e.offsetWidth-he}px`;const l=document.querySelector(`#${this.id}`);if(!l){console.error("Failed to get #ganttframe!");return}this.width=l.offsetWidth,this.height=l.offsetHeight,this.colW=this.columnWidth(),this.calendarLeft=this.colW+1,this.schThreshold=this.calendarLeft+Ht,this.sch.pos=0,this.calendarScroll.pos=0,this.calendarBody.resize(),this.calendarHeader.resize(),this.calendarScroll.resize(),this.scrollH(0)}draw(){this.columnBody.draw(),this.calendarHeader.draw(),this.calendarBody.draw(),this.calendarScroll.draw(),this.sch.draw(),this.scv.draw()}scrollH(e){this.posX=e*this.schThreshold/(this.width-he-he),this.columnBody.scrollH(this.posX),this.columnHeader.scrollH(this.posX),this.columnScroll.scrollH(this.posX),this.calendarHeader.scrollH(this.posX),this.calendarBody.scrollH(this.posX),this.calendarScroll.scrollH(this.posX)}scrollV(e){this.columnBody.scrollV(e),this.calendarBody.scrollV(e)}columnWidth(){let e=2;for(let r of this.cols)e+=r.width;return e}mouseDownCalScroll(e){this.calendarScroll.mouseDownCalScroll(e)}mouseMoveCalScroll(e){this.calendarScroll.mouseMoveCalScroll(e)}mouseUpCalScroll(){this.calendarScroll.mouseUpCalScroll()}mouseDownScrollH(e){this.sch.mouseDownScrollH(e)}mouseMoveScrollH(e){this.sch.mouseMoveScrollH(e)}mouseUpScrollH(){this.sch.mouseUpScrollH()}mouseDownScrollV(e){this.scv.mouseDownScrollV(e)}mouseMoveScrollV(e){this.scv.mouseMoveScrollV(e)}mouseUpScrollV(){this.scv.mouseUpScrollV()}async nodeOpenClose(e,r){var l;try{let m=new qd(e,r,"");await((l=this._idb)==null?void 0:l.trees.put(m)),await this.readTreeList(),this.resetLines(),this.draw()}catch(m){throw Error(`${m}`)}}async setShowDone(e){var r;this.showDone=e;try{if(!this.projectId)return;this.resetLines(),this.ganttRow.y1=-1,this.ganttRow.y2=-1;let l=new ma(this.projectId,e,this.delayRed);await((r=this._idb)==null?void 0:r.projects.put(l)),this.draw()}catch(l){throw Error(`${l}`)}}async setDelayRed(e){var r;this.delayRed=e;try{if(!this.projectId)return;let l=new ma(this.projectId,this.showDone,e);await((r=this._idb)==null?void 0:r.projects.put(l)),this.draw()}catch(l){throw Error(`${l}`)}}}const cr=new Bd,Kd=async()=>{await cr.readProject(),await cr.readTreeList(),cr.resetLines(),cr.draw()};Kd().catch(h=>{console.error(h),window.alert(`ã¨ã©ã¼ãçºçãã¾ããã: ${h}`)});window.addEventListener("resize",function(){cr.resize(),cr.draw()});const no=document.querySelector("#showdone");no&&no.addEventListener("change",function(){cr.setShowDone(no.checked)});const ro=document.querySelector("#delayred");ro&&ro.addEventListener("change",function(){cr.setDelayRed(ro.checked)});
